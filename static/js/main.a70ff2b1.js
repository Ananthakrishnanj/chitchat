/*! For license information please see main.a70ff2b1.js.LICENSE.txt */
(function(){var __webpack_modules__={426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Qn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?d(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function _(e,t){var n,r,i,o=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=b[n]])||(e[r]=i);return e}function S(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function E(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,N={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),N[e]||(k(t),N[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e){var t,n;for(n in e)s(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=d({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function U(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},j={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=B(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=A(r[i])?r[i].call(t,e):r[i];return o}}function z(e,t){return e.isValid()?(t=H(t,e.localeData()),L[t]=L[t]||q(t),L[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function Q(){return this._invalidDate}var K="%d",Z=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var ve,ge=/\d/,ye=/\d\d/,be=/\d{3}/,we=/\d{4}/,_e=/[+-]?\d{6}/,Se=/\d\d?/,Ee=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Te=/\d{1,3}/,Ie=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Ce=/\d+/,Ae=/[+-]?\d+/,xe=/Z|[+-]\d\d:?\d\d/gi,Pe=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){ve[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Ue(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Le={};function je(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Le[e[n]]=i}function Ve(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Be(e,t,n){null!=t&&s(Le,e)&&Le[e](t,n._a,n,e)}var qe,ze=0,He=1,Ge=2,We=3,Ye=4,Qe=5,Ke=6,Ze=7,$e=8;function Xe(e,t){return(e%t+t)%t}function Je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Re("M",Se),Re("MM",Se,ye),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[He]=le(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[He]=i:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=De,it=De;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,a))?i:null:-1!==(i=qe.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,a))||-1!==(i=qe.call(this._longMonthsParse,a))?i:null:-1!==(i=qe.call(this._longMonthsParse,a))||-1!==(i=qe.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Je(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)o[t]=Fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?U(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Re("Y",Ae),Re("YY",Se,ye),Re("YYYY",Ie,we),Re("YYYYY",Ne,_e),Re("YYYYYY",Ne,_e),je(["YYYYY","YYYYYY"],ze),je("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):le(e)})),je("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var vt=fe("FullYear",!0);function gt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?a=mt(o=e-1)+s:s>mt(e)?(o=e+1,a=s-mt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function St(e,t,n){var r,i,o=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Et(i=e.year()-1,t,n):a>Et(e.year(),t,n)?(r=a-Et(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Et(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(mt(e)-r+i)/7}function kt(e){return St(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Re("w",Se),Re("ww",Se,ye),Re("W",Se),Re("WW",Se,ye),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Tt={dow:0,doy:6};function It(){return this._week.dow}function Nt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function xt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Re("d",Se),Re("e",Se),Re("E",Se),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=De,Ft=De,Lt=De;function jt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,a))||-1!==(i=qe.call(this._shortWeekdaysParse,a))||-1!==(i=qe.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,a))||-1!==(i=qe.call(this._weekdaysParse,a))||-1!==(i=qe.call(this._minWeekdaysParse,a))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,a))||-1!==(i=qe.call(this._weekdaysParse,a))||-1!==(i=qe.call(this._shortWeekdaysParse,a))?i:null}function zt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=xt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),o=Fe(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);a.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Jt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+$t.apply(this)+U(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+U(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),ne("hour","h"),ae("hour",13),Re("a",en),Re("A",en),Re("H",Se),Re("h",Se),Re("k",Se),Re("HH",Se,ye),Re("hh",Se,ye),Re("kk",Se,ye),Re("hmm",Ee),Re("hmmss",ke),Re("Hmm",Ee),Re("Hmmss",ke),je(["H","HH"],We),je(["k","kk"],(function(e,t,n){var r=le(e);t[We]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[We]=le(e),v(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r)),v(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Qe]=le(e.substr(i)),v(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Qe]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:D,longDateFormat:G,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:Z,relativeTime:X,months:et,monthsShort:tt,week:Tt,weekdays:Dt,weekdaysMin:Ut,weekdaysShort:Rt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=fn(e[o]).split("-")).length,n=(n=fn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}o++}return an}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){un[t]=null}return un[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new O(P(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),mn(e),un[e]}return delete un[e],null}function gn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(P(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=un[e],un[e]=n),mn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===mn()&&mn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function bn(){return I(un)}function wn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[He]<0||n[He]>11?He:n[Ge]<1||n[Ge]>Je(n[ze],n[He])?Ge:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Ye]||0!==n[Qe]||0!==n[Ke])?We:n[Ye]<0||n[Ye]>59?Ye:n[Qe]<0||n[Qe]>59?Qe:n[Ke]<0||n[Ke]>999?Ke:-1,v(e)._overflowDayOfYear&&(t<ze||t>Ge)&&(t=Ge),v(e)._overflowWeeks&&-1===t&&(t=Ze),v(e)._overflowWeekday&&-1===t&&(t=$e),v(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,Nn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,o,a,s=e._i,u=_n.exec(s)||Sn.exec(s),c=kn.length,l=Tn.length;if(u){for(v(e).iso=!0,t=0,n=c;t<n;t++)if(kn[t][1].exec(u[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(Tn[t][1].exec(u[3])){o=(u[2]||" ")+Tn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Bn(e)}else e._isValid=!1}function xn(e,t,n,r,i,o){var a=[Pn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Un(e){var t,n=Nn.exec(On(e._i));if(n){if(t=xn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=In.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Un(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function Ln(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function jn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Ln(e),e._w&&null==e._a[Ge]&&null==e._a[He]&&Vn(e),null!=e._dayOfYear&&(o=Fn(e._a[ze],r[ze]),(e._dayOfYear>mt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Ye]&&0===e._a[Qe]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,o,a,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Fn(t.GG,e._a[ze],St(Kn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=St(Kn(),o,a),n=Fn(t.gg,e._a[ze],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Et(n,o,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=_t(n,r,i,o,a),e._a[ze]=s.year,e._dayOfYear=s.dayOfYear)}function Bn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,a,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=H(e._f,e._locale).match(M)||[]).length,t=0;t<u;t++)o=i[t],(n=(c.match(Ue(o,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&v(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),f+=n.length),j[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),Be(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=l-f,c.length>0&&v(e).unusedInput.push(c),e._a[We]<=12&&!0===v(e).bigHour&&e._a[We]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[We]=qn(e._locale,e._a[We],e._meridiem),null!==(s=v(e).era)&&(e._a[ze]=e._locale.erasConvertYear(s,e._a[ze])),jn(e),wn(e)}else Un(e);else An(e)}function qn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function zn(e){var t,n,r,i,o,a,s=!1,u=e._f.length;if(0===u)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)o=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Bn(t),g(t)&&(a=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));d(e,n||t)}function Hn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),jn(e)}}function Gn(e){var t=new S(wn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new S(wn(t)):(f(t)?e._d=t:o(n)?zn(e):n?Bn(e):Yn(e),g(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),jn(e)):a(t)?Hn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Qn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Gn(s)}function Kn(e,t,n,r){return Qn(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),$n=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Xn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===qe.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Cr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&a++;return a+o}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Re("Z",Pe),Re("ZZ",Pe),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Pe,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Dr(this,Cr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(xe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,o=e,a=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Ir.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:le(a[Ge])*n,h:le(a[We])*n,m:le(a[Ye])*n,s:le(a[Qe])*n,ms:le(ur(1e3*a[Ke]))*n}):(a=Nr.exec(e))?(n="-"===a[1]?-1:1,o={y:Ar(a[2],n),M:Ar(a[3],n),w:Ar(a[4],n),d:Ar(a[5],n),h:Ar(a[6],n),m:Ar(a[7],n),s:Ar(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Pr(Kn(o.from),Kn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function xr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=xr(e,t):((n=xr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Cr(n,r),e),this}}function Dr(e,t,n,i){var o=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),a&&de(e,"Date",he(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Cr.fn=ar.prototype,Cr.invalid=or;var Rr=Or(1,"add"),Ur=Or(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Fr(e){return E(e)||f(e)||Mr(e)||l(e)||jr(e)||Lr(e)||null===e||void 0===e}function Lr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||s(e,n);return r&&i}function jr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function Vr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Br(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qr(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=dr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Kn(n)))}function zr(){return new S(this)}function Hr(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=E(e)?e:Kn(e),o=E(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Yr(e,t){var n,r=E(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=$r(this,r)/12;break;case"month":o=$r(this,r);break;case"quarter":o=$r(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ce(o)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Kn(),e)}function ii(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function ki(){return g(this)}function Ti(){return d({},v(this))}function Ii(){return v(this).overflow}function Ni(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,o,a=this._eras||yn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ai(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function xi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Ui(e){return s(this,"_erasNameRegex")||qi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||qi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return s(this,"_erasNarrowRegex")||qi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Li(e,t){return t.erasAbbrRegex(e)}function ji(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function Bi(e,t){return t._eraYearOrdinalRegex||Ce}function qi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Fe(a[e].name)),n.push(Fe(a[e].abbr)),i.push(Fe(a[e].narrow)),o.push(Fe(a[e].name)),o.push(Fe(a[e].abbr)),o.push(Fe(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function zi(e,t){V(0,[e,e.length],0,t)}function Hi(e){return Zi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return Et(this.year(),1,4)}function Yi(){return Et(this.isoWeekYear(),1,4)}function Qi(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var o;return null==e?St(this,r,i).year:(t>(o=Et(e,r,i))&&(t=o),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var o=_t(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",Li),Re("NN",Li),Re("NNN",Li),Re("NNNN",ji),Re("NNNNN",Vi),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",Bi),je(["y","yy","yyy","yyyy"],ze),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,i):t[ze]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zi("gggg","weekYear"),zi("ggggg","weekYear"),zi("GGGG","isoWeekYear"),zi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Re("G",Ae),Re("g",Ae),Re("GG",Se,ye),Re("gg",Se,ye),Re("GGGG",Ie,we),Re("gggg",Ie,we),Re("GGGGG",Ne,_e),Re("ggggg",Ne,_e),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Re("Q",ge),je("Q",(function(e,t){t[He]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Re("D",Se),Re("DD",Se,ye),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],Ge),je("Do",(function(e,t){t[Ge]=le(e.match(Se)[0])}));var Ji=fe("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Re("DDD",Te),Re("DDDD",be),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Re("m",Se),Re("mm",Se,ye),je(["m","mm"],Ye);var to=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Re("s",Se),Re("ss",Se,ye),je(["s","ss"],Qe);var no,ro,io=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Re("S",Te,ge),Re("SS",Te,ye),Re("SSS",Te,be),no="SSSS";no.length<=9;no+="S")Re(no,Ce);function oo(e,t){t[Ke]=le(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")je(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var uo=S.prototype;function co(e){return Kn(1e3*e)}function lo(){return Kn.apply(null,arguments).parseZone()}function fo(e){return e}uo.add=Rr,uo.calendar=qr,uo.clone=zr,uo.diff=Zr,uo.endOf=gi,uo.format=ti,uo.from=ni,uo.fromNow=ri,uo.to=ii,uo.toNow=oi,uo.get=pe,uo.invalidAt=Ii,uo.isAfter=Hr,uo.isBefore=Gr,uo.isBetween=Wr,uo.isSame=Yr,uo.isSameOrAfter=Qr,uo.isSameOrBefore=Kr,uo.isValid=ki,uo.lang=si,uo.locale=ai,uo.localeData=ui,uo.max=$n,uo.min=Zn,uo.parsingFlags=Ti,uo.set=me,uo.startOf=vi,uo.subtract=Ur,uo.toArray=_i,uo.toObject=Si,uo.toDate=wi,uo.toISOString=Jr,uo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Ei,uo.toString=Xr,uo.unix=bi,uo.valueOf=yi,uo.creationData=Ni,uo.eraName=Pi,uo.eraNarrow=Oi,uo.eraAbbr=Di,uo.eraYear=Ri,uo.year=vt,uo.isLeapYear=gt,uo.weekYear=Hi,uo.isoWeekYear=Gi,uo.quarter=uo.quarters=Xi,uo.month=lt,uo.daysInMonth=ft,uo.week=uo.weeks=Ct,uo.isoWeek=uo.isoWeeks=At,uo.weeksInYear=Qi,uo.weeksInWeekYear=Ki,uo.isoWeeksInYear=Wi,uo.isoWeeksInISOWeekYear=Yi,uo.date=Ji,uo.day=uo.days=Ht,uo.weekday=Gt,uo.isoWeekday=Wt,uo.dayOfYear=eo,uo.hour=uo.hours=rn,uo.minute=uo.minutes=to,uo.second=uo.seconds=io,uo.millisecond=uo.milliseconds=ro,uo.utcOffset=mr,uo.utc=gr,uo.local=yr,uo.parseZone=br,uo.hasAlignedHourOffset=wr,uo.isDST=_r,uo.isLocal=Er,uo.isUtcOffset=kr,uo.isUtc=Tr,uo.isUTC=Tr,uo.zoneAbbr=ao,uo.zoneName=so,uo.dates=T("dates accessor is deprecated. Use date instead.",Ji),uo.months=T("months accessor is deprecated. Use month instead",lt),uo.years=T("years accessor is deprecated. Use year instead",vt),uo.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),uo.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var ho=O.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function mo(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function vo(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),a=e?o._week.dow:0,s=[];if(null!=n)return po(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=po(t,(i+a)%7,r,"day");return s}function go(e,t){return mo(e,t,"months")}function yo(e,t){return mo(e,t,"monthsShort")}function bo(e,t,n){return vo(e,t,n,"weekdays")}function wo(e,t,n){return vo(e,t,n,"weekdaysShort")}function _o(e,t,n){return vo(e,t,n,"weekdaysMin")}ho.calendar=R,ho.longDateFormat=W,ho.invalidDate=Q,ho.ordinal=$,ho.preparse=fo,ho.postformat=fo,ho.relativeTime=J,ho.pastFuture=ee,ho.set=x,ho.eras=Ci,ho.erasParse=Ai,ho.erasConvertYear=xi,ho.erasAbbrRegex=Mi,ho.erasNameRegex=Ui,ho.erasNarrowRegex=Fi,ho.months=ot,ho.monthsShort=at,ho.monthsParse=ut,ho.monthsRegex=dt,ho.monthsShortRegex=ht,ho.week=kt,ho.firstDayOfYear=Nt,ho.firstDayOfWeek=It,ho.weekdays=jt,ho.weekdaysMin=Bt,ho.weekdaysShort=Vt,ho.weekdaysParse=zt,ho.weekdaysRegex=Yt,ho.weekdaysShortRegex=Qt,ho.weekdaysMinRegex=Kt,ho.isPM=tn,ho.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",yn);var So=Math.abs;function Eo(){var e=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),e.milliseconds=So(e.milliseconds),e.seconds=So(e.seconds),e.minutes=So(e.minutes),e.hours=So(e.hours),e.months=So(e.months),e.years=So(e.years),this}function ko(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function To(e,t){return ko(this,e,t,1)}function Io(e,t){return ko(this,e,t,-1)}function No(e){return e<0?Math.floor(e):Math.ceil(e)}function Co(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*No(xo(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=ce(o/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,a+=ce(n/24),s+=i=ce(Ao(a)),a-=No(xo(i)),r=ce(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ao(e){return 4800*e/146097}function xo(e){return 146097*e/4800}function Po(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ao(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(xo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Do(e){return function(){return this.as(e)}}var Ro=Do("ms"),Uo=Do("s"),Mo=Do("m"),Fo=Do("h"),Lo=Do("d"),jo=Do("w"),Vo=Do("M"),Bo=Do("Q"),qo=Do("y");function zo(){return Cr(this)}function Ho(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Go(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wo=Go("milliseconds"),Yo=Go("seconds"),Qo=Go("minutes"),Ko=Go("hours"),Zo=Go("days"),$o=Go("months"),Xo=Go("years");function Jo(){return ce(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var i=Cr(e).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),u=ea(i.as("d")),c=ea(i.as("M")),l=ea(i.as("w")),f=ea(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,na.apply(null,h)}function ia(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=sa(this._milliseconds)/1e3,c=sa(this._days),l=sa(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=ua(this._months)!==ua(f)?"-":"",a=ua(this._days)!==ua(f)?"-":"",s=ua(this._milliseconds)!==ua(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var la=ar.prototype;return la.isValid=ir,la.abs=Eo,la.add=To,la.subtract=Io,la.as=Po,la.asMilliseconds=Ro,la.asSeconds=Uo,la.asMinutes=Mo,la.asHours=Fo,la.asDays=Lo,la.asWeeks=jo,la.asMonths=Vo,la.asQuarters=Bo,la.asYears=qo,la.valueOf=Oo,la._bubble=Co,la.clone=zo,la.get=Ho,la.milliseconds=Wo,la.seconds=Yo,la.minutes=Qo,la.hours=Ko,la.days=Zo,la.weeks=Jo,la.months=$o,la.years=Xo,la.humanize=aa,la.toISOString=ca,la.toString=ca,la.toJSON=ca,la.locale=ai,la.localeData=ui,la.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),la.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ae),Re("X",Oe),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Kn),r.fn=uo,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=co,r.months=go,r.isDate=f,r.locale=mn,r.invalid=y,r.duration=Cr,r.isMoment=E,r.weekdays=bo,r.parseZone=lo,r.localeData=yn,r.isDuration=sr,r.monthsShort=yo,r.weekdaysMin=_o,r.defineLocale=vn,r.updateLocale=gn,r.locales=bn,r.weekdaysShort=wo,r.normalizeUnits=re,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Br,r.prototype=uo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)r.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,k=60107,T=60108,I=60114,N=60109,C=60110,A=60112,x=60113,P=60120,O=60115,D=60116,R=60121,U=60128,M=60129,F=60130,L=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;S=j("react.element"),E=j("react.portal"),k=j("react.fragment"),T=j("react.strict_mode"),I=j("react.profiler"),N=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),x=j("react.suspense"),P=j("react.suspense_list"),O=j("react.memo"),D=j("react.lazy"),R=j("react.block"),j("react.scope"),U=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),L=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case I:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return Y(e.type);case R:return Y(e._render);case D:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ve=(me=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ne=null,Ce=null;function Ae(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function Pe(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Ue=Oe,Me=!1,Fe=!1;function Le(){null===Ne&&null===Ce||(Re(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ve=!1}function qe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,He=null,Ge=!1,We=null,Ye={onError:function(e){ze=!0,He=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,He=null,qe.apply(Ye,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ke(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},Tt={};function It(e){if(kt[e])return kt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Nt=It("animationend"),Ct=It("animationiteration"),At=It("animationstart"),xt=It("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ut=8;function Mt(e){if(0!==(1&e))return Ut=15,1;if(0!==(2&e))return Ut=14,2;if(0!==(4&e))return Ut=13,4;var t=24&e;return 0!==t?(Ut=12,t):0!==(32&e)?(Ut=11,32):0!==(t=192&e)?(Ut=10,t):0!==(256&e)?(Ut=9,256):0!==(t=3584&e)?(Ut=8,t):0!==(4096&e)?(Ut=7,4096):0!==(t=4186112&e)?(Ut=6,t):0!==(t=62914560&e)?(Ut=5,t):67108864&e?(Ut=4,67108864):0!==(134217728&e)?(Ut=3,134217728):0!==(t=805306368&e)?(Ut=2,t):0!==(1073741824&e)?(Ut=1,1073741824):(Ut=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Ut=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Ut=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Ut):0!==(s&=o)&&(r=Mt(s),i=Ut)}else 0!==(o=n&~a)?(r=Mt(o),i=Ut):0!==s&&(r=Mt(s),i=Ut);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Ut)return t;Ut=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Lt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?jt(10,t):e;case 10:return 0===(e=Vt(192&~t))?jt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Qt=!0;function Kt(e,t,n,r){Me||Re();var i=$t,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Le()}}function Zt(e,t,n,r){Yt(Wt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var o=Ke(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),Sn=sn(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Nn(){return In}var Cn=i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Cn),xn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),On=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Un=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Fn,jn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Yn(e,t,n,r){xe(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Zn(e){Cr(e,0)}function $n(e){if($(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Jn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Kn=Qn=null)}function ir(e){if("value"===e.propertyName&&$n(Kn)){var t=[];if(Yn(t,Kn,e,Te(e)),e=Zn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Le()}}}}function or(e,t,n){"focusin"===e?(rr(),Kn=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function ur(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==X(r)||("selectionStart"in(r=yr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Er.length;kr++)Ot.set(Er[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=He;ze=!1,He=null,Ge||(Ge=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}}}if(Ge)throw e=We,Ge=!1,We=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[xr]||(e[xr]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Zt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Ue(e,t,n)}finally{Fe=!1,Le()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Nt:case Ct:case At:u=bn;break;case xt:u=On;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=je(p,h))&&l.push(Ur(p,m,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Jr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(m,p+"leave",u,n,i)).target=f,s.relatedTarget=d,m=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,m=h;m;m=Fr(m))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==f&&Lr(a,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Xn;else if(Wn(s))if(Jn)v=ur;else{v=ar;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Yn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(yr=g,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(g=Mr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&qn(e,t)?(e=nn(),tn=en=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Cr(a,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Ur(e,o,i)),null!=(o=je(e,t))&&r.push(Ur(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Ur(n,u,s)):i||null!=(u=je(n,o))&&a.push(Ur(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Vr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var Zr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Zr,Xr="__reactProps$"+Zr,Jr="__reactContainer$"+Zr,ei="__reactEvents$"+Zr;function ti(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[$r])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[$r]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(di),ci(hi)}function yi(e,t,n){if(hi.current!==fi)throw Error(a(168));li(hi,t),li(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Y(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var Si=null,Ei=null,ki=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ai=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Ui=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ci?Ci:function(){},Li=null,ji=null,Vi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function zi(){switch(xi()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Ri:return 96;case Ui:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Ri;case 95:return Ui;default:throw Error(a(332))}}function Gi(e,t){return e=Hi(e),ki(e,t)}function Wi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Yi(){if(null!==ji){var e=ji;ji=null,Ii(e)}Qi()}function Qi(){if(!Vi&&null!==Li){Vi=!0;var e=0;try{var t=Li;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Ti(Pi,Yi),n}finally{Vi=!1}}}var Ki=_.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ui(null),Xi=null,Ji=null,eo=null;function to(){eo=Ji=Xi=null}function no(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Xi)throw Error(a(308));Ji=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),pu(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=vi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=vi(t)?pi:hi.current,i.context=mi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Yu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Yu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case E:return(t=$u(t,e.mode,n)).return=e,t}if(So(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(So(n)||q(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Eo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Yu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return m(e,r,o,u);if(q(o))return v(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,r)}}var Io=To(!0),No=To(!1),Co={},Ao=ui(Co),xo=ui(Co),Po=ui(Co);function Oo(e){if(e===Co)throw Error(a(174));return e}function Do(e,t){switch(li(Po,t),li(xo,e),li(Ao,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ao),li(Ao,t)}function Ro(){ci(Ao),ci(xo),ci(Po)}function Uo(e){Oo(Po.current);var t=Oo(Ao.current),n=de(t,e.type);t!==n&&(li(xo,e),li(Ao,n))}function Mo(e){xo.current===e&&(ci(Ao),ci(xo))}var Fo=ui(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Vo=null,Bo=!1;function qo(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(Bo){var t=Vo;if(t){var n=t;if(!zo(e,t)){if(!(t=Yr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(jo=e);qo(jo,n)}jo=e,Vo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,jo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Wo(e){if(e!==jo)return!1;if(!Bo)return Go(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Vo;t;)qo(e,t),t=Yr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=jo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Vo=jo=null,Bo=!1}var Qo=[];function Ko(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Zo=_.ReactCurrentDispatcher,$o=_.ReactCurrentBatchConfig,Xo=0,Jo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=null===e||null===e.memoizedState?Oa:Da,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Zo.current=Ra,e=n(r,i)}while(ra)}if(Zo.current=Pa,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Jo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Jo.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Jo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Jo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Jo.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function da(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Zo.current,c=u.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=ta;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,m=h.source;h=h.subscribe;var v=Jo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=xa.bind(null,Jo,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return da(ua(),e,t,n)}function ma(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=xa.bind(null,Jo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function ba(e,t,n,r){var i=sa();Jo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Jo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function _a(e,t){return ba(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function Ea(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ia(){}function Na(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=zi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function xa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Pa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Oa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Jo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:Ia,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return _a((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:U,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&Jo.mode)&&(Jo.flags|=516,va(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Na,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Ca,useReducer:la,useRef:ya,useState:function(){return la(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:Na,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Ca,useReducer:fa,useRef:ya,useState:function(){return fa(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ua=_.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?No(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Gu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Su(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Su(t,r);return Fa(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=vi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=mi(t,c=vi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),ao=!1;var h=t.memoizedState;a.state=h,ho(t,r,a,i),u=t.memoizedState,s!==r||h!==u||di.current||ao?("function"===typeof l&&(vo(t,n,l,r),u=t.memoizedState),(s=ao||yo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Zi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=oo(u):u=mi(t,u=vi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&wo(t,a,r,u),ao=!1,h=t.memoizedState,a.state=h,ho(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||di.current||ao?("function"===typeof d&&(vo(t,n,d,r),p=t.memoizedState),(c=ao||yo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){qa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),os(e,t,o);r=t.stateNode,Ua.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Do(e,t.containerInfo)}var Ya,Qa,Ka,Za,$a={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Fo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=$a,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ku(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(a,s),null!==e?r=Wu(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return Ro(),ci(di),ci(hi),Ko(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qa(t),null;case 5:Mo(t);var o=Oo(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(Ao.current),Wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Xr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Xr]=r,Ya(e,t,!1,!1),t.stateNode=e,c=ke(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Ar(Tr[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ar("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(Ao.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Ds||0===(134217727&Bs)&&0===(134217727&qs)||yu(Ds,Us))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),Qa(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Ls||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fo.current,li(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(di),ci(hi),Ko(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(Ao.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===U?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Za=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:ms(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):ks(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=qi(),ys(t.child,!0)),void Ns(t);case 19:return void Ns(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,xs=_.ReactCurrentDispatcher,Ps=_.ReactCurrentOwner,Os=0,Ds=null,Rs=null,Us=0,Ms=0,Fs=ui(0),Ls=0,js=null,Vs=0,Bs=0,qs=0,zs=0,Hs=null,Gs=0,Ws=1/0;function Ys(){Ws=qi()+500}var Qs,Ks=null,Zs=!1,$s=null,Xs=null,Js=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==Ki.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Os)&&98===e?e=jt(12,uu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=mu(e,t)))return null;qt(e,t,n),e===Ds&&(qs|=t,4===Ls&&yu(e,Us));var r=zi();1===t?0!==(8&Os)&&0===(48&Os)?bu(e):(vu(e,n),0===Os&&(Ys(),Yi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Hs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Ut;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ds?Us:0),t=Ut,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=bu.bind(null,e),null===Li?(Li=[n],ji=Ti(Pi,Qi)):Li.push(n),n=Mi):14===t?n=Wi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Wi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Uu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?Us:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Iu();for(Ds===e&&Us===r||(Ys(),ku(e,r));;)try{Au();break}catch(u){Tu(e,u)}if(to(),xs.current=o,Os=i,null!==Rs?r=0:(Ds=null,Us=0,r=Ls),0!==(Vs&qs))ku(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Lt(e))&&(r=Nu(e,n))),1===r)throw t=js,ku(e,0),yu(e,n),vu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Gs+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return vu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Os))throw Error(a(327));if(Uu(),e===Ds&&0!==(e.expiredLanes&Us)){var t=Us,n=Nu(e,t);0!==(Vs&qs)&&(n=Nu(e,t=Ft(e,t)))}else n=Nu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Lt(e))&&(n=Nu(e,t))),1===n)throw n=js,ku(e,0),yu(e,t),vu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),vu(e,qi()),null}function wu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Ys(),Yi())}}function _u(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Ys(),Yi())}}function Su(e,t){li(Fs,Ms),Ms|=t,Vs|=t}function Eu(){Ms=Fs.current,ci(Fs)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ro(),ci(di),ci(hi),Ko();break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ci(Fo);break;case 10:no(r);break;case 23:case 24:Eu()}n=n.return}Ds=e,Rs=Wu(e.current,null),Us=Ms=Vs=t,Ls=0,js=null,zs=qs=Bs=0}function Tu(e,t){for(;;){var n=Rs;try{if(to(),Zo.current=Pa,na){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Jo=null,ra=!1,Ps.current=null,null===n||null===n.return){Ls=1,js=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Us,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var g=new Set;g.add(c),h.updateQueue=g}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,fo(h,hs(0,o,t));break e;case 1:o=u;var _=h.type,S=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Xs||!Xs.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,fo(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(E){t=E,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Iu(){var e=xs.current;return xs.current=Pa,null===e?Pa:e}function Nu(e,t){var n=Os;Os|=16;var r=Iu();for(Ds===e&&Us===t||ku(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(to(),Os=n,xs.current=r,null!==Rs)throw Error(a(261));return Ds=null,Us=0,Ls}function Cu(){for(;null!==Rs;)xu(Rs)}function Au(){for(;null!==Rs&&!Ni();)xu(Rs)}function xu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ou(e){var t=zi();return Gi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Uu()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Us=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Vr=Qt,vr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(h=f+o),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===o&&(h=f),g===c&&++m===l&&(d=f),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Ks=r;do{try{Ru()}catch(I){if(null===Ks)throw Error(a(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ge(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Ss(Ks),Ks.flags&=-3;break;case 6:Ss(Ks),Ks.flags&=-3,Is(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Is(Ks.alternate,Ks);break;case 4:Is(Ks.alternate,Ks);break;case 8:Ts(s,u=Ks);var S=u.alternate;ws(u),null!==S&&ws(S)}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(a(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);if(_=Br,w=mr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!_.extend&&S>s&&(u=s,s=S,S=u),u=dr(b,S),o=dr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),S>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!Vr,Br=Vr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var E=Ks.flags;if(36&E&&gs(b,Ks.alternate,Ks),128&E){w=void 0;var k=Ks.ref;if(null!==k){var T=Ks.stateNode;Ks.tag,w=T,"function"===typeof k?k(w):k.current=w}}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(a(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Fi(),Os=i}else e.current=n;if(Js)Js=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((E=Ks).sibling=null,E.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(vu(e,qi()),Zs)throw Zs=!1,e=$s,$s=null,e;return 0!==(8&Os)||Yi(),null}function Ru(){for(;null!==Ks;){var e=Ks.alternate;fu||null===lu||(0!==(8&Ks.flags)?Je(Ks,lu)&&(fu=!0):13===Ks.tag&&Cs(e,Ks)&&Je(Ks,lu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Js||(Js=!0,Wi(97,(function(){return Uu(),null}))),Ks=Ks.nextEffect}}function Uu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Gi(e,Lu)}return!1}function Mu(e,t){nu.push(t,e),Js||(Js=!0,Wi(97,(function(){return Uu(),null})))}function Fu(e,t){ru.push(t,e),Js||(Js=!0,Wi(97,(function(){return Uu(),null})))}function Lu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Yi(),!0}function ju(e,t,n){lo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=mu(e,1))&&(qt(e,1,t),vu(e,t))}function Vu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(lo(n,i),i=hu(),null!==(n=mu(n,1)))qt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Us&n)===n&&(4===Ls||3===Ls&&(62914560&Us)===Us&&500>qi()-Gs?ku(e,0):zs|=n),vu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=mu(e,t))&&(qt(e,t,n),vu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Gu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Gu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Qu(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case I:return(e=Hu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case x:return(e=Hu(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case P:return(e=Hu(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return Ku(n,i,o,t);case L:return(e=Hu(24,n,t,i)).elementType=L,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case C:s=9;break e;case A:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=F,e.lanes=n,e}function Zu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Ju(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=bi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),pu(i,s,o),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Jr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(a);s.call(e)}}Ju(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(a);u.call(e)}}_u((function(){Ju(t,a,e,i)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Wa(t),Yo();break;case 5:Uo(t);break;case 1:vi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xa(e,t,n):(li(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Gu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Zi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Zi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Yr(t.stateNode.containerInfo.firstChild),jo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return Uo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),qa(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Xa(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(-1,n&-n)).tag=2,lo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ro(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Zi(i=t.type,t.pendingProps),ja(e,t,i,o=Zi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),_o(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=wu,De=function(e,t,n,r,i){var o=Os;Os|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Ys(),Yi())}},Re=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,qi())}))}Yi()}(),Uu())},Ue=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Ys(),Yi())}};var sc={Events:[ni,ri,ii,xe,Pe,Uu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Si=lc.inject(cc),Ei=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Os=n,Yi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return oc(e,t,n,!1,r)},t.version="17.0.1"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),N(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=N(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function P(){var e=x.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.1"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(m=!1,v=null)}catch(n){throw _.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,_.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],N=[],C=1,A=null,x=3,P=!1,O=!1,D=!1;function R(e){for(var t=E(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,S(I,t)}t=E(N)}}function U(e){if(D=!1,R(e),!O)if(null!==E(I))O=!0,n(M);else{var t=E(N);null!==t&&r(U,t.startTime-e)}}function M(e,n){O=!1,D&&(D=!1,i()),P=!0;var o=x;try{for(R(n),A=E(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===E(I)&&k(I),R(n)}else k(I);A=E(I)}if(null!==A)var u=!0;else{var c=E(N);null!==c&&r(U,c.startTime-n),u=!1}return u}finally{A=null,x=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(N,e),null===E(I)&&e===E(N)&&(D?i():D=!0,r(U,a-s))):(e.sortIndex=u,S(I,e),O||P||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},984:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function _mergeNamespaces(e,t){return t.forEach((function(t){Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports}__webpack_require__.d(__webpack_exports__,{Z:function(){return imageCompression}});var UZIP_1=createCommonjsModule((function(e){var t,n,r={};e.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,i=r.bin.readUint,o=0,a={},s=new Uint8Array(e),u=s.length-4;101010256!=i(s,u);)u--;o=u,o+=4;var c=n(s,o+=4);n(s,o+=2);var l=i(s,o+=2),f=i(s,o+=4);o+=4,o=f;for(var h=0;h<c;h++){i(s,o),o+=4,o+=4,o+=4,i(s,o+=4),l=i(s,o+=4);var d=i(s,o+=4),p=n(s,o+=4),m=n(s,o+2),v=n(s,o+4);o+=6;var g=i(s,o+=8);o+=4,o+=p+m+v,r._readLocal(s,g,a,l,d,t)}return a},r._readLocal=function(e,t,n,i,o,a){var s=r.bin.readUshort,u=r.bin.readUint;u(e,t),s(e,t+=4),s(e,t+=2);var c=s(e,t+=2);u(e,t+=2),u(e,t+=4),t+=4;var l=s(e,t+=8),f=s(e,t+=2);t+=2;var h=r.bin.readUTF8(e,t,l);if(t+=l,t+=f,a)n[h]={size:o,csize:i};else{var d=new Uint8Array(e.buffer,t);if(0==c)n[h]=new Uint8Array(d.buffer.slice(t,t+i));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(o);r.inflateRaw(d,p),n[h]=p}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=r.F.deflateRaw(e,i,n,t.level);var o=r.adler(e,0,e.length);return i[n+0]=o>>>24&255,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=o>>>0&255,new Uint8Array(i.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=r.F.deflateRaw(e,n,i,t.level);return new Uint8Array(n.buffer,0,i)},r.encode=function(e,t){null==t&&(t=!1);var n=0,i=r.bin.writeUint,o=r.bin.writeUshort,a={};for(var s in e){var u=!r._noNeed(s)&&!t,c=e[s],l=r.crc.crc(c,0,c.length);a[s]={cpr:u,usize:c.length,crc:l,file:u?r.deflateRaw(c):c}}for(var s in a)n+=a[s].file.length+30+46+2*r.bin.sizeUTF8(s);n+=22;var f=new Uint8Array(n),h=0,d=[];for(var s in a){var p=a[s];d.push(h),h=r._writeHeader(f,h,s,p,0)}var m=0,v=h;for(var s in a)p=a[s],d.push(h),h=r._writeHeader(f,h,s,p,1,d[m++]);var g=h-v;return i(f,h,101010256),h+=4,o(f,h+=4,m),o(f,h+=2,m),i(f,h+=2,g),i(f,h+=4,v),h+=4,h+=2,f.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,i,o,a){var s=r.bin.writeUint,u=r.bin.writeUshort,c=i.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),u(e,t,20),u(e,t+=2,0),u(e,t+=2,i.cpr?8:0),s(e,t+=2,0),s(e,t+=4,i.crc),s(e,t+=4,c.length),s(e,t+=4,i.usize),u(e,t+=4,r.bin.sizeUTF8(n)),u(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,a),t+=4),t+=r.bin.writeUTF8(e,t,n),0==o&&(e.set(c,t),t+=c.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,i){for(var o=0;o<i;o++)e=r.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,i=0,o=t,a=t+n;o<a;){for(var s=Math.min(o+5552,a);o<s;)i+=r+=e[o++];r%=65521,i%=65521}return i<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var i,o="",a=0;a<n;a++)o+="%"+r.bin.pad(e[t+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return r.bin.readASCII(e,t,n)}return i},writeUTF8:function(e,t,n){for(var r=n.length,i=0,o=0;o<r;o++){var a=n.charCodeAt(o);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},r.F={},r.F.deflateRaw=function(e,t,n,i){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=r.F.U,s=r.F._goodIndex;r.F._hash;var u=r.F._putsE,c=0,l=n<<3,f=0,h=e.length;if(0==i){for(;c<h;)u(t,l,c+(k=Math.min(65535,h-c))==h?1:0),l=r.F._copyExact(e,c,k,t,l+8),c+=k;return l>>>3}var d=a.lits,p=a.strt,m=a.prev,v=0,g=0,y=0,b=0,w=0,_=0;for(h>2&&(p[_=r.F._hash(e,0)]=0),c=0;c<h;c++){if(w=_,c+1<h-2){_=r.F._hash(e,c+1);var S=c+1&32767;m[S]=p[_],p[_]=S}if(f<=c){(v>14e3||g>26697)&&h-c>100&&(f<c&&(d[v]=c-f,v+=2,f=c),l=r.F._writeBlock(c==h-1||f==h?1:0,d,v,b,e,y,c-y,t,l),v=g=b=0,y=c);var E=0;c<h-2&&(E=r.F._bestMatch(e,c,m,w,Math.min(o[2],h-c),o[3]));var k=E>>>16,T=65535&E;if(0!=E){T=65535&E;var I=s(k=E>>>16,a.of0);a.lhst[257+I]++;var N=s(T,a.df0);a.dhst[N]++,b+=a.exb[I]+a.dxb[N],d[v]=k<<23|c-f,d[v+1]=T<<16|I<<8|N,v+=2,f=c+k}else a.lhst[e[c]]++;g++}}for(y==c&&0!=e.length||(f<c&&(d[v]=c-f,v+=2,f=c),l=r.F._writeBlock(1,d,v,b,e,y,c-y,t,l),v=0,g=0,v=g=b=0,y=c);0!=(7&l);)l++;return l>>>3},r.F._bestMatch=function(e,t,n,i,o,a){var s=32767&t,u=n[s],c=s-u+32768&32767;if(u==s||i!=r.F._hash(e,t-c))return 0;for(var l=0,f=0,h=Math.min(32767,t);c<=h&&0!=--a&&u!=s;){if(0==l||e[t+l]==e[t+l-c]){var d=r.F._howLong(e,t,c);if(d>l){if(f=c,(l=d)>=o)break;c+2<d&&(d=c+2);for(var p=0,m=0;m<d-2;m++){var v=t-c+m+32768&32767,g=v-n[v]+32768&32767;g>p&&(p=g,u=v)}}}c+=(s=u)-(u=n[s])+32768&32767}return l<<16|f},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,i,o,a,s,u,c){var l,f,h,d,p,m,v,g,y,b=r.F.U,w=r.F._putsF,_=r.F._putsE;b.lhst[256]++,f=(l=r.F.getTrees())[0],h=l[1],d=l[2],p=l[3],m=l[4],v=l[5],g=l[6],y=l[7];var S=32+(0==(c+3&7)?0:8-(c+3&7))+(s<<3),E=i+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),k=i+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);k+=14+3*v+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var T=0;T<286;T++)b.lhst[T]=0;for(T=0;T<30;T++)b.dhst[T]=0;for(T=0;T<19;T++)b.ihst[T]=0;var I=S<E&&S<k?0:E<k?1:2;if(w(u,c,e),w(u,c+1,I),c+=3,0==I){for(;0!=(7&c);)c++;c=r.F._copyExact(o,a,s,u,c)}else{var N,C;if(1==I&&(N=b.fltree,C=b.fdtree),2==I){r.F.makeCodes(b.ltree,f),r.F.revCodes(b.ltree,f),r.F.makeCodes(b.dtree,h),r.F.revCodes(b.dtree,h),r.F.makeCodes(b.itree,d),r.F.revCodes(b.itree,d),N=b.ltree,C=b.dtree,_(u,c,p-257),_(u,c+=5,m-1),_(u,c+=5,v-4),c+=4;for(var A=0;A<v;A++)_(u,c+3*A,b.itree[1+(b.ordr[A]<<1)]);c+=3*v,c=r.F._codeTiny(g,b.itree,u,c),c=r.F._codeTiny(y,b.itree,u,c)}for(var x=a,P=0;P<n;P+=2){for(var O=t[P],D=O>>>23,R=x+(8388607&O);x<R;)c=r.F._writeLit(o[x++],N,u,c);if(0!=D){var U=t[P+1],M=U>>16,F=U>>8&255,L=255&U;_(u,c=r.F._writeLit(257+F,N,u,c),D-b.of0[F]),c+=b.exb[F],w(u,c=r.F._writeLit(L,C,u,c),M-b.df0[L]),c+=b.dxb[L],x+=D}}c=r.F._writeLit(256,N,u,c)}return c},r.F._copyExact=function(e,t,n,r,i){var o=i>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),i+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),i=[],o=r.F._lenCodes(e.ltree,i),a=[],s=r.F._lenCodes(e.dtree,a),u=0;u<i.length;u+=2)e.ihst[i[u]]++;for(u=0;u<a.length;u+=2)e.ihst[a[u]]++;for(var c=r.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&0==e.itree[1+(e.ordr[l-1]<<1)];)l--;return[t,n,c,o,s,l,i,a]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,i){for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];i=r.F._writeLit(a,t,n,i);var u=16==a?2:17==a?3:7;a>15&&(r.F._putsE(n,i,s,u),i+=u)}return i},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],o=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==i&&o==i&&a==i){for(var u=r+5;u+2<n&&e[u+2]==i;)u+=2;(c=Math.min(u+1-r>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),r+=2*c-2}else if(i==s&&o==i&&a==i){for(u=r+5;u+2<n&&e[u+2]==i;)u+=2;var c=Math.min(u+1-r>>>1,6);t.push(16,c-3),r+=2*c-2}else t.push(i,0)}return n>>>1},r.F._hufTree=function(e,t,n){var i=[],o=e.length,a=t.length,s=0;for(s=0;s<a;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&i.push({lit:s,f:e[s]});var u=i.length,c=i.slice(0);if(0==u)return 0;if(1==u){var l=i[0].lit;return c=0==l?1:0,t[1+(l<<1)]=1,t[1+(c<<1)]=1,1}i.sort((function(e,t){return e.f-t.f}));var f=i[0],h=i[1],d=0,p=1,m=2;for(i[0]={lit:-1,f:f.f+h.f,l:f,r:h,d:0};p!=u-1;)f=d!=p&&(m==u||i[d].f<i[m].f)?i[d++]:i[m++],h=d!=p&&(m==u||i[d].f<i[m].f)?i[d++]:i[m++],i[p++]={lit:-1,f:f.f+h.f,l:f,r:h};var v=r.F.setDepth(i[p-1],0);for(v>n&&(r.F.restrictDepth(c,n,v),v=n),s=0;s<u;s++)t[1+(c[s].lit<<1)]=c[s].d;return v},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,o+=i-(1<<n-a)}for(o>>>=n-t;o>0;)(a=e[r].d)<t?(e[r].d++,o-=1<<t-a-1):r++;for(;r>=0;r--)e[r].d==t&&o<0&&(e[r].d--,o++);0!=o&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,i){return r.F._putsF(n,i,t[e<<1]),i+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var i=r.F,o=i._bitsF,a=i._bitsE,s=i._decodeTiny,u=i.makeCodes,c=i.codes2map,l=i._get17,f=i.U,h=null==t;h&&(t=new n(e.length>>>2<<3));for(var d,p,m=0,v=0,g=0,y=0,b=0,w=0,_=0,S=0,E=0;0==m;)if(m=o(e,E,1),v=o(e,E+1,2),E+=3,0!=v){if(h&&(t=r.F._check(t,S+(1<<17))),1==v&&(d=f.flmap,p=f.fdmap,w=511,_=31),2==v){g=a(e,E,5)+257,y=a(e,E+5,5)+1,b=a(e,E+10,4)+4,E+=14;for(var k=0;k<38;k+=2)f.itree[k]=0,f.itree[k+1]=0;var T=1;for(k=0;k<b;k++){var I=a(e,E+3*k,3);f.itree[1+(f.ordr[k]<<1)]=I,I>T&&(T=I)}E+=3*b,u(f.itree,T),c(f.itree,T,f.imap),d=f.lmap,p=f.dmap,E=s(f.imap,(1<<T)-1,g+y,e,E,f.ttree);var N=i._copyOut(f.ttree,0,g,f.ltree);w=(1<<N)-1;var C=i._copyOut(f.ttree,g,y,f.dtree);_=(1<<C)-1,u(f.ltree,N),c(f.ltree,N,d),u(f.dtree,C),c(f.dtree,C,p)}for(;;){var A=d[l(e,E)&w];E+=15&A;var x=A>>>4;if(x>>>8==0)t[S++]=x;else{if(256==x)break;var P=S+x-254;if(x>264){var O=f.ldef[x-257];P=S+(O>>>3)+a(e,E,7&O),E+=7&O}var D=p[l(e,E)&_];E+=15&D;var R=D>>>4,U=f.ddef[R],M=(U>>>4)+o(e,E,15&U);for(E+=15&U,h&&(t=r.F._check(t,S+(1<<17)));S<P;)t[S]=t[S++-M],t[S]=t[S++-M],t[S]=t[S++-M],t[S]=t[S++-M];S=P}}}else{0!=(7&E)&&(E+=8-(7&E));var F=4+(E>>>3),L=e[F-4]|e[F-3]<<8;h&&(t=r.F._check(t,S+L)),t.set(new n(e.buffer,e.byteOffset+F,L),S),E=F+L<<3,S+=L}return t.length==S?t:t.slice(0,S)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,i,o,a){for(var s=r.F._bitsE,u=r.F._get17,c=0;c<n;){var l=e[u(i,o)&t];o+=15&l;var f=l>>>4;if(f<=15)a[c]=f,c++;else{var h=0,d=0;16==f?(d=3+s(i,o,2),o+=2,h=a[c-1]):17==f?(d=3+s(i,o,3),o+=3):18==f&&(d=11+s(i,o,7),o+=7);for(var p=c+d;c<p;)a[c]=h,c++}}return o},r.F._copyOut=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},r.F.makeCodes=function(e,t){for(var n,i,o,a,s=r.F.U,u=e.length,c=s.bl_count,l=0;l<=t;l++)c[l]=0;for(l=1;l<u;l+=2)c[e[l]]++;var f=s.next_code;for(n=0,c[0]=0,i=1;i<=t;i++)n=n+c[i-1]<<1,f[i]=n;for(o=0;o<u;o+=2)0!=(a=e[o+1])&&(e[o]=f[a],f[a]++)},r.F.codes2map=function(e,t,n){for(var i=e.length,o=r.F.U.rev15,a=0;a<i;a+=2)if(0!=e[a+1])for(var s=a>>1,u=e[a+1],c=s<<4|u,l=t-u,f=e[a]<<l,h=f+(1<<l);f!=h;)n[o[f]>>>15-t]=c,f++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,i=15-t,o=0;o<e.length;o+=2){var a=e[o]<<t-e[o+1];e[o]=n[a]>>>i}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function i(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),i(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}()})),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(e){var t=e.width,n=e.height;if(null==e.tabs.acTL)return[UPNG.toRGBA8.decodeImage(e.data,t,n,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=t*n*4,o=new Uint8Array(i),a=new Uint8Array(i),s=new Uint8Array(i),u=0;u<e.frames.length;u++){var c=e.frames[u],l=c.rect.x,f=c.rect.y,h=c.rect.width,d=c.rect.height,p=UPNG.toRGBA8.decodeImage(c.data,h,d,e);if(0!=u)for(var m=0;m<i;m++)s[m]=o[m];if(0==c.blend?UPNG._copyTile(p,h,d,o,t,n,l,f,0):1==c.blend&&UPNG._copyTile(p,h,d,o,t,n,l,f,1),r.push(o.buffer.slice(0)),0==c.dispose);else if(1==c.dispose)UPNG._copyTile(a,h,d,o,t,n,l,f,0);else if(2==c.dispose)for(m=0;m<i;m++)o[m]=s[m]}return r},UPNG.toRGBA8.decodeImage=function(e,t,n,r){var i=t*n,o=UPNG.decode._getBPP(r),a=Math.ceil(t*o/8),s=new Uint8Array(4*i),u=new Uint32Array(s.buffer),c=r.ctype,l=r.depth,f=UPNG._bin.readUshort;if(6==c){var h=i<<2;if(8==l)for(var d=0;d<h;d+=4)s[d]=e[d],s[d+1]=e[d+1],s[d+2]=e[d+2],s[d+3]=e[d+3];if(16==l)for(d=0;d<h;d++)s[d]=e[d<<1]}else if(2==c){var p=r.tabs.tRNS;if(null==p){if(8==l)for(d=0;d<i;d++){var m=3*d;u[d]=255<<24|e[m+2]<<16|e[m+1]<<8|e[m]}if(16==l)for(d=0;d<i;d++)m=6*d,u[d]=255<<24|e[m+4]<<16|e[m+2]<<8|e[m]}else{var v=p[0],g=p[1],y=p[2];if(8==l)for(d=0;d<i;d++){var b=d<<2;m=3*d,u[d]=255<<24|e[m+2]<<16|e[m+1]<<8|e[m],e[m]==v&&e[m+1]==g&&e[m+2]==y&&(s[b+3]=0)}if(16==l)for(d=0;d<i;d++)b=d<<2,m=6*d,u[d]=255<<24|e[m+4]<<16|e[m+2]<<8|e[m],f(e,m)==v&&f(e,m+2)==g&&f(e,m+4)==y&&(s[b+3]=0)}}else if(3==c){var w=r.tabs.PLTE,_=r.tabs.tRNS,S=_?_.length:0;if(1==l)for(var E=0;E<n;E++){var k=E*a,T=E*t;for(d=0;d<t;d++){b=T+d<<2;var I=3*(N=e[k+(d>>3)]>>7-((7&d)<<0)&1);s[b]=w[I],s[b+1]=w[I+1],s[b+2]=w[I+2],s[b+3]=N<S?_[N]:255}}if(2==l)for(E=0;E<n;E++)for(k=E*a,T=E*t,d=0;d<t;d++)b=T+d<<2,I=3*(N=e[k+(d>>2)]>>6-((3&d)<<1)&3),s[b]=w[I],s[b+1]=w[I+1],s[b+2]=w[I+2],s[b+3]=N<S?_[N]:255;if(4==l)for(E=0;E<n;E++)for(k=E*a,T=E*t,d=0;d<t;d++)b=T+d<<2,I=3*(N=e[k+(d>>1)]>>4-((1&d)<<2)&15),s[b]=w[I],s[b+1]=w[I+1],s[b+2]=w[I+2],s[b+3]=N<S?_[N]:255;if(8==l)for(d=0;d<i;d++){var N;b=d<<2,I=3*(N=e[d]),s[b]=w[I],s[b+1]=w[I+1],s[b+2]=w[I+2],s[b+3]=N<S?_[N]:255}}else if(4==c){if(8==l)for(d=0;d<i;d++){b=d<<2;var C=e[A=d<<1];s[b]=C,s[b+1]=C,s[b+2]=C,s[b+3]=e[A+1]}if(16==l)for(d=0;d<i;d++){var A;b=d<<2,C=e[A=d<<2],s[b]=C,s[b+1]=C,s[b+2]=C,s[b+3]=e[A+2]}}else if(0==c)for(v=r.tabs.tRNS?r.tabs.tRNS:-1,E=0;E<n;E++){var x=E*a,P=E*t;if(1==l)for(var O=0;O<t;O++){var D=(C=255*(e[x+(O>>>3)]>>>7-(7&O)&1))==255*v?0:255;u[P+O]=D<<24|C<<16|C<<8|C}else if(2==l)for(O=0;O<t;O++)D=(C=85*(e[x+(O>>>2)]>>>6-((3&O)<<1)&3))==85*v?0:255,u[P+O]=D<<24|C<<16|C<<8|C;else if(4==l)for(O=0;O<t;O++)D=(C=17*(e[x+(O>>>1)]>>>4-((1&O)<<2)&15))==17*v?0:255,u[P+O]=D<<24|C<<16|C<<8|C;else if(8==l)for(O=0;O<t;O++)D=(C=e[x+O])==v?0:255,u[P+O]=D<<24|C<<16|C<<8|C;else if(16==l)for(O=0;O<t;O++)C=e[x+(O<<1)],D=f(e,x+(O<<d))==v?0:255,u[P+O]=D<<24|C<<16|C<<8|C}return s},UPNG.decode=function(e){for(var t,n=new Uint8Array(e),r=8,i=UPNG._bin,o=i.readUshort,a=i.readUint,s={tabs:{},frames:[]},u=new Uint8Array(n.length),c=0,l=0,f=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(n[h]!=f[h])throw"The input is not a PNG file!";for(;r<n.length;){var d=i.readUint(n,r);r+=4;var p=i.readASCII(n,r,4);if(r+=4,"IHDR"==p)UPNG.decode._IHDR(n,r,s);else if("CgBI"==p)s.tabs[p]=n.slice(r,r+4);else if("IDAT"==p){for(h=0;h<d;h++)u[c+h]=n[r+h];c+=d}else if("acTL"==p)s.tabs[p]={num_frames:a(n,r),num_plays:a(n,r+4)},t=new Uint8Array(n.length);else if("fcTL"==p){var m;0!=l&&((m=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,t.slice(0,l),m.rect.width,m.rect.height),l=0);var v={x:a(n,r+12),y:a(n,r+16),width:a(n,r+4),height:a(n,r+8)},g=o(n,r+22);g=o(n,r+20)/(0==g?100:g);var y={rect:v,delay:Math.round(1e3*g),dispose:n[r+24],blend:n[r+25]};s.frames.push(y)}else if("fdAT"==p){for(h=0;h<d-4;h++)t[l+h]=n[r+h+4];l+=d-4}else if("pHYs"==p)s.tabs[p]=[i.readUint(n,r),i.readUint(n,r+4),n[r+8]];else if("cHRM"==p)for(s.tabs[p]=[],h=0;h<8;h++)s.tabs[p].push(i.readUint(n,r+4*h));else if("tEXt"==p||"zTXt"==p){null==s.tabs[p]&&(s.tabs[p]={});var b=i.nextZero(n,r),w=i.readASCII(n,r,b-r),_=r+d-b-1;if("tEXt"==p)k=i.readASCII(n,b+1,_);else{var S=UPNG.decode._inflate(n.slice(b+2,b+2+_));k=i.readUTF8(S,0,S.length)}s.tabs[p][w]=k}else if("iTXt"==p){null==s.tabs[p]&&(s.tabs[p]={}),b=0;var E=r;b=i.nextZero(n,E),w=i.readASCII(n,E,b-E);var k,T=n[E=b+1];n[E+1],E+=2,b=i.nextZero(n,E),i.readASCII(n,E,b-E),E=b+1,b=i.nextZero(n,E),i.readUTF8(n,E,b-E),_=d-((E=b+1)-r),0==T?k=i.readUTF8(n,E,_):(S=UPNG.decode._inflate(n.slice(E,E+_)),k=i.readUTF8(S,0,S.length)),s.tabs[p][w]=k}else if("PLTE"==p)s.tabs[p]=i.readBytes(n,r,d);else if("hIST"==p){var I=s.tabs.PLTE.length/3;for(s.tabs[p]=[],h=0;h<I;h++)s.tabs[p].push(o(n,r+2*h))}else if("tRNS"==p)3==s.ctype?s.tabs[p]=i.readBytes(n,r,d):0==s.ctype?s.tabs[p]=o(n,r):2==s.ctype&&(s.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]);else if("gAMA"==p)s.tabs[p]=i.readUint(n,r)/1e5;else if("sRGB"==p)s.tabs[p]=n[r];else if("bKGD"==p)0==s.ctype||4==s.ctype?s.tabs[p]=[o(n,r)]:2==s.ctype||6==s.ctype?s.tabs[p]=[o(n,r),o(n,r+2),o(n,r+4)]:3==s.ctype&&(s.tabs[p]=n[r]);else if("IEND"==p)break;r+=d,i.readUint(n,r),r+=4}return 0!=l&&((m=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,t.slice(0,l),m.rect.width,m.rect.height),l=0),s.data=UPNG.decode._decompress(s,u,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},UPNG.decode._decompress=function(e,t,n,r){var i=UPNG.decode._getBPP(e),o=Math.ceil(n*i/8),a=new Uint8Array((o+1+e.interlace)*r);return t=e.tabs.CgBI?UPNG.inflateRaw(t,a):UPNG.decode._inflate(t,a),0==e.interlace?t=UPNG.decode._filterZero(t,e,0,n,r):1==e.interlace&&(t=UPNG.decode._readInterlace(t,e)),t},UPNG.decode._inflate=function(e,t){return UPNG.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(e,t){var n,r,i=Uint8Array,o=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0;if(3==e[0]&&0==e[1])return t||new i(0);var p=H.H,m=p.b,v=p.e,g=p.R,y=p.n,b=p.A,w=p.Z,_=p.m,S=null==t;for(S&&(t=new i(e.length>>>2<<5));0==o;)if(o=m(e,d,1),a=m(e,d+1,2),d+=3,0!=a){if(S&&(t=H.H.W(t,h+(1<<17))),1==a&&(n=_.J,r=_.h,l=511,f=31),2==a){s=v(e,d,5)+257,u=v(e,d+5,5)+1,c=v(e,d+10,4)+4,d+=14;for(var E=1,k=0;k<38;k+=2)_.Q[k]=0,_.Q[k+1]=0;for(k=0;k<c;k++){var T=v(e,d+3*k,3);_.Q[1+(_.X[k]<<1)]=T,T>E&&(E=T)}d+=3*c,y(_.Q,E),b(_.Q,E,_.u),n=_.w,r=_.d,d=g(_.u,(1<<E)-1,s+u,e,d,_.v);var I=p.V(_.v,0,s,_.C);l=(1<<I)-1;var N=p.V(_.v,s,u,_.D);f=(1<<N)-1,y(_.C,I),b(_.C,I,n),y(_.D,N),b(_.D,N,r)}for(;;){var C=n[w(e,d)&l];d+=15&C;var A=C>>>4;if(A>>>8==0)t[h++]=A;else{if(256==A)break;var x=h+A-254;if(A>264){var P=_.q[A-257];x=h+(P>>>3)+v(e,d,7&P),d+=7&P}var O=r[w(e,d)&f];d+=15&O;var D=O>>>4,R=_.c[D],U=(R>>>4)+m(e,d,15&R);for(d+=15&R;h<x;)t[h]=t[h++-U],t[h]=t[h++-U],t[h]=t[h++-U],t[h]=t[h++-U];h=x}}}else{0!=(7&d)&&(d+=8-(7&d));var M=4+(d>>>3),F=e[M-4]|e[M-3]<<8;S&&(t=H.H.W(t,h+F)),t.set(new i(e.buffer,e.byteOffset+M,F),h),d=M+F<<3,h+=F}return t.length==h?t:t.slice(0,h)},H.H.W=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(n<<1);return r.set(e,0),r},H.H.R=function(e,t,n,r,i,o){for(var a=H.H.e,s=H.H.Z,u=0;u<n;){var c=e[s(r,i)&t];i+=15&c;var l=c>>>4;if(l<=15)o[u]=l,u++;else{var f=0,h=0;16==l?(h=3+a(r,i,2),i+=2,f=o[u-1]):17==l?(h=3+a(r,i,3),i+=3):18==l&&(h=11+a(r,i,7),i+=7);for(var d=u+h;u<d;)o[u]=f,u++}}return i},H.H.V=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},H.H.n=function(e,t){for(var n,r,i,o,a=H.H.m,s=e.length,u=a.j,c=0;c<=t;c++)u[c]=0;for(c=1;c<s;c+=2)u[e[c]]++;var l=a.K;for(n=0,u[0]=0,r=1;r<=t;r++)n=n+u[r-1]<<1,l[r]=n;for(i=0;i<s;i+=2)0!=(o=e[i+1])&&(e[i]=l[o],l[o]++)},H.H.A=function(e,t,n){for(var r=e.length,i=H.H.m.r,o=0;o<r;o+=2)if(0!=e[o+1])for(var a=o>>1,s=e[o+1],u=a<<4|s,c=t-s,l=e[o]<<c,f=l+(1<<c);l!=f;)n[i[l]>>>15-t]=u,l++},H.H.l=function(e,t){for(var n=H.H.m.r,r=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=n[o]>>>r}},H.H.M=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},H.H.I=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},H.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},H.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},H.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},H.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var e=H.H.m,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.r[t]=(n>>>16|n<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];r(e._,144,8),r(e._,112,9),r(e._,24,7),r(e._,8,8),H.H.n(e._,9),H.H.A(e._,9,e.J),H.H.l(e._,9),r(e.$,32,5),H.H.n(e.$,5),H.H.A(e.$,5,e.h),H.H.l(e.$,5),r(e.Q,19,0),r(e.C,286,0),r(e.D,30,0),r(e.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(e,t){for(var n=t.width,r=t.height,i=UPNG.decode._getBPP(t),o=i>>3,a=Math.ceil(n*i/8),s=new Uint8Array(r*a),u=0,c=[0,0,4,0,2,0,1],l=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],d=0;d<7;){for(var p=f[d],m=h[d],v=0,g=0,y=c[d];y<r;)y+=p,g++;for(var b=l[d];b<n;)b+=m,v++;var w=Math.ceil(v*i/8);UPNG.decode._filterZero(e,t,u,v,g);for(var _=0,S=c[d];S<r;){for(var E=l[d],k=u+_*w<<3;E<n;){var T;if(1==i&&(T=(T=e[k>>3])>>7-(7&k)&1,s[S*a+(E>>3)]|=T<<7-((7&E)<<0)),2==i&&(T=(T=e[k>>3])>>6-(7&k)&3,s[S*a+(E>>2)]|=T<<6-((3&E)<<1)),4==i&&(T=(T=e[k>>3])>>4-(7&k)&15,s[S*a+(E>>1)]|=T<<4-((1&E)<<2)),i>=8)for(var I=S*a+E*o,N=0;N<o;N++)s[I+N]=e[(k>>3)+N];k+=i,E+=m}_++,S+=p}v*g!=0&&(u+=g*(1+w)),d+=1}return s},UPNG.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},UPNG.decode._filterZero=function(e,t,n,r,i){var o=UPNG.decode._getBPP(t),a=Math.ceil(r*o/8),s=UPNG.decode._paeth;o=Math.ceil(o/8);var u=0,c=1,l=e[n],f=0;if(l>1&&(e[n]=[0,0,1][l-2]),3==l)for(f=o;f<a;f++)e[f+1]=e[f+1]+(e[f+1-o]>>>1)&255;for(var h=0;h<i;h++)if(f=0,0==(l=e[(c=(u=n+h*a)+h+1)-1]))for(;f<a;f++)e[u+f]=e[c+f];else if(1==l){for(;f<o;f++)e[u+f]=e[c+f];for(;f<a;f++)e[u+f]=e[c+f]+e[u+f-o]}else if(2==l)for(;f<a;f++)e[u+f]=e[c+f]+e[u+f-a];else if(3==l){for(;f<o;f++)e[u+f]=e[c+f]+(e[u+f-a]>>>1);for(;f<a;f++)e[u+f]=e[c+f]+(e[u+f-a]+e[u+f-o]>>>1)}else{for(;f<o;f++)e[u+f]=e[c+f]+s(0,e[u+f-a],0);for(;f<a;f++)e[u+f]=e[c+f]+s(e[u+f-o],e[u+f-a],e[u+f-o-a])}return e},UPNG.decode._paeth=function(e,t,n){var r=e+t-n,i=r-e,o=r-t,a=r-n;return i*i<=o*o&&i*i<=a*a?e:o*o<=a*a?t:n},UPNG.decode._IHDR=function(e,t,n){var r=UPNG._bin;n.width=r.readUint(e,t),t+=4,n.height=r.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++},UPNG._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0".concat(e):e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%".concat(UPNG._bin.pad(e[t+o].toString(16)));try{r=decodeURIComponent(i)}catch(r){return UPNG._bin.readASCII(e,t,n)}return r}},UPNG._copyTile=function(e,t,n,r,i,o,a,s,u){for(var c=Math.min(t,i),l=Math.min(n,o),f=0,h=0,d=0;d<l;d++)for(var p=0;p<c;p++)if(a>=0&&s>=0?(f=d*t+p<<2,h=(s+d)*i+a+p<<2):(f=(-s+d)*t-a+p<<2,h=d*i+p<<2),0==u)r[h]=e[f],r[h+1]=e[f+1],r[h+2]=e[f+2],r[h+3]=e[f+3];else if(1==u){var m=e[f+3]*(1/255),v=e[f]*m,g=e[f+1]*m,y=e[f+2]*m,b=r[h+3]*(1/255),w=r[h]*b,_=r[h+1]*b,S=r[h+2]*b,E=1-m,k=m+b*E,T=0==k?0:1/k;r[h+3]=255*k,r[h+0]=(v+w*E)*T,r[h+1]=(g+_*E)*T,r[h+2]=(y+S*E)*T}else if(2==u)m=e[f+3],v=e[f],g=e[f+1],y=e[f+2],b=r[h+3],w=r[h],_=r[h+1],S=r[h+2],m==b&&v==w&&g==_&&y==S?(r[h]=0,r[h+1]=0,r[h+2]=0,r[h+3]=0):(r[h]=v,r[h+1]=g,r[h+2]=y,r[h+3]=m);else if(3==u){if(m=e[f+3],v=e[f],g=e[f+1],y=e[f+2],b=r[h+3],w=r[h],_=r[h+1],S=r[h+2],m==b&&v==w&&g==_&&y==S)continue;if(m<220&&b>20)return!1}return!0},UPNG.encode=function(e,t,n,r,i,o,a){null==r&&(r=0),null==a&&(a=!1);var s=UPNG.encode.compress(e,t,n,r,[!1,!1,!1,0,a]);return UPNG.encode.compressPNG(s,-1),UPNG.encode._main(s,t,n,i,o)},UPNG.encodeLL=function(e,t,n,r,i,o,a,s){for(var u={ctype:0+(1==r?0:2)+(0==i?0:4),depth:o,frames:[]},c=(r+i)*o,l=c*t,f=0;f<e.length;f++)u.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[f]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(l/8)});return UPNG.encode.compressPNG(u,0,!0),UPNG.encode._main(u,t,n,a,s)},UPNG.encode._main=function(e,t,n,r,i){null==i&&(i={});var o=UPNG.crc.crc,a=UPNG._bin.writeUint,s=UPNG._bin.writeUshort,u=UPNG._bin.writeASCII,c=8,l=e.frames.length>1,f=!1,h=33+(l?20:0);if(null!=i.sRGB&&(h+=13),null!=i.pHYs&&(h+=21),3==e.ctype){for(var d=e.plte.length,p=0;p<d;p++)e.plte[p]>>>24!=255&&(f=!0);h+=8+3*d+4+(f?8+1*d+4:0)}for(var m=0;m<e.frames.length;m++)l&&(h+=38),h+=(k=e.frames[m]).cimg.length+12,0!=m&&(h+=4);h+=12;var v=new Uint8Array(h),g=[137,80,78,71,13,10,26,10];for(p=0;p<8;p++)v[p]=g[p];if(a(v,c,13),u(v,c+=4,"IHDR"),a(v,c+=4,t),a(v,c+=4,n),v[c+=4]=e.depth,v[++c]=e.ctype,v[++c]=0,v[++c]=0,v[++c]=0,a(v,++c,o(v,c-17,17)),c+=4,null!=i.sRGB&&(a(v,c,1),u(v,c+=4,"sRGB"),v[c+=4]=i.sRGB,a(v,++c,o(v,c-5,5)),c+=4),null!=i.pHYs&&(a(v,c,9),u(v,c+=4,"pHYs"),a(v,c+=4,i.pHYs[0]),a(v,c+=4,i.pHYs[1]),v[c+=4]=i.pHYs[2],a(v,++c,o(v,c-13,13)),c+=4),l&&(a(v,c,8),u(v,c+=4,"acTL"),a(v,c+=4,e.frames.length),a(v,c+=4,null!=i.loop?i.loop:0),a(v,c+=4,o(v,c-12,12)),c+=4),3==e.ctype){for(a(v,c,3*(d=e.plte.length)),u(v,c+=4,"PLTE"),c+=4,p=0;p<d;p++){var y=3*p,b=e.plte[p],w=255&b,_=b>>>8&255,S=b>>>16&255;v[c+y+0]=w,v[c+y+1]=_,v[c+y+2]=S}if(a(v,c+=3*d,o(v,c-3*d-4,3*d+4)),c+=4,f){for(a(v,c,d),u(v,c+=4,"tRNS"),c+=4,p=0;p<d;p++)v[c+p]=e.plte[p]>>>24&255;a(v,c+=d,o(v,c-d-4,d+4)),c+=4}}var E=0;for(m=0;m<e.frames.length;m++){var k=e.frames[m];l&&(a(v,c,26),u(v,c+=4,"fcTL"),a(v,c+=4,E++),a(v,c+=4,k.rect.width),a(v,c+=4,k.rect.height),a(v,c+=4,k.rect.x),a(v,c+=4,k.rect.y),s(v,c+=4,r[m]),s(v,c+=2,1e3),v[c+=2]=k.dispose,v[++c]=k.blend,a(v,++c,o(v,c-30,30)),c+=4);var T=k.cimg;a(v,c,(d=T.length)+(0==m?0:4));var I=c+=4;u(v,c,0==m?"IDAT":"fdAT"),c+=4,0!=m&&(a(v,c,E++),c+=4),v.set(T,c),a(v,c+=d,o(v,I,c-I)),c+=4}return a(v,c,0),u(v,c+=4,"IEND"),a(v,c+=4,o(v,c-4,4)),c+=4,v.buffer},UPNG.encode.compressPNG=function(e,t,n){for(var r=0;r<e.frames.length;r++){var i=e.frames[r];i.rect.width;var o=i.rect.height,a=new Uint8Array(o*i.bpl+o);i.cimg=UPNG.encode._filterZero(i.img,o,i.bpp,i.bpl,a,t,n)}},UPNG.encode.compress=function(e,t,n,r,i){for(var o=i[0],a=i[1],s=i[2],u=i[3],c=i[4],l=6,f=8,h=255,d=0;d<e.length;d++)for(var p=new Uint8Array(e[d]),m=p.length,v=0;v<m;v+=4)h&=p[v+3];var g=255!=h,y=UPNG.encode.framize(e,t,n,o,a,s),b={},w=[],_=[];if(0!=r){var S=[];for(v=0;v<y.length;v++)S.push(y[v].img.buffer);var E=UPNG.encode.concatRGBA(S),k=UPNG.quantize(E,r),T=0,I=new Uint8Array(k.abuf);for(v=0;v<y.length;v++){var N=(G=y[v].img).length;for(_.push(new Uint8Array(k.inds.buffer,T>>2,N>>2)),d=0;d<N;d+=4)G[d]=I[T+d],G[d+1]=I[T+d+1],G[d+2]=I[T+d+2],G[d+3]=I[T+d+3];T+=N}for(v=0;v<k.plte.length;v++)w.push(k.plte[v].est.rgba)}else for(d=0;d<y.length;d++){var C=y[d],A=new Uint32Array(C.img.buffer),x=C.rect.width,P=(m=A.length,new Uint8Array(m));for(_.push(P),v=0;v<m;v++){var O=A[v];if(0!=v&&O==A[v-1])P[v]=P[v-1];else if(v>x&&O==A[v-x])P[v]=P[v-x];else{var D=b[O];if(null==D&&(b[O]=D=w.length,w.push(O),w.length>=300))break;P[v]=D}}}var R=w.length;for(R<=256&&0==c&&(f=R<=2?1:R<=4?2:R<=16?4:8,f=Math.max(f,u)),d=0;d<y.length;d++){(C=y[d]).rect.x,C.rect.y,x=C.rect.width;var U=C.rect.height,M=C.img;new Uint32Array(M.buffer);var F=4*x,L=4;if(R<=256&&0==c){F=Math.ceil(f*x/8);for(var j=new Uint8Array(F*U),V=_[d],B=0;B<U;B++){v=B*F;var q=B*x;if(8==f)for(var z=0;z<x;z++)j[v+z]=V[q+z];else if(4==f)for(z=0;z<x;z++)j[v+(z>>1)]|=V[q+z]<<4-4*(1&z);else if(2==f)for(z=0;z<x;z++)j[v+(z>>2)]|=V[q+z]<<6-2*(3&z);else if(1==f)for(z=0;z<x;z++)j[v+(z>>3)]|=V[q+z]<<7-1*(7&z)}M=j,l=3,L=1}else if(0==g&&1==y.length){j=new Uint8Array(x*U*3);var H=x*U;for(v=0;v<H;v++){var G,W=4*v;j[G=3*v]=M[W],j[G+1]=M[W+1],j[G+2]=M[W+2]}M=j,l=2,L=3,F=3*x}C.img=M,C.bpl=F,C.bpp=L}return{ctype:l,depth:f,plte:w,frames:y}},UPNG.encode.framize=function(e,t,n,r,i,o){for(var a=[],s=0;s<e.length;s++){var u,c=new Uint8Array(e[s]),l=new Uint32Array(c.buffer),f=0,h=0,d=t,p=n,m=r?1:0;if(0!=s){for(var v=o||r||1==s||0!=a[s-2].dispose?1:2,g=0,y=1e9,b=0;b<v;b++){for(var w=new Uint8Array(e[s-1-b]),_=new Uint32Array(e[s-1-b]),S=t,E=n,k=-1,T=-1,I=0;I<n;I++)for(var N=0;N<t;N++)l[R=I*t+N]!=_[R]&&(N<S&&(S=N),N>k&&(k=N),I<E&&(E=I),I>T&&(T=I));-1==k&&(S=E=k=T=0),i&&(1==(1&S)&&S--,1==(1&E)&&E--);var C=(k-S+1)*(T-E+1);C<y&&(y=C,g=b,f=S,h=E,d=k-S+1,p=T-E+1)}w=new Uint8Array(e[s-1-g]),1==g&&(a[s-1].dispose=2),u=new Uint8Array(d*p*4),UPNG._copyTile(w,t,n,u,d,p,-f,-h,0),1==(m=UPNG._copyTile(c,t,n,u,d,p,-f,-h,3)?1:0)?UPNG.encode._prepareDiff(c,t,n,u,{x:f,y:h,width:d,height:p}):UPNG._copyTile(c,t,n,u,d,p,-f,-h,0)}else u=c.slice(0);a.push({rect:{x:f,y:h,width:d,height:p},img:u,blend:m,dispose:0})}if(r)for(s=0;s<a.length;s++)if(1!=(U=a[s]).blend){var A=U.rect,x=a[s-1].rect,P=Math.min(A.x,x.x),O=Math.min(A.y,x.y),D={x:P,y:O,width:Math.max(A.x+A.width,x.x+x.width)-P,height:Math.max(A.y+A.height,x.y+x.height)-O};a[s-1].dispose=1,s-1!=0&&UPNG.encode._updateFrame(e,t,n,a,s-1,D,i),UPNG.encode._updateFrame(e,t,n,a,s,D,i)}if(1!=e.length)for(var R=0;R<a.length;R++){var U;(U=a[R]).rect.width,U.rect.height}return a},UPNG.encode._updateFrame=function(e,t,n,r,i,o,a){for(var s=Uint8Array,u=Uint32Array,c=new s(e[i-1]),l=new u(e[i-1]),f=i+1<e.length?new s(e[i+1]):null,h=new s(e[i]),d=new u(h.buffer),p=t,m=n,v=-1,g=-1,y=0;y<o.height;y++)for(var b=0;b<o.width;b++){var w=o.x+b,_=o.y+y,S=_*t+w,E=d[S];0==E||0==r[i-1].dispose&&l[S]==E&&(null==f||0!=f[4*S+3])||(w<p&&(p=w),w>v&&(v=w),_<m&&(m=_),_>g&&(g=_))}-1==v&&(p=m=v=g=0),a&&(1==(1&p)&&p--,1==(1&m)&&m--),o={x:p,y:m,width:v-p+1,height:g-m+1};var k=r[i];k.rect=o,k.blend=1,k.img=new Uint8Array(o.width*o.height*4),0==r[i-1].dispose?(UPNG._copyTile(c,t,n,k.img,o.width,o.height,-o.x,-o.y,0),UPNG.encode._prepareDiff(h,t,n,k.img,o)):UPNG._copyTile(h,t,n,k.img,o.width,o.height,-o.x,-o.y,0)},UPNG.encode._prepareDiff=function(e,t,n,r,i){UPNG._copyTile(e,t,n,r,i.width,i.height,-i.x,-i.y,2)},UPNG.encode._filterZero=function(e,t,n,r,i,o,a){var s,u=[],c=[0,1,2,3,4];-1!=o?c=[o]:(t*r>5e5||1==n)&&(c=[0]),a&&(s={level:0});for(var l,f=UZIP,h=0;h<c.length;h++){for(var d=0;d<t;d++)UPNG.encode._filterLine(i,e,d,r,n,c[h]);u.push(f.deflate(i,s))}var p=1e9;for(h=0;h<u.length;h++)u[h].length<p&&(l=h,p=u[h].length);return u[l]},UPNG.encode._filterLine=function(e,t,n,r,i,o){var a=n*r,s=a+n,u=UPNG.decode._paeth;if(e[s]=o,s++,0==o)if(r<500)for(var c=0;c<r;c++)e[s+c]=t[a+c];else e.set(new Uint8Array(t.buffer,a,r),s);else if(1==o){for(c=0;c<i;c++)e[s+c]=t[a+c];for(c=i;c<r;c++)e[s+c]=t[a+c]-t[a+c-i]+256&255}else if(0==n){for(c=0;c<i;c++)e[s+c]=t[a+c];if(2==o)for(c=i;c<r;c++)e[s+c]=t[a+c];if(3==o)for(c=i;c<r;c++)e[s+c]=t[a+c]-(t[a+c-i]>>1)+256&255;if(4==o)for(c=i;c<r;c++)e[s+c]=t[a+c]-u(t[a+c-i],0,0)+256&255}else{if(2==o)for(c=0;c<r;c++)e[s+c]=t[a+c]+256-t[a+c-r]&255;if(3==o){for(c=0;c<i;c++)e[s+c]=t[a+c]+256-(t[a+c-r]>>1)&255;for(c=i;c<r;c++)e[s+c]=t[a+c]+256-(t[a+c-r]+t[a+c-i]>>1)&255}if(4==o){for(c=0;c<i;c++)e[s+c]=t[a+c]+256-u(0,t[a+c-r],0)&255;for(c=i;c<r;c++)e[s+c]=t[a+c]+256-u(t[a+c-i],t[a+c-r],t[a+c-i-r])&255}}},UPNG.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=UPNG.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^UPNG.crc.update(4294967295,e,t,n)}},UPNG.quantize=function(e,t){var n,r=new Uint8Array(e),i=r.slice(0),o=new Uint32Array(i.buffer),a=UPNG.quantize.getKDtree(i,t),s=a[0],u=a[1],c=UPNG.quantize.planeDst,l=r,f=o,h=l.length,d=new Uint8Array(r.length>>2);if(r.length<2e7)for(var p=0;p<h;p+=4){var m=l[p]*(1/255),v=l[p+1]*(1/255),g=l[p+2]*(1/255),y=l[p+3]*(1/255);n=UPNG.quantize.getNearest(s,m,v,g,y),d[p>>2]=n.ind,f[p>>2]=n.est.rgba}else for(p=0;p<h;p+=4){for(m=l[p]*(1/255),v=l[p+1]*(1/255),g=l[p+2]*(1/255),y=l[p+3]*(1/255),n=s;n.left;)n=c(n.est,m,v,g,y)<=0?n.left:n.right;d[p>>2]=n.ind,f[p>>2]=n.est.rgba}return{abuf:i.buffer,inds:d,plte:u}},UPNG.quantize.getKDtree=function(e,t,n){null==n&&(n=1e-4);var r=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=UPNG.quantize.stats(e,i.i0,i.i1),i.est=UPNG.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var a=0,s=0,u=0;u<o.length;u++)o[u].est.L>a&&(a=o[u].est.L,s=u);if(a<n)break;var c=o[s],l=UPNG.quantize.splitPixels(e,r,c.i0,c.i1,c.est.e,c.est.eMq255);if(c.i0>=l||c.i1<=l)c.est.L=0;else{var f={i0:c.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};f.bst=UPNG.quantize.stats(e,f.i0,f.i1),f.est=UPNG.quantize.estats(f.bst);var h={i0:l,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};for(h.bst={R:[],m:[],N:c.bst.N-f.bst.N},u=0;u<16;u++)h.bst.R[u]=c.bst.R[u]-f.bst.R[u];for(u=0;u<4;u++)h.bst.m[u]=c.bst.m[u]-f.bst.m[u];h.est=UPNG.quantize.estats(h.bst),c.left=f,c.right=h,o[s]=f,o.push(h)}}for(o.sort((function(e,t){return t.bst.N-e.bst.N})),u=0;u<o.length;u++)o[u].ind=u;return[i,o]},UPNG.quantize.getNearest=function(e,t,n,r,i){if(null==e.left)return e.tdst=UPNG.quantize.dist(e.est.q,t,n,r,i),e;var o=UPNG.quantize.planeDst(e.est,t,n,r,i),a=e.left,s=e.right;o>0&&(a=e.right,s=e.left);var u=UPNG.quantize.getNearest(a,t,n,r,i);if(u.tdst<=o*o)return u;var c=UPNG.quantize.getNearest(s,t,n,r,i);return c.tdst<u.tdst?c:u},UPNG.quantize.planeDst=function(e,t,n,r,i){var o=e.e;return o[0]*t+o[1]*n+o[2]*r+o[3]*i-e.eMq},UPNG.quantize.dist=function(e,t,n,r,i){var o=t-e[0],a=n-e[1],s=r-e[2],u=i-e[3];return o*o+a*a+s*s+u*u},UPNG.quantize.splitPixels=function(e,t,n,r,i,o){var a=UPNG.quantize.vecDot;for(r-=4;n<r;){for(;a(e,n,i)<=o;)n+=4;for(;a(e,r,i)>o;)r-=4;if(n>=r)break;var s=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=s,n+=4,r-=4}for(;a(e,n,i)>o;)n-=4;return n+4},UPNG.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},UPNG.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-t>>2,a=t;a<n;a+=4){var s=e[a]*(1/255),u=e[a+1]*(1/255),c=e[a+2]*(1/255),l=e[a+3]*(1/255);i[0]+=s,i[1]+=u,i[2]+=c,i[3]+=l,r[0]+=s*s,r[1]+=s*u,r[2]+=s*c,r[3]+=s*l,r[5]+=u*u,r[6]+=u*c,r[7]+=u*l,r[10]+=c*c,r[11]+=c*l,r[15]+=l*l}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}},UPNG.quantize.estats=function(e){var t=e.R,n=e.m,r=e.N,i=n[0],o=n[1],a=n[2],s=n[3],u=0==r?0:1/r,c=[t[0]-i*i*u,t[1]-i*o*u,t[2]-i*a*u,t[3]-i*s*u,t[4]-o*i*u,t[5]-o*o*u,t[6]-o*a*u,t[7]-o*s*u,t[8]-a*i*u,t[9]-a*o*u,t[10]-a*a*u,t[11]-a*s*u,t[12]-s*i*u,t[13]-s*o*u,t[14]-s*a*u,t[15]-s*s*u],l=c,f=UPNG.M4,h=[Math.random(),Math.random(),Math.random(),Math.random()],d=0,p=0;if(0!=r)for(var m=0;m<16&&(h=f.multVec(l,h),p=Math.sqrt(f.dot(h,h)),h=f.sml(1/p,h),!(0!=m&&Math.abs(p-d)<1e-9));m++)d=p;var v=[i*u,o*u,a*u,s*u];return{Cov:c,q:v,e:h,L:d,eMq255:f.dot(f.sml(255,v),h),eMq:f.dot(h,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2])<<16|Math.round(255*v[1])<<8|Math.round(255*v[0])<<0)>>>0}},UPNG.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},UPNG.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;n++){for(var o=new Uint8Array(e[n]),a=o.length,s=0;s<a;s+=4){var u=o[s],c=o[s+1],l=o[s+2],f=o[s+3];0==f&&(u=c=l=0),r[i+s]=u,r[i+s+1]=c,r[i+s+2]=l,r[i+s+3]=f}i+=a}return r.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser="undefined"!=typeof window,moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||void 0!==window.File&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||void 0!==window.FileReader&&FileReader);function getFilefromDataUrl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((function(r){for(var i=e.split(","),o=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]),s=a.length,u=new Uint8Array(s);s--;)u[s]=a.charCodeAt(s);var c=new Blob([u],{type:o});c.name=t,c.lastModified=n,r(c)}))}function getDataUrlFromFile(e){return new Promise((function(t,n){var r=new CustomFileReader;r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.readAsDataURL(e)}))}function loadImage(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(e){return n(e)},r.src=e}))}function getBrowserName(){if(void 0!==getBrowserName.cachedResult)return getBrowserName.cachedResult;var e=BROWSER_NAME.ETC,t=navigator.userAgent;return/Chrom(e|ium)/i.test(t)?e=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(t)?e=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(t)?e=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(t)?e=BROWSER_NAME.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=BROWSER_NAME.IE),getBrowserName.cachedResult=e,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(e,t){for(var n=getBrowserName(),r=MAX_CANVAS_SIZE[n],i=e,o=t,a=i*o,s=i>o?o/i:i/o;a>r*r;){var u=(r+i)/2,c=(r+o)/2;u<c?(o=c,i=c*s):(o=u*s,i=u),a=i*o}return{width:i,height:o}}function getNewCanvasAndCtx(e,t){var n,r;try{if(null===(r=(n=new OffscreenCanvas(e,t)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(e){r=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=t,[n,r]}function drawImageInCanvas(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=approximateBelowMaximumCanvasSizeOfBrowser(e.width,e.height),r=_slicedToArray(getNewCanvasAndCtx(n.width,n.height),2),i=r[0],o=r[1];return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(e,0,0,i.width,i.height),i}function isIOS(){return void 0!==isIOS.cachedResult||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var i,o,a=function(){try{return o=drawImageInCanvas(i,t.fileType||e.type),n([i,o])}catch(e){return r(e)}},s=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{return getDataUrlFromFile(e).then((function(e){try{return loadImage(e).then((function(e){try{return i=e,function(){try{return a()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return i=e,a()}catch(e){return s()}}),s)}catch(e){s()}}))}function canvasToFile(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(o,a){var s,u,c;if("image/png"===t)return u=e.getContext("2d").getImageData(0,0,e.width,e.height).data,c=UPNG.encode([u],e.width,e.height,256*i),(s=new Blob([c],{type:t})).name=n,s.lastModified=r,f.call(this);var l=function(){return f.call(this)};return"function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:i}).then(function(e){try{return(s=e).name=n,s.lastModified=r,l.call(this)}catch(e){return a(e)}}.bind(this),a):getFilefromDataUrl(e.toDataURL(t,i),n,r).then(function(e){try{return s=e,l.call(this)}catch(e){return a(e)}}.bind(this),a);function f(){return o(s)}}))}function cleanupCanvasMemory(e){e.width=0,e.height=0}function isAutoOrientationInBrowser(){return new Promise((function(e,t){var n,r,i,o;return void 0!==isAutoOrientationInBrowser.cachedResult?e(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(a){try{return drawFileInCanvas(n=a).then((function(a){try{return canvasToFile(r=a[1],n.type,n.name,n.lastModified).then((function(n){try{return i=n,cleanupCanvasMemory(r),drawFileInCanvas(i).then((function(n){try{return o=n[0],isAutoOrientationInBrowser.cachedResult=1===o.width&&2===o.height,e(isAutoOrientationInBrowser.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))}function getExifOrientation(e){return new Promise((function(t,n){var r=new CustomFileReader;r.onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);for(var r=n.byteLength,i=2;i<r;){if(n.getUint16(i+2,!1)<=8)return t(-1);var o=n.getUint16(i,!1);if(i+=2,65505==o){if(1165519206!=n.getUint32(i+=2,!1))return t(-1);var a=18761==n.getUint16(i+=6,!1);i+=n.getUint32(i+4,a);var s=n.getUint16(i,a);i+=2;for(var u=0;u<s;u++)if(274==n.getUint16(i+12*u,a))return t(n.getUint16(i+12*u+8,a))}else{if(65280!=(65280&o))break;i+=n.getUint16(i,!1)}}return t(-1)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e)}))}function handleMaxWidthOrHeight(e,t){var n,r=e.width,i=e.height,o=t.maxWidthOrHeight,a=e;if(isFinite(o)&&(r>o||i>o)){var s=_slicedToArray(getNewCanvasAndCtx(r,i),2);a=s[0],n=s[1],r>i?(a.width=o,a.height=i/r*o):(a.width=r/i*o,a.height=o),n.drawImage(e,0,0,a.width,a.height),cleanupCanvasMemory(e)}return a}function followExifOrientation(e,t){var n=e.width,r=e.height,i=_slicedToArray(getNewCanvasAndCtx(n,r),2),o=i[0],a=i[1];switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,r);break;case 4:a.transform(1,0,0,-1,0,r);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,r,0);break;case 7:a.transform(0,-1,-1,0,r,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(e,0,0,n,r),cleanupCanvasMemory(e),o}function compress(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,i){var o,a,s,u,c,l,f,h,d,p,m,v,g,y,b,w,_,S,E;function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=e,t.onProgress(Math.min(o,100))}function T(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(e,o),100),t.onProgress(o)}return o=n,a=t.maxIteration||10,s=1024*t.maxSizeMB*1024,k(),drawFileInCanvas(e,t).then(function(n){try{var o=_slicedToArray(n,2);return u=o[1],k(),c=handleMaxWidthOrHeight(u,t),k(),new Promise((function(n,r){var i;if(!(i=t.exifOrientation))return getExifOrientation(e).then(function(e){try{return i=e,o.call(this)}catch(e){return r(e)}}.bind(this),r);function o(){return n(i)}return o.call(this)})).then(function(n){try{return l=n,k(),isAutoOrientationInBrowser().then(function(n){try{return f=n?c:followExifOrientation(c,l),k(),h=t.initialQuality||1,d=t.fileType||e.type,canvasToFile(f,d,e.name,e.lastModified,h).then(function(n){try{var o,l=function t(){if(a--&&(b>s||b>g)){var n,r,o=_slicedToArray(getNewCanvasAndCtx(n=E?.95*S.width:S.width,r=E?.95*S.height:S.height),2);return _=o[0],o[1].drawImage(S,0,0,n,r),h*=.95,canvasToFile(_,d,e.name,e.lastModified,h).then((function(e){try{return w=e,cleanupCanvasMemory(S),S=_,b=w.size,T(Math.min(99,Math.floor((y-b)/(y-s)*100))),t}catch(e){return i(e)}}),i)}return[1]},I=function(){return cleanupCanvasMemory(S),cleanupCanvasMemory(_),cleanupCanvasMemory(c),cleanupCanvasMemory(f),cleanupCanvasMemory(u),T(100),r(w)};return p=n,k(),m=p.size>s,v=p.size>e.size,m||v?(g=e.size,y=p.size,b=y,S=f,E=!t.alwaysKeepResolution&&m,(o=function(e){for(;e;){if(e.then)return void e.then(o,i);try{if(e.pop){if(e.length)return e.pop()?I.call(this):e;e=l}else e=e.call(this)}catch(e){return i(e)}}}.bind(this))(l)):(T(100),r(p))}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}))}var cnt=0,imageCompressionLibUrl,worker;function createWorker(e){var t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),new Worker(URL.createObjectURL(new Blob(t)))}function createSourceObject(e){return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}function stringify(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?"BIC_FN:::(function () { return ".concat(t.toString()," })()"):t}))}function parse(o){if("string"==typeof o)return o;var result={};return Object.entries(o).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if("string"==typeof value&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(e){throw e}else result[key]=parse(value)})),result}function generateLib(){return createSourceObject("\n    // reconstruct library\n    function imageCompression (){return (".concat(imageCompression,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(imageCompression.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(imageCompression.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(imageCompression.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(imageCompression.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(imageCompression.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(imageCompression.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(imageCompression.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(imageCompression.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(imageCompression.followExifOrientation,"\n    imageCompression.cleanupCanvasMemory = ").concat(imageCompression.cleanupCanvasMemory,"\n    imageCompression.isAutoOrientationInBrowser = ").concat(imageCompression.isAutoOrientationInBrowser,"\n    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = ").concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,"\n    imageCompression.getBrowserName = ").concat(imageCompression.getBrowserName,"\n\n    // functions / objects\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory\n    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser\n    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser\n    getBrowserName = imageCompression.getBrowserName\n    isIOS = ").concat(isIOS,"\n    \n    getNewCanvasAndCtx = ").concat(getNewCanvasAndCtx,"\n    CustomFileReader = FileReader\n    CustomFile = File\n    MAX_CANVAS_SIZE = ").concat(JSON.stringify(MAX_CANVAS_SIZE),"\n    BROWSER_NAME = ").concat(JSON.stringify(BROWSER_NAME),"\n    function compress (){return (").concat(compress,").apply(null, arguments)}\n\n    // core-js\n    function _slicedToArray(arr, n) { return arr }\n    function _typeof(a) { return typeof a }\n    function _objectSpread2(target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n  \n        Object.assign(target, source)\n      }\n  \n      return target;\n    }\n\n    // Libraries\n    const parse = ").concat(parse,"\n    const UPNG = {}\n    UPNG.toRGBA8 = ").concat(UPNG.toRGBA8,"\n    UPNG.toRGBA8.decodeImage = ").concat(UPNG.toRGBA8.decodeImage,"\n    UPNG.decode = ").concat(UPNG.decode,"\n    UPNG.decode._decompress = ").concat(UPNG.decode._decompress,"\n    UPNG.decode._inflate = ").concat(UPNG.decode._inflate,"\n    UPNG.decode._readInterlace = ").concat(UPNG.decode._readInterlace,"\n    UPNG.decode._getBPP = ").concat(UPNG.decode._getBPP," \n    UPNG.decode._filterZero = ").concat(UPNG.decode._filterZero,"\n    UPNG.decode._paeth = ").concat(UPNG.decode._paeth,"\n    UPNG.decode._IHDR = ").concat(UPNG.decode._IHDR,"\n    UPNG._bin = parse(").concat(stringify(UPNG._bin),")\n    UPNG._copyTile = ").concat(UPNG._copyTile,"\n    UPNG.encode = ").concat(UPNG.encode,"\n    UPNG.encodeLL = ").concat(UPNG.encodeLL," \n    UPNG.encode._main = ").concat(UPNG.encode._main,"\n    UPNG.encode.compressPNG = ").concat(UPNG.encode.compressPNG," \n    UPNG.encode.compress = ").concat(UPNG.encode.compress,"\n    UPNG.encode.framize = ").concat(UPNG.encode.framize," \n    UPNG.encode._updateFrame = ").concat(UPNG.encode._updateFrame," \n    UPNG.encode._prepareDiff = ").concat(UPNG.encode._prepareDiff," \n    UPNG.encode._filterZero = ").concat(UPNG.encode._filterZero," \n    UPNG.encode._filterLine = ").concat(UPNG.encode._filterLine,"\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,"\n    UPNG.crc = parse(").concat(stringify(UPNG.crc),")\n    UPNG.crc.table = ( function() {\n    var tab = new Uint32Array(256);\n    for (var n=0; n<256; n++) {\n      var c = n;\n      for (var k=0; k<8; k++) {\n        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n        else        c = c >>> 1;\n      }\n      tab[n] = c;  }\n    return tab;  })()\n    UPNG.quantize = ").concat(UPNG.quantize," \n    UPNG.quantize.getKDtree = ").concat(UPNG.quantize.getKDtree," \n    UPNG.quantize.getNearest = ").concat(UPNG.quantize.getNearest," \n    UPNG.quantize.planeDst = ").concat(UPNG.quantize.planeDst," \n    UPNG.quantize.dist = ").concat(UPNG.quantize.dist,"     \n    UPNG.quantize.splitPixels = ").concat(UPNG.quantize.splitPixels," \n    UPNG.quantize.vecDot = ").concat(UPNG.quantize.vecDot," \n    UPNG.quantize.stats = ").concat(UPNG.quantize.stats," \n    UPNG.quantize.estats = ").concat(UPNG.quantize.estats,"\n    UPNG.M4 = parse(").concat(stringify(UPNG.M4),")\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,'\n    UPNG.inflateRaw=function(){\n    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;\n      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;\n      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);\n        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;\n        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;\n        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;\n                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;\n        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);\n        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;\n        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);\n        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};\n      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};\n      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;\n        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);\n          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;\n        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};\n      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;\n        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];\n          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);\n        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;\n                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};\n      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};\n      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};\n      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;\n        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();\n      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;\n        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;\n        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];\n        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);\n        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);\n        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()\n    \n    const UZIP = {}\n    UZIP["parse"] = ').concat(UZIP_1.parse,"\n    UZIP._readLocal = ").concat(UZIP_1._readLocal,"\n    UZIP.inflateRaw = ").concat(UZIP_1.inflateRaw,"\n    UZIP.inflate = ").concat(UZIP_1.inflate,"\n    UZIP.deflate = ").concat(UZIP_1.deflate,"\n    UZIP.deflateRaw = ").concat(UZIP_1.deflateRaw,"\n    UZIP.encode = ").concat(UZIP_1.encode,"\n    UZIP._noNeed = ").concat(UZIP_1._noNeed,"\n    UZIP._writeHeader = ").concat(UZIP_1._writeHeader,"\n    UZIP.crc = parse(").concat(stringify(UZIP_1.crc),")\n    UZIP.crc.table = ( function() {\n      var tab = new Uint32Array(256);\n      for (var n=0; n<256; n++) {\n        var c = n;\n        for (var k=0; k<8; k++) {\n          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n          else        c = c >>> 1;\n        }\n        tab[n] = c;  }\n      return tab;  })()\n    \n    UZIP.adler = ").concat(UZIP_1.adler,"\n    UZIP.bin = parse(").concat(stringify(UZIP_1.bin),")\n    UZIP.F = {}\n    UZIP.F.deflateRaw = ").concat(UZIP_1.F.deflateRaw,"\n    UZIP.F._bestMatch = ").concat(UZIP_1.F._bestMatch,"\n    UZIP.F._howLong = ").concat(UZIP_1.F._howLong,"\n    UZIP.F._hash = ").concat(UZIP_1.F._hash,"\n    UZIP.saved = ").concat(UZIP_1.saved,"\n    UZIP.F._writeBlock = ").concat(UZIP_1.F._writeBlock,"\n    UZIP.F._copyExact = ").concat(UZIP_1.F._copyExact,"\n    UZIP.F.getTrees = ").concat(UZIP_1.F.getTrees,"\n    UZIP.F.getSecond = ").concat(UZIP_1.F.getSecond,"\n    UZIP.F.nonZero = ").concat(UZIP_1.F.nonZero,"\n    UZIP.F.contSize = ").concat(UZIP_1.F.contSize,"\n    UZIP.F._codeTiny = ").concat(UZIP_1.F._codeTiny," \n    UZIP.F._lenCodes = ").concat(UZIP_1.F._lenCodes," \n    UZIP.F._hufTree = ").concat(UZIP_1.F._hufTree," \n    UZIP.F.setDepth = ").concat(UZIP_1.F.setDepth," \n    UZIP.F.restrictDepth = ").concat(UZIP_1.F.restrictDepth,"\n    UZIP.F._goodIndex = ").concat(UZIP_1.F._goodIndex," \n    UZIP.F._writeLit = ").concat(UZIP_1.F._writeLit," \n    UZIP.F.inflate = ").concat(UZIP_1.F.inflate," \n    UZIP.F._check = ").concat(UZIP_1.F._check," \n    UZIP.F._decodeTiny = ").concat(UZIP_1.F._decodeTiny," \n    UZIP.F._copyOut = ").concat(UZIP_1.F._copyOut," \n    UZIP.F.makeCodes = ").concat(UZIP_1.F.makeCodes," \n    UZIP.F.codes2map = ").concat(UZIP_1.F.codes2map," \n    UZIP.F.revCodes = ").concat(UZIP_1.F.revCodes," \n\n    // used only in deflate\n    UZIP.F._putsE = ").concat(UZIP_1.F._putsE,"\n    UZIP.F._putsF = ").concat(UZIP_1.F._putsF,"\n  \n    UZIP.F._bitsE = ").concat(UZIP_1.F._bitsE,"\n    UZIP.F._bitsF = ").concat(UZIP_1.F._bitsF,"\n\n    UZIP.F._get17 = ").concat(UZIP_1.F._get17,"\n    UZIP.F._get25 = ").concat(UZIP_1.F._get25,"\n    UZIP.F.U = function(){\n      var u16=Uint16Array, u32=Uint32Array;\n      return {\n        next_code : new u16(16),\n        bl_count  : new u16(16),\n        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\n        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],\n        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],\n        ldef : new u16(32),\n        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],\n        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],\n        ddef : new u32(32),\n        flmap: new u16(  512),  fltree: [],\n        fdmap: new u16(   32),  fdtree: [],\n        lmap : new u16(32768),  ltree : [],  ttree:[],\n        dmap : new u16(32768),  dtree : [],\n        imap : new u16(  512),  itree : [],\n        //rev9 : new u16(  512)\n        rev15: new u16(1<<15),\n        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),\n        lits : new u32(15000),\n        strt : new u16(1<<16),\n        prev : new u16(1<<15)\n      };\n    } ();\n\n    (function(){\n      var U = UZIP.F.U;\n      var len = 1<<15;\n      for(var i=0; i<len; i++) {\n        var x = i;\n        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\n        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\n        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\n        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\n        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;\n      }\n  \n      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }\n  \n      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }\n  \n      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);\n      /*\n        var i = 0;\n        for(; i<=143; i++) U.fltree.push(0,8);\n        for(; i<=255; i++) U.fltree.push(0,9);\n        for(; i<=279; i++) U.fltree.push(0,7);\n        for(; i<=287; i++) U.fltree.push(0,8);\n        */\n      UZIP.F.makeCodes(U.fltree, 9);\n      UZIP.F.codes2map(U.fltree, 9, U.flmap);\n      UZIP.F.revCodes (U.fltree, 9)\n  \n      pushV(U.fdtree,32,5);\n      //for(i=0;i<32; i++) U.fdtree.push(0,5);\n      UZIP.F.makeCodes(U.fdtree, 5);\n      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);\n      UZIP.F.revCodes (U.fdtree, 5)\n  \n      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);\n      /*\n        for(var i=0; i< 19; i++) U.itree.push(0,0);\n        for(var i=0; i<286; i++) U.ltree.push(0,0);\n        for(var i=0; i< 30; i++) U.dtree.push(0,0);\n        for(var i=0; i<320; i++) U.ttree.push(0,0);\n        */\n    })()\n    "))}function generateWorkerScript(){return createWorker("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function compressOnWebWorker(e,t){return new Promise((function(n,r){var i=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",(function e(o){if(o.data.id===i){if(t.signal&&t.signal.aborted)return;if(void 0!==o.data.progress)return void t.onProgress(o.data.progress);worker.removeEventListener("message",e),o.data.error&&r(new Error(o.data.error)),n(o.data.file)}})),worker.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(function(){worker.terminate(),r(t.signal.reason)})),worker.postMessage({file:e,id:i,imageCompressionLibUrl:imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},t),{},{onProgress:void 0,signal:void 0})})}))}function imageCompression(e,t){return new Promise((function(n,r){var i,o,a,s,u,c;if(i=_objectSpread2({},t),a=0,s=i.onProgress,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u="boolean"!=typeof i.useWebWorker||i.useWebWorker,delete i.useWebWorker,i.onProgress=function(e){a=e,"function"==typeof s&&s(a)},!(e instanceof Blob||e instanceof CustomFile))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!u||"function"!=typeof Worker||c)return compress(e,i).then(function(e){try{return o=e,h.call(this)}catch(e){return r(e)}}.bind(this),r);var l=function(){try{return h.call(this)}catch(e){return r(e)}}.bind(this),f=function(t){try{return compress(e,i).then((function(e){try{return o=e,l()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return compressOnWebWorker(e,i).then((function(e){try{return o=e,l()}catch(e){return f()}}),f)}catch(e){f()}function h(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}return n(o)}}))}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".fe1f4cac.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="chitchat:";__webpack_require__.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var a,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){a=l;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var f=function(t,r){a.onerror=a.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="/",function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)s(__webpack_require__)}for(t&&t(n);u<o.length;u++)i=o[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkchitchat=self.webpackChunkchitchat||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(791),t=__webpack_require__(164);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){r=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(x){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}e.wrap=f;var d={};function p(){}function m(){}function v(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==t&&i.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},h(e,t)};function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function m(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(qp){o(qp)}}function s(e){try{u(r.throw(e))}catch(qp){o(qp)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function v(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(qp){s=[6,qp],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function g(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},S=function(e){return function(e){var t=w(e);return _.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function E(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=E(e[n],t[n]));return e}var k=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=p({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[S(JSON.stringify({alg:"none",type:"JWT"})),S(JSON.stringify(o)),""].join(".")}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function N(){try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(qp){return!1}}var C="FirebaseError",A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=C,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,x.prototype.create),o}return d(t,e),t}(Error),x=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new A(i,s,r)},e}();var P=/\{\$([^}]+)}/g;function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function D(e,t){var n=new R(e,t);return n.subscribe.bind(n)}var R=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(qp){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(qp){"undefined"!==typeof console&&console.error&&console.error(qp)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function U(){}function M(e){return e&&e._delegate?e._delegate:e}var F=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),L="[DEFAULT]",j=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new k;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(qp){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(qp){if(r)return null;throw qp}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:L})}catch(qp){}try{for(var r=g(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=y(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(qp){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=L),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(b(b([],y(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),y(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=L),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=L),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=g(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=y(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=g(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===L?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Sp){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=L),this.component?this.component.multipleInstances?e:L:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var V,B=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new j(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function q(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var z,H=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(z||(z={}));var G,W={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Y=z.INFO,Q=((V={})[z.DEBUG]="log",V[z.VERBOSE]="log",V[z.INFO]="info",V[z.WARN]="warn",V[z.ERROR]="error",V),K=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Q[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,q(["["+i+"]  "+e.name+":"],n))}},Z=function(){function e(e){this.name=e,this._logLevel=Y,this._logHandler=K,this._userLogHandler=null,H.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in z))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?W[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,q([this,z.DEBUG],e)),this._logHandler.apply(this,q([this,z.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,q([this,z.VERBOSE],e)),this._logHandler.apply(this,q([this,z.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,q([this,z.INFO],e)),this._logHandler.apply(this,q([this,z.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,q([this,z.WARN],e)),this._logHandler.apply(this,q([this,z.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,q([this,z.ERROR],e)),this._logHandler.apply(this,q([this,z.ERROR],e))},e}();function $(e){H.forEach((function(t){t.setLogLevel(e)}))}var X,J=((G={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",G["bad-app-name"]="Illegal App name: '{$appName}",G["duplicate-app"]="Firebase App named '{$appName}' already exists",G["app-deleted"]="Firebase App named '{$appName}' already deleted",G["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",G["invalid-log-argument"]="First argument to `onLog` must be null or a function.",G),ee=new x("app","Firebase",J),te="@firebase/app",ne="0.6.30",re="[DEFAULT]",ie=((X={})[te]="fire-core",X["@firebase/analytics"]="fire-analytics",X["@firebase/app-check"]="fire-app-check",X["@firebase/auth"]="fire-auth",X["@firebase/database"]="fire-rtdb",X["@firebase/functions"]="fire-fn",X["@firebase/installations"]="fire-iid",X["@firebase/messaging"]="fire-fcm",X["@firebase/performance"]="fire-perf",X["@firebase/remote-config"]="fire-rc",X["@firebase/storage"]="fire-gcs",X["@firebase/firestore"]="fire-fst",X["fire-js"]="fire-js",X["firebase-wrapper"]="fire-js-all",X),oe=new Z("@firebase/app"),ae=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=E(void 0,e),this.container=new B(t.name),this._addComponent(new F("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=re),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=re),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(qp){oe.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,qp)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ee.create("app-deleted",{appName:this.name_})},e}();ae.prototype.name&&ae.prototype.options||ae.prototype.delete||console.log("dc");var se="8.10.0";function ue(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=re);var a=o.name;if("string"!==typeof a||!a)throw ee.create("bad-app-name",{appName:String(a)});if(O(t,a))throw ee.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ie[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void oe.warn(u.join(" "))}o(new F(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:$,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw ee.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=W[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:z[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=H;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:se,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!O(t,e=e||re))throw ee.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return oe.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw ee.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&E(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ce=function e(){var t=ue(ae);return t.INTERNAL=p(p({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){E(t,e)},createSubscribe:D,ErrorFactory:x,deepExtend:E}),t}(),le=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var he=ce.initializeApp;ce.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N()&&oe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),he.apply(void 0,e)};var de=ce;!function(e,t){e.INTERNAL.registerComponent(new F("platform-logger",(function(e){return new le(e)}),"PRIVATE")),e.registerVersion(te,ne,t),e.registerVersion("fire-js","")}(de);var pe=de,me="8.10.1";pe.registerVersion("firebase",me,"app"),pe.SDK_VERSION=me;var ve=function(e,t){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ve(e,t)};function ge(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ye,be="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:{},we=we||{},_e=be||self;function Se(){}function Ee(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ke(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Te="closure_uid_"+(1e9*Math.random()>>>0),Ie=0;function Ne(e,t,n){return e.call.apply(e.bind,arguments)}function Ce(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ae(e,t,n){return(Ae=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:Ce).apply(null,arguments)}function xe(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pe(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Oe(){this.s=this.s,this.o=this.o}var De={};Oe.prototype.s=!1,Oe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Te)&&e[Te]||(e[Te]=++Ie)}(this);delete De[e]}},Oe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Re=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ue=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Me(e){return Array.prototype.concat.apply([],arguments)}function Fe(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Le(e){return/^[\s\xa0]*$/.test(e)}var je,Ve=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Be(e,t){return-1!=e.indexOf(t)}function qe(e,t){return e<t?-1:e>t?1:0}e:{var ze=_e.navigator;if(ze){var He=ze.userAgent;if(He){je=He;break e}}je=""}function Ge(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function We(e){var t={};for(var n in e)t[n]=e[n];return t}var Ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ye.length;o++)n=Ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ke(e){return Ke[" "](e),e}Ke[" "]=Se;var Ze,$e=Be(je,"Opera"),Xe=Be(je,"Trident")||Be(je,"MSIE"),Je=Be(je,"Edge"),et=Je||Xe,tt=Be(je,"Gecko")&&!(Be(je.toLowerCase(),"webkit")&&!Be(je,"Edge"))&&!(Be(je,"Trident")||Be(je,"MSIE"))&&!Be(je,"Edge"),nt=Be(je.toLowerCase(),"webkit")&&!Be(je,"Edge");function rt(){var e=_e.document;return e?e.documentMode:void 0}e:{var it="",ot=function(){var e=je;return tt?/rv:([^\);]+)(\)|;)/.exec(e):Je?/Edge\/([\d\.]+)/.exec(e):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nt?/WebKit\/(\S+)/.exec(e):$e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ot&&(it=ot?ot[1]:""),Xe){var at=rt();if(null!=at&&at>parseFloat(it)){Ze=String(at);break e}}Ze=it}var st,ut={};function ct(){return function(e){var t=ut;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ve(String(Ze)).split("."),n=Ve("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=qe(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||qe(0==o[2].length,0==a[2].length)||qe(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(_e.document&&Xe){var lt=rt();st=lt||(parseInt(Ze,10)||void 0)}else st=void 0;var ft=st,ht=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_e.addEventListener("test",Se,t),_e.removeEventListener("test",Se,t)}catch(Fv){}return e}();function dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function pt(e,t){if(dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tt){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:mt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pt.Z.h.call(this)}}dt.prototype.h=function(){this.defaultPrevented=!0},Pe(pt,dt);var mt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function yt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++gt,this.ca=this.fa=!1}function bt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wt(e){this.src=e,this.g={},this.h=0}function _t(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Re(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function St(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}wt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=St(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new yt(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Et="closure_lm_"+(1e6*Math.random()|0),kt={};function Tt(e,t,n,r,i){if(r&&r.once)return Nt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Tt(e,t[o],n,r,i);return null}return n=Rt(n),e&&e[vt]?e.N(t,n,ke(r)?!!r.capture:!!r,i):It(e,t,n,!1,r,i)}function It(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ke(i)?!!i.capture:!!i,s=Ot(e);if(s||(e[Et]=s=new wt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pt;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ht||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Nt(e,t[o],n,r,i);return null}return n=Rt(n),e&&e[vt]?e.O(t,n,ke(r)?!!r.capture:!!r,i):It(e,t,n,!0,r,i)}function Ct(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ct(e,t[o],n,r,i);else r=ke(r)?!!r.capture:!!r,n=Rt(n),e&&e[vt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=St(o=e.g[t],n,r,i))&&(bt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ot(e))&&(t=e.g[t.toString()],e=-1,t&&(e=St(t,n,r,i)),(n=-1<e?t[e]:null)&&At(n))}function At(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[vt])_t(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ot(t))?(_t(n,e),0==n.h&&(n.src=null,t[Et]=null)):bt(e)}}}function xt(e){return e in kt?kt[e]:kt[e]="on"+e}function Pt(e,t){if(e.ca)e=!0;else{t=new pt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&At(e),e=n.call(r,t)}return e}function Ot(e){return(e=e[Et])instanceof wt?e:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(e){return"function"===typeof e?e:(e[Dt]||(e[Dt]=function(t){return e.handleEvent(t)}),e[Dt])}function Ut(){Oe.call(this),this.i=new wt(this),this.P=this,this.I=null}function Mt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new dt(t,e);else if(t instanceof dt)t.target=t.target||e;else{var i=t;Qe(t=new dt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ft(a,r,!0,t)&&i}if(i=Ft(a=t.g=e,r,!0,t)&&i,i=Ft(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ft(a=t.g=n[o],r,!1,t)&&i}function Ft(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&_t(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Pe(Ut,Oe),Ut.prototype[vt]=!0,Ut.prototype.removeEventListener=function(e,t,n,r){Ct(this,e,t,n,r)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bt(n[r]);delete t.g[e],t.h--}}this.I=null},Ut.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ut.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Lt=_e.JSON.stringify;function jt(){var e=Yt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vt,Bt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=qt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),qt=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new zt}),(function(e){return e.reset()})),zt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ht(e){_e.setTimeout((function(){throw e}),0)}function Gt(e,t){Vt||function(){var e=_e.Promise.resolve(void 0);Vt=function(){e.then(Qt)}}(),Wt||(Vt(),Wt=!0),Yt.add(e,t)}var Wt=!1,Yt=new Bt;function Qt(){for(var e;e=jt();){try{e.h.call(e.g)}catch(Fv){Ht(Fv)}var t=qt;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wt=!1}function Kt(e,t){Ut.call(this),this.h=e||1,this.g=t||_e,this.j=Ae(this.kb,this),this.l=Date.now()}function Zt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function $t(e,t,n){if("function"===typeof e)n&&(e=Ae(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ae(e.handleEvent,e)}return 2147483647<Number(t)?-1:_e.setTimeout(e,t||0)}function Xt(e){e.g=$t((function(){e.g=null,e.i&&(e.i=!1,Xt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Pe(Kt,Ut),(ye=Kt.prototype).da=!1,ye.S=null,ye.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mt(this,"tick"),this.da&&(Zt(this),this.start()))}},ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){Kt.Z.M.call(this),Zt(this),delete this.g};var Jt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Xt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Oe);function en(e){Oe.call(this),this.h=e,this.g={}}Pe(en,Oe);var tn=[];function nn(e,t,n,r){Array.isArray(n)||(n&&(tn[0]=n.toString()),n=tn);for(var i=0;i<n.length;i++){var o=Tt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function rn(e){Ge(e.g,(function(e,t){this.g.hasOwnProperty(t)&&At(e)}),e),e.g={}}function on(){this.g=!0}function an(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Lt(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}en.prototype.M=function(){en.Z.M.call(this),rn(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Aa=function(){this.g=!1},on.prototype.info=function(){};var sn={},un=null;function cn(){return un=un||new Ut}function ln(e){dt.call(this,sn.Ma,e)}function fn(e){var t=cn();Mt(t,new ln(t,e))}function hn(e,t){dt.call(this,sn.STAT_EVENT,e),this.stat=t}function dn(e){var t=cn();Mt(t,new hn(t,e))}function pn(e,t){dt.call(this,sn.Na,e),this.size=t}function mn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _e.setTimeout((function(){e()}),t)}sn.Ma="serverreachability",Pe(ln,dt),sn.STAT_EVENT="statevent",Pe(hn,dt),sn.Na="timingevent",Pe(pn,dt);var vn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yn(){}function bn(e){return e.h||(e.h=e.i())}function wn(){}yn.prototype.h=null;var _n,Sn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function En(){dt.call(this,"d")}function kn(){dt.call(this,"c")}function Tn(){}function In(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new en(this),this.P=Cn,e=et?125:void 0,this.W=new Kt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}Pe(En,dt),Pe(kn,dt),Pe(Tn,yn),Tn.prototype.g=function(){return new XMLHttpRequest},Tn.prototype.i=function(){return{}},_n=new Tn;var Cn=45e3,An={},xn={};function Pn(e,t,n){e.K=1,e.v=er(Qn(t)),e.s=n,e.U=!0,On(e,null)}function On(e,t){e.F=Date.now(),Mn(e),e.A=Qn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Nn,e.g=pi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Jt(Ae(e.Ia,e,e.g),e.O)),nn(e.V,e.g,"readystatechange",e.gb),t=e.H?We(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fn(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dn(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Rn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Un(e,n))==xn){4==t&&(e.o=4,dn(14),i=!1),an(e.j,e.m,null,"[Incomplete Response]");break}if(r==An){e.o=4,dn(15),an(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}an(e.j,e.m,r,null),Bn(e,r)}Dn(e)&&r!=xn&&r!=An&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ai(t),t.L=!0,dn(11))):(an(e.j,e.m,n,"[Invalid Chunked Response]"),Vn(e),jn(e))}function Un(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xn:(n=Number(t.substring(n,r)),isNaN(n)?An:(r+=1)+n>t.length?xn:(t=t.substr(r,n),e.C=r+n,t))}function Mn(e){e.Y=Date.now()+e.P,Fn(e,e.P)}function Fn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mn(Ae(e.eb,e),t)}function Ln(e){e.B&&(_e.clearTimeout(e.B),e.B=null)}function jn(e){0==e.l.G||e.I||ci(e.l,e)}function Vn(e){Ln(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zt(e.W),rn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wr(n.i,e)))if(n.I=e.N,!e.J&&wr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ui(n),$r(n)}oi(n),dn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mn(Ae(n.ab,n),6e3));if(1>=br(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else fi(n,11)}else if((e.J||n.g==e)&&ui(n),!Le(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Be(l,"spdy")||Be(l,"quic")||Be(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(_r(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Jn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=di(r,r.H?r.la:null,r.W),d.J){Sr(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Ln(p),Mn(p)),r.g=d}else ii(r);0<n.l.length&&ei(n)}else"stop"!=o[0]&&"close"!=o[0]||fi(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?fi(n,7):Zr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}fn(4)}catch(o){}}function qn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ee(e)||"string"===typeof e)Ue(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ee(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ee(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function zn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ye=In.prototype).setTimeout=function(e){this.P=e},ye.gb=function(e){e=e.target;var t=this.L;t&&3==Gr(e)?t.l():this.Ia(e)},ye.Ia=function(e){try{if(e==this.g)e:{var t=Gr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||et||this.g&&(this.h.h||this.g.ga()||Wr(this.g)))){this.I||4!=t||7==n||fn(8==n||0>=r?3:2),Ln(this);var i=this.g.ba();this.N=i;t:if(Dn(this)){var o=Wr(this.g);e="";var a=o.length,s=4==Gr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vn(this),jn(this);var u="";break t}this.h.i=new _e.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,dn(12),Vn(this),jn(this);break e}an(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bn(this,i)}this.U?(Rn(this,t,u),et&&this.i&&3==t&&(nn(this.V,this.W,"tick",this.fb),this.W.start())):(an(this.j,this.m,u,null),Bn(this,u)),4==t&&Vn(this),this.i&&!this.I&&(4==t?ci(this.l,this):(this.i=!1,Mn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),Vn(this),jn(this)}}}catch(t){}},ye.fb=function(){if(this.g){var e=Gr(this.g),t=this.g.ga();this.C<t.length&&(Ln(this),Rn(this,e,t),this.i&&4!=e&&Mn(this))}},ye.cancel=function(){this.I=!0,Vn(this)},ye.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fn(3),dn(17)),Vn(this),this.o=2,jn(this)):Fn(this,this.Y-e)},(ye=zn.prototype).R=function(){Hn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ye.T=function(){return Hn(this),this.g.concat()},ye.get=function(e,t){return Gn(this.h,e)?this.h[e]:t},ye.set=function(e,t){Gn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ye.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Wn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Yn){this.g=void 0!==t?t:e.g,Kn(this,e.j),this.s=e.s,Zn(this,e.i),$n(this,e.m),this.l=e.l,t=e.h;var n=new cr;n.i=t.i,t.g&&(n.g=new zn(t.g),n.h=t.h),Xn(this,n),this.o=e.o}else e&&(n=String(e).match(Wn))?(this.g=!!t,Kn(this,n[1]||"",!0),this.s=tr(n[2]||""),Zn(this,n[3]||"",!0),$n(this,n[4]),this.l=tr(n[5]||"",!0),Xn(this,n[6]||"",!0),this.o=tr(n[7]||"")):(this.g=!!t,this.h=new cr(null,this.g))}function Qn(e){return new Yn(e)}function Kn(e,t,n){e.j=n?tr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zn(e,t,n){e.i=n?tr(t,!0):t}function $n(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xn(e,t,n){t instanceof cr?(e.h=t,function(e,t){t&&!e.j&&(lr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(fr(this,t),dr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=nr(t,sr)),e.h=new cr(t,e.g))}function Jn(e,t,n){e.h.set(t,n)}function er(e){return Jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,rr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nr(t,ir,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(nr(t,ir,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(nr(n,"/"==n.charAt(0)?ar:or,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",nr(n,ur)),e.join("")};var ir=/[#\/\?@]/g,or=/[#\?:]/g,ar=/[#\?]/g,sr=/[#\?@]/g,ur=/#/g;function cr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lr(e){e.g||(e.g=new zn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function fr(e,t){lr(e),t=pr(e,t),Gn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hn(e)))}function hr(e,t){return lr(e),t=pr(e,t),Gn(e.g.h,t)}function dr(e,t,n){fr(e,t),0<n.length&&(e.i=null,e.g.set(pr(e,t),Fe(n)),e.h+=n.length)}function pr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ye=cr.prototype).add=function(e,t){lr(this),this.i=null,e=pr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ye.forEach=function(e,t){lr(this),this.g.forEach((function(n,r){Ue(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ye.T=function(){lr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ye.R=function(e){lr(this);var t=[];if("string"===typeof e)hr(this,e)&&(t=Me(t,this.g.get(pr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Me(t,e[n])}return t},ye.set=function(e,t){return lr(this),this.i=null,hr(this,e=pr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ye.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var mr=function(e,t){this.h=e,this.g=t};function vr(e){this.l=e||gr,_e.PerformanceNavigationTiming?e=0<(e=_e.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_e.g&&_e.g.Ea&&_e.g.Ea()&&_e.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gr=10;function yr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function br(e){return e.h?1:e.g?e.g.size:0}function wr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _r(e,t){e.g?e.g.add(t):e.h=t}function Sr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Er(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ge(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Fe(e.i)}function kr(){}function Tr(){this.g=new kr}function Ir(e,t,n){var r=n||"";try{qn(e,(function(e,n){var i=e;ke(e)&&(i=Lt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(qp){throw t.push(r+"type="+encodeURIComponent("_badmap")),qp}}function Nr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Cr(e){this.l=e.$b||null,this.j=e.ib||!1}function Ar(e,t){Ut.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr.prototype.cancel=function(){var e,t;if(this.i=Er(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ge(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},kr.prototype.stringify=function(e){return _e.JSON.stringify(e,void 0)},kr.prototype.parse=function(e){return _e.JSON.parse(e,void 0)},Pe(Cr,yn),Cr.prototype.g=function(){return new Ar(this.l,this.j)},Cr.prototype.i=function(e){return function(){return e}}({}),Pe(Ar,Ut);var xr=0;function Pr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Or(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dr(e)}function Dr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ye=Ar.prototype).open=function(e,t){if(this.readyState!=xr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dr(this)},ye.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||_e).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Or(this)),this.readyState=xr},ye.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof _e.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ye.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Or(this):Dr(this),3==this.readyState&&Pr(this)}},ye.Ua=function(e){this.g&&(this.response=this.responseText=e,Or(this))},ye.Ta=function(e){this.g&&(this.response=e,Or(this))},ye.ha=function(){this.g&&Or(this)},ye.setRequestHeader=function(e,t){this.v.append(e,t)},ye.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rr=_e.JSON.parse;function Ur(e){Ut.call(this),this.headers=new zn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mr,this.K=this.L=!1}Pe(Ur,Ut);var Mr="",Fr=/^https?$/i,Lr=["POST","PUT"];function jr(e){return"content-type"==e.toLowerCase()}function Vr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Br(e),zr(e)}function Br(e){e.D||(e.D=!0,Mt(e,"complete"),Mt(e,"error"))}function qr(e){if(e.h&&"undefined"!=typeof we&&(!e.C[1]||4!=Gr(e)||2!=e.ba()))if(e.v&&4==Gr(e))$t(e.Fa,0,e);else if(Mt(e,"readystatechange"),4==Gr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Wn)[1]||null;if(!o&&_e.self&&_e.self.location){var a=_e.self.location.protocol;o=a.substr(0,a.length-1)}i=!Fr.test(o?o.toLowerCase():"")}t=i}if(t)Mt(e,"complete"),Mt(e,"success");else{e.m=6;try{var s=2<Gr(e)?e.g.statusText:""}catch(Mv){s=""}e.j=s+" ["+e.ba()+"]",Br(e)}}finally{zr(e)}}}function zr(e,t){if(e.g){Hr(e);var n=e.g,r=e.C[0]?Se:null;e.g=null,e.C=null,t||Mt(e,"ready");try{n.onreadystatechange=r}catch(qp){}}}function Hr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(_e.clearTimeout(e.A),e.A=null)}function Gr(e){return e.g?e.g.readyState:0}function Wr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Mr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ge(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Jn(e,t,n))}function Qr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kr(e){this.za=0,this.l=[],this.h=new on,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qr("baseRetryDelayMs",5e3,e),this.$a=Qr("retryDelaySeedMs",1e4,e),this.Ya=Qr("forwardChannelMaxRetries",2,e),this.ra=Qr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new vr(e&&e.concurrentRequestLimit),this.Ca=new Tr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zr(e){if(Xr(e),3==e.G){var t=e.V++,n=Qn(e.F);Jn(n,"SID",e.J),Jn(n,"RID",t),Jn(n,"TYPE","terminate"),ni(e,n),(t=new In(e,e.h,t,void 0)).K=2,t.v=er(Qn(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon&&(n=_e.navigator.sendBeacon(t.v.toString(),"")),!n&&_e.Image&&((new Image).src=t.v,n=!0),n||(t.g=pi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mn(t)}hi(e)}function $r(e){e.g&&(ai(e),e.g.cancel(),e.g=null)}function Xr(e){$r(e),e.u&&(_e.clearTimeout(e.u),e.u=null),ui(e),e.i.cancel(),e.m&&("number"===typeof e.m&&_e.clearTimeout(e.m),e.m=null)}function Jr(e,t){e.l.push(new mr(e.Za++,t)),3==e.G&&ei(e)}function ei(e){yr(e.i)||e.m||(e.m=!0,Gt(e.Ha,e),e.C=0)}function ti(e,t){var n;n=t?t.m:e.V++;var r=Qn(e.F);Jn(r,"SID",e.J),Jn(r,"RID",n),Jn(r,"AID",e.U),ni(e,r),e.o&&e.s&&Yr(r,e.o,e.s),n=new In(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ri(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_r(e.i,n),Pn(n,r,t)}function ni(e,t){e.j&&qn({},(function(e,n){Jn(t,n,e)}))}function ri(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ae(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Ir(l,a,"req"+c+"_")}catch(Ki){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ii(e){e.g||e.u||(e.Y=1,Gt(e.Ga,e),e.A=0)}function oi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=mn(Ae(e.Ga,e),li(e,e.A)),e.A++,!0)}function ai(e){null!=e.B&&(_e.clearTimeout(e.B),e.B=null)}function si(e){e.g=new In(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Qn(e.oa);Jn(t,"RID","rpc"),Jn(t,"SID",e.J),Jn(t,"CI",e.N?"0":"1"),Jn(t,"AID",e.U),ni(e,t),Jn(t,"TYPE","xmlhttp"),e.o&&e.s&&Yr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=er(Qn(t)),n.s=null,n.U=!0,On(n,e)}function ui(e){null!=e.v&&(_e.clearTimeout(e.v),e.v=null)}function ci(e,t){var n=null;if(e.g==t){ui(e),ai(e),e.g=null;var r=2}else{if(!wr(e.i,t))return;n=t.D,Sr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Mt(r=cn(),new pn(r,n,t,i)),ei(e)}else ii(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(br(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=mn(Ae(e.Ha,e,t),li(e,e.C)),e.C++,!0))}(e,t)||2==r&&oi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fi(e,5);break;case 4:fi(e,10);break;case 3:fi(e,6);break;default:fi(e,2)}}function li(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function fi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ae(e.jb,e);n||(n=new Yn("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||Kn(n,"https"),er(n)),function(e,t){var n=new on;if(_e.Image){var r=new Image;r.onload=xe(Nr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xe(Nr,n,r,"TestLoadImage: error",!1,t),r.onabort=xe(Nr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xe(Nr,n,r,"TestLoadImage: timeout",!1,t),_e.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dn(2);e.G=0,e.j&&e.j.va(t),hi(e),Xr(e)}function hi(e){e.G=0,e.I=-1,e.j&&(0==Er(e.i).length&&0==e.l.length||(e.i.i.length=0,Fe(e.l),e.l.length=0),e.j.ua())}function di(e,t,n){var r=function(e){return e instanceof Yn?Qn(e):new Yn(e,void 0)}(n);if(""!=r.i)t&&Zn(r,t+"."+r.i),$n(r,r.m);else{var i=_e.location;r=function(e,t,n,r){var i=new Yn(null,void 0);return e&&Kn(i,e),t&&Zn(i,t),n&&$n(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ge(e.aa,(function(e,t){Jn(r,t,e)})),t=e.D,n=e.sa,t&&n&&Jn(r,t,n),Jn(r,"VER",e.ma),ni(e,r),r}function pi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ur(new Cr({ib:!0})):new Ur(e.qa)).L=e.H,t}function mi(){}function vi(){if(Xe&&!(10<=Number(ft)))throw Error("Environmental error: no available transport.")}function gi(e,t){Ut.call(this),this.g=new Kr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Le(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Le(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wi(this)}function yi(e){En.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bi(){kn.call(this),this.status=1}function wi(e){this.g=e}(ye=Ur.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_n.g(),this.C=this.u?bn(this.u):bn(_n),this.g.onreadystatechange=Ae(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Vr(this,o)}e=n||"";var i=new zn(this.headers);r&&qn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=jr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=_e.FormData&&e instanceof _e.FormData,!(0<=Re(Lr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hr(this),0<this.B&&((this.K=function(e){return Xe&&ct()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ae(this.pa,this)):this.A=$t(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Vr(this,o)}},ye.pa=function(){"undefined"!=typeof we&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},ye.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mt(this,"complete"),Mt(this,"abort"),zr(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zr(this,!0)),Ur.Z.M.call(this)},ye.Fa=function(){this.s||(this.F||this.v||this.l?qr(this):this.cb())},ye.cb=function(){qr(this)},ye.ba=function(){try{return 2<Gr(this)?this.g.status:-1}catch(qv){return-1}},ye.ga=function(){try{return this.g?this.g.responseText:""}catch(qv){return""}},ye.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rr(t)}},ye.Da=function(){return this.m},ye.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ye=Kr.prototype).ma=8,ye.G=1,ye.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ye.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new In(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Qe(n=We(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ri(this,t,r),Jn(i=Qn(this.F),"RID",e),Jn(i,"CVER",22),this.D&&Jn(i,"X-HTTP-Session-Id",this.D),ni(this,i),this.o&&n&&Yr(i,this.o,n),_r(this.i,t),this.Ra&&Jn(i,"TYPE","init"),this.ja?(Jn(i,"$req",r),Jn(i,"SID","null"),t.$=!0,Pn(t,i,null)):Pn(t,i,r),this.G=2}}else 3==this.G&&(e?ti(this,e):0==this.l.length||yr(this.i)||ti(this))},ye.Ga=function(){if(this.u=null,si(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mn(Ae(this.bb,this),e)}},ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dn(10),$r(this),si(this))},ye.ab=function(){null!=this.v&&(this.v=null,$r(this),oi(this),dn(19))},ye.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dn(2)):(this.h.info("Failed to ping google.com"),dn(1))},(ye=mi.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Oa=function(){},vi.prototype.g=function(e,t){return new gi(e,t)},Pe(gi,Ut),gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gt(Ae(e.hb,e,t))),dn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=di(e,null,e.W),ei(e)},gi.prototype.close=function(){Zr(this.g)},gi.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Jr(this.g,t)}else this.v?((t={}).__data__=Lt(e),Jr(this.g,t)):Jr(this.g,e)},gi.prototype.M=function(){this.g.j=null,delete this.j,Zr(this.g),delete this.g,gi.Z.M.call(this)},Pe(yi,En),Pe(bi,kn),Pe(wi,mi),wi.prototype.xa=function(){Mt(this.g,"a")},wi.prototype.wa=function(e){Mt(this.g,new yi(e))},wi.prototype.va=function(e){Mt(this.g,new bi(e))},wi.prototype.ua=function(){Mt(this.g,"b")},vi.prototype.createWebChannel=vi.prototype.g,gi.prototype.send=gi.prototype.u,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,gn.COMPLETE="complete",wn.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,Ur.prototype.listenOnce=Ur.prototype.O,Ur.prototype.getLastError=Ur.prototype.La,Ur.prototype.getLastErrorCode=Ur.prototype.Da,Ur.prototype.getStatus=Ur.prototype.ba,Ur.prototype.getResponseJson=Ur.prototype.Qa,Ur.prototype.getResponseText=Ur.prototype.ga,Ur.prototype.send=Ur.prototype.ea;var _i=function(){return new vi},Si=function(){return cn()},Ei=vn,ki=gn,Ti=sn,Ii={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ni=Cr,Ci=wn,Ai=Ur,xi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();xi.o=-1;var Pi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return d(t,e),t}(Error),Di=new Z("@firebase/firestore");function Ri(){return Di.logLevel}function Ui(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=z.DEBUG){var r=t.map(Li);Di.debug.apply(Di,b(["Firestore (8.10.1): "+e],r))}}function Mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=z.ERROR){var r=t.map(Li);Di.error.apply(Di,b(["Firestore (8.10.1): "+e],r))}}function Fi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=z.WARN){var r=t.map(Li);Di.warn.apply(Di,b(["Firestore (8.10.1): "+e],r))}}function Li(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ji(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Mi(t),new Error(t)}function Vi(e,t){e||ji()}function Bi(e,t){return e}function qi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zi=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Hi(e,t){return e<t?-1:e>t?1:0}function Gi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Wi(e){return e+"\0"}var Yi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Hi(this.nanoseconds,e.nanoseconds):Hi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Qi=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Yi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Ki(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Xi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ji(),void 0===n?n=e.length-t:n>e.length-t&&ji(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Xi),eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return eo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Oi(Pi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Oi(Pi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Oi(Pi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Xi),no=function(){function e(e){this.fields=e,e.sort(to.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Gi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ro=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Hi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ro.EMPTY_BYTE_STRING=new ro("");var io=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(e){if(Vi(!!e),"string"==typeof e){var t=0,n=io.exec(e);if(Vi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ao(e.seconds),nanos:ao(e.nanos)}}function ao(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function so(e){return"string"==typeof e?ro.fromBase64String(e):ro.fromUint8Array(e)}function uo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function co(e){var t=e.mapValue.fields.__previous_value__;return uo(t)?co(t):t}function lo(e){var t=oo(e.mapValue.fields.__local_write_time__.timestampValue);return new Yi(t.seconds,t.nanos)}function fo(e){return null==e}function ho(e){return 0===e&&1/e==-1/0}function po(e){return"number"==typeof e&&Number.isInteger(e)&&!ho(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mo=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Ji.fromString(t))},e.fromName=function(t){return new e(Ji.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ji.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ji.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Ji(t.slice()))},e}();function vo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uo(e)?4:10:ji()}function go(e,t){var n=vo(e);if(n!==vo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lo(e).isEqual(lo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oo(e.timestampValue),r=oo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return so(e.bytesValue).isEqual(so(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ao(e.geoPointValue.latitude)===ao(t.geoPointValue.latitude)&&ao(e.geoPointValue.longitude)===ao(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ao(e.integerValue)===ao(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ao(e.doubleValue),r=ao(t.doubleValue);return n===r?ho(n)===ho(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gi(e.arrayValue.values||[],t.arrayValue.values||[],go);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ki(n)!==Ki(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!go(n[i],r[i])))return!1;return!0}(e,t);default:return ji()}}function yo(e,t){return void 0!==(e.values||[]).find((function(e){return go(e,t)}))}function bo(e,t){var n=vo(e),r=vo(t);if(n!==r)return Hi(n,r);switch(n){case 0:return 0;case 1:return Hi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ao(e.integerValue||e.doubleValue),r=ao(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wo(e.timestampValue,t.timestampValue);case 4:return wo(lo(e),lo(t));case 5:return Hi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=so(e),r=so(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Hi(n[i],r[i]);if(0!==o)return o}return Hi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Hi(ao(e.latitude),ao(t.latitude));return 0!==n?n:Hi(ao(e.longitude),ao(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=bo(n[i],r[i]);if(o)return o}return Hi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Hi(r[a],o[a]);if(0!==s)return s;var u=bo(n[r[a]],i[o[a]]);if(0!==u)return u}return Hi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ji()}}function wo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hi(e,t);var n=oo(e),r=oo(t),i=Hi(n.seconds,r.seconds);return 0!==i?i:Hi(n.nanos,r.nanos)}function _o(e){return So(e)}function So(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=oo(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?so(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mo.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=So(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+So(e.fields[o])}return t+"}"}(e.mapValue):ji();var t,n}function Eo(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ko(e){return!!e&&"integerValue"in e}function To(e){return!!e&&"arrayValue"in e}function Io(e){return!!e&&"nullValue"in e}function No(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Co(e){return!!e&&"mapValue"in e}function Ao(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zi(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ao(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ao(e.arrayValue.values[r]);return n}return Object.assign({},e)}var xo=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Co(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(t)},e.prototype.setAll=function(e){var t=this,n=to.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ao(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Co(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return go(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Co(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Zi(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Ao(this.value))},e}();function Po(e){var t=[];return Zi(e.fields,(function(e,n){var r=new to([e]);if(Co(n)){var i=Po(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new no(t)}var Oo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Qi.min(),xo.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,xo.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,xo.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Do=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ro(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Do(e,t,n,r,i,o,a)}function Uo(e){var t=Bi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+_o(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Qo(t.startAt)),t.endAt&&(n+="|ub:",n+=Qo(t.endAt)),t.h=n}return t.h}function Mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!go(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xo(e.startAt,t.startAt)&&Xo(e.endAt,t.endAt)}function Fo(e){return mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Lo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return d(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new jo(e,n,r):"array-contains"===n?new zo(e,r):"in"===n?new Ho(e,r):"not-in"===n?new Go(e,r):"array-contains-any"===n?new Wo(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Vo(e,n):new Bo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(bo(t,this.value)):null!==t&&vo(this.value)===vo(t)&&this.m(bo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ji()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),jo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=mo.fromName(r.referenceValue),i}return d(t,e),t.prototype.matches=function(e){var t=mo.comparator(e.key,this.key);return this.m(t)},t}(Lo),Vo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=qo("in",n),r}return d(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Lo),Bo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=qo("not-in",n),r}return d(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Lo);function qo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return mo.fromName(e.referenceValue)}))}var zo=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return To(t)&&yo(t.arrayValue,this.value)},t}(Lo),Ho=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&yo(this.value.arrayValue,t)},t}(Lo),Go=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return d(t,e),t.prototype.matches=function(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!yo(this.value.arrayValue,t)},t}(Lo),Wo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return d(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!To(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return yo(t.value.arrayValue,e)}))},t}(Lo),Yo=function(e,t){this.position=e,this.before=t};function Qo(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return _o(e)})).join(",")}var Ko=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Zo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $o(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?mo.comparator(mo.fromName(a.referenceValue),n.key):bo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Xo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!go(e.position[n],t.position[n]))return!1;return!0}var Jo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ea(e,t,n,r,i,o,a,s){return new Jo(e,t,n,r,i,o,a,s)}function ta(e){return new Jo(e)}function na(e){return!fo(e.limit)&&"F"===e.limitType}function ra(e){return!fo(e.limit)&&"L"===e.limitType}function ia(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function oa(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function aa(e){return null!==e.collectionGroup}function sa(e){var t=Bi(e);if(null===t.p){t.p=[];var n=oa(t),r=ia(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ko(n)),t.p.push(new Ko(to.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ko(to.keyField(),u))}}}return t.p}function ua(e){var t=Bi(e);if(!t.T)if("F"===t.limitType)t.T=Ro(t.path,t.collectionGroup,sa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=sa(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ko(o.field,a))}var s=t.endAt?new Yo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Yo(t.startAt.position,!t.startAt.before):null;t.T=Ro(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ca(e,t,n){return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function la(e,t){return Mo(ua(e),ua(t))&&e.limitType===t.limitType}function fa(e){return Uo(ua(e))+"|lt:"+e.limitType}function ha(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+_o(t.value);var t})).join(", ")+"]"),fo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Qo(e.startAt)),e.endAt&&(t+=", endAt: "+Qo(e.endAt)),"Target("+t+")"}(ua(e))+"; limitType="+e.limitType+")"}function da(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!$o(e.startAt,sa(e),t))&&(!e.endAt||!$o(e.endAt,sa(e),t))}(e,t)}function pa(e){return function(t,n){for(var r=!1,i=0,o=sa(e);i<o.length;i++){var a=o[i],s=ma(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ma(e,t,n){var r=e.field.isKeyField()?mo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bo(r,i):ji()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ji()}}function va(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ho(t)?"-0":t}}function ga(e){return{integerValue:""+e}}function ya(e,t){return po(t)?ga(t):va(e,t)}var ba=function(){this._=void 0};function wa(e,t,n){return e instanceof Ea?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ka?Ta(e,t):e instanceof Ia?Na(e,t):function(e,t){var n=Sa(e,t),r=Aa(n)+Aa(e.A);return ko(n)&&ko(e.A)?ga(r):va(e.R,r)}(e,t)}function _a(e,t,n){return e instanceof ka?Ta(e,t):e instanceof Ia?Na(e,t):n}function Sa(e,t){return e instanceof Ca?ko(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(ba),ka=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(ba);function Ta(e,t){for(var n=xa(t),r=function(e){n.some((function(t){return go(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ia=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(ba);function Na(e,t){for(var n=xa(t),r=function(e){n=n.filter((function(t){return!go(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return d(t,e),t}(ba);function Aa(e){return ao(e.integerValue||e.doubleValue)}function xa(e){return To(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pa=function(e,t){this.field=e,this.transform=t},Oa=function(e,t){this.version=e,this.transformResults=t},Da=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Ra(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ua=function(){};function Ma(e,t,n){e instanceof Ba?function(e,t,n){var r=e.value.clone(),i=Ha(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qa?function(e,t,n){if(Ra(e.precondition,t)){var r=Ha(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(za(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fa(e,t,n){e instanceof Ba?function(e,t,n){if(Ra(e.precondition,t)){var r=e.value.clone(),i=Ga(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Va(t),r).setHasLocalMutations()}}(e,t,n):e instanceof qa?function(e,t,n){if(Ra(e.precondition,t)){var r=Ga(e.fieldTransforms,n,t),i=t.data;i.setAll(za(e)),i.setAll(r),t.convertToFoundDocument(Va(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ra(e.precondition,t)&&t.convertToNoDocument(Qi.min())}(e,t)}function La(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Sa(o.transform,a||null);null!=s&&(null==n&&(n=xo.empty()),n.set(o.field,s))}return n||null}function ja(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ka&&t instanceof ka||e instanceof Ia&&t instanceof Ia?Gi(e.elements,t.elements,go):e instanceof Ca&&t instanceof Ca?go(e.A,t.A):e instanceof Ea&&t instanceof Ea}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Va(e){return e.isFoundDocument()?e.version:Qi.min()}var Ba=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return d(t,e),t}(Ua),qa=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return d(t,e),t}(Ua);function za(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ha(e,t,n){var r=new Map;Vi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,_a(a,s,n[i]))}return r}function Ga(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,wa(s,u,t))}return r}var Wa,Ya,Qa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return d(t,e),t}(Ua),Ka=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return d(t,e),t}(Ua),Za=function(e){this.count=e};function $a(e){switch(e){case Pi.OK:return ji();case Pi.CANCELLED:case Pi.UNKNOWN:case Pi.DEADLINE_EXCEEDED:case Pi.RESOURCE_EXHAUSTED:case Pi.INTERNAL:case Pi.UNAVAILABLE:case Pi.UNAUTHENTICATED:return!1;case Pi.INVALID_ARGUMENT:case Pi.NOT_FOUND:case Pi.ALREADY_EXISTS:case Pi.PERMISSION_DENIED:case Pi.FAILED_PRECONDITION:case Pi.ABORTED:case Pi.OUT_OF_RANGE:case Pi.UNIMPLEMENTED:case Pi.DATA_LOSS:return!0;default:return ji()}}function Xa(e){if(void 0===e)return Mi("GRPC error has no .code"),Pi.UNKNOWN;switch(e){case Wa.OK:return Pi.OK;case Wa.CANCELLED:return Pi.CANCELLED;case Wa.UNKNOWN:return Pi.UNKNOWN;case Wa.DEADLINE_EXCEEDED:return Pi.DEADLINE_EXCEEDED;case Wa.RESOURCE_EXHAUSTED:return Pi.RESOURCE_EXHAUSTED;case Wa.INTERNAL:return Pi.INTERNAL;case Wa.UNAVAILABLE:return Pi.UNAVAILABLE;case Wa.UNAUTHENTICATED:return Pi.UNAUTHENTICATED;case Wa.INVALID_ARGUMENT:return Pi.INVALID_ARGUMENT;case Wa.NOT_FOUND:return Pi.NOT_FOUND;case Wa.ALREADY_EXISTS:return Pi.ALREADY_EXISTS;case Wa.PERMISSION_DENIED:return Pi.PERMISSION_DENIED;case Wa.FAILED_PRECONDITION:return Pi.FAILED_PRECONDITION;case Wa.ABORTED:return Pi.ABORTED;case Wa.OUT_OF_RANGE:return Pi.OUT_OF_RANGE;case Wa.UNIMPLEMENTED:return Pi.UNIMPLEMENTED;case Wa.DATA_LOSS:return Pi.DATA_LOSS;default:return ji()}}(Ya=Wa||(Wa={}))[Ya.OK=0]="OK",Ya[Ya.CANCELLED=1]="CANCELLED",Ya[Ya.UNKNOWN=2]="UNKNOWN",Ya[Ya.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ya[Ya.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ya[Ya.NOT_FOUND=5]="NOT_FOUND",Ya[Ya.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ya[Ya.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ya[Ya.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ya[Ya.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ya[Ya.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ya[Ya.ABORTED=10]="ABORTED",Ya[Ya.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ya[Ya.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ya[Ya.INTERNAL=13]="INTERNAL",Ya[Ya.UNAVAILABLE=14]="UNAVAILABLE",Ya[Ya.DATA_LOSS=15]="DATA_LOSS";var Ja=function(){function e(e,t){this.comparator=e,this.root=t||ts.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ts.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ts.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new es(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new es(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new es(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new es(this.root,e,this.comparator,!0)},e}(),es=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ts=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ji();if(this.right.isRed())throw ji();var e=this.left.check();if(e!==this.right.check())throw ji();return e+(this.isRed()?0:1)},e}();ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1,ts.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ji()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ji()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ji()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ji()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ji()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ts(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ns=function(){function e(e){this.comparator=e,this.data=new Ja(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new rs(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new rs(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),rs=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),is=new Ja(mo.comparator);function os(){return is}var as=new Ja(mo.comparator);function ss(){return as}var us=new Ja(mo.comparator);function cs(){return us}var ls=new ns(mo.comparator);function fs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ls,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var hs=new ns(Hi);function ds(){return hs}var ps=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ms.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qi.min(),r,ds(),os(),fs())},e}(),ms=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ro.EMPTY_BYTE_STRING,n,fs(),fs(),fs())},e}(),vs=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},gs=function(e,t){this.targetId=e,this.V=t},ys=function(e,t,n,r){void 0===n&&(n=ro.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},bs=function(){function e(){this.S=0,this.D=Ss(),this.C=ro.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=fs(),t=fs(),n=fs();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ji()}})),new ms(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Ss()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ws=function(){function e(e){this.W=e,this.G=new Map,this.H=os(),this.J=_s(),this.Y=new ns(Hi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:ji()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Fo(i))if(0===n){var o=new mo(i.path);this.tt(t,o,Oo.newNoDocument(o,Qi.min()))}else Vi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Fo(o.target)){var a=new mo(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Oo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=fs();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ps(e,n,this.Y,this.H,r);return this.H=os(),this.J=_s(),this.Y=new ns(Hi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new bs,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ns(Hi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Ui("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new bs),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function _s(){return new Ja(mo.comparator)}function Ss(){return new Ja(mo.comparator)}var Es={asc:"ASCENDING",desc:"DESCENDING"},ks={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ts=function(e,t){this.databaseId=e,this.I=t};function Is(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ns(e,t){return e.I?t.toBase64():t.toUint8Array()}function Cs(e,t){return Is(e,t.toTimestamp())}function As(e){return Vi(!!e),Qi.fromTimestamp(function(e){var t=oo(e);return new Yi(t.seconds,t.nanos)}(e))}function xs(e,t){return function(e){return new Ji(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ps(e){var t=Ji.fromString(e);return Vi(tu(t)),t}function Os(e,t){return xs(e.databaseId,t.path)}function Ds(e,t){var n=Ps(t);if(n.get(1)!==e.databaseId.projectId)throw new Oi(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oi(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mo(Fs(n))}function Rs(e,t){return xs(e.databaseId,t)}function Us(e){var t=Ps(e);return 4===t.length?Ji.emptyPath():Fs(t)}function Ms(e){return new Ji(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fs(e){return Vi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ls(e,t,n){return{name:Os(e,t),fields:n.value.mapValue.fields}}function js(e,t,n){var r=Ds(e,t.name),i=As(t.updateTime),o=new xo({mapValue:{fields:t.fields}}),a=Oo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Vs(e,t){var n;if(t instanceof Ba)n={update:Ls(e,t.key,t.value)};else if(t instanceof Qa)n={delete:Os(e,t.key)};else if(t instanceof qa)n={update:Ls(e,t.key,t.data),updateMask:eu(t.fieldMask)};else{if(!(t instanceof Ka))return ji();n={verify:Os(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ia)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ji()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ji()}(e,t.precondition)),n}function Bs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Da.updateTime(As(e.updateTime)):void 0!==e.exists?Da.exists(e.exists):Da.none()}(t.currentDocument):Da.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Vi("REQUEST_TIME"===t.setToServerValue),n=new Ea;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ka(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ia(i)}else"increment"in t?n=new Ca(e,t.increment):ji();var o=to.fromServerFormat(t.fieldPath);return new Pa(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ds(e,t.update.name),o=new xo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new no(t.map((function(e){return to.fromServerFormat(e)})))}(t.updateMask);return new qa(i,o,a,n,r)}return new Ba(i,o,n,r)}if(t.delete){var s=Ds(e,t.delete);return new Qa(s,n)}if(t.verify){var u=Ds(e,t.verify);return new Ka(u,n)}return ji()}function qs(e,t){return{documents:[Rs(e,t.path)]}}function zs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Rs(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rs(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(No(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NAN"}};if(Io(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(No(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NOT_NAN"}};if(Io(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(e.field),op:Ks(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Zs(e.field),direction:Qs(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||fo(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ws(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ws(t.endAt)),n}function Hs(e){var t=Us(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Gs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ko($s(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return fo(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ys(n.startAt));var l=null;return n.endAt&&(l=Ys(n.endAt)),ea(t,i,s,a,u,"F",c,l)}function Gs(e){return e?void 0!==e.unaryFilter?[Js(e)]:void 0!==e.fieldFilter?[Xs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Gs(e)})).reduce((function(e,t){return e.concat(t)})):ji():[]}function Ws(e){return{before:e.before,values:e.position}}function Ys(e){var t=!!e.before,n=e.values||[];return new Yo(n,t)}function Qs(e){return Es[e]}function Ks(e){return ks[e]}function Zs(e){return{fieldPath:e.canonicalString()}}function $s(e){return to.fromServerFormat(e.fieldPath)}function Xs(e){return Lo.create($s(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ji()}}(e.fieldFilter.op),e.fieldFilter.value)}function Js(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$s(e.unaryFilter.field);return Lo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$s(e.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$s(e.unaryFilter.field);return Lo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$s(e.unaryFilter.field);return Lo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ji()}}function eu(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nu(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=iu(t)),t=ru(e.get(n),t);return iu(t)}function ru(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function iu(e){return e+"\x01\x01"}function ou(e){var t=e.length;if(Vi(t>=2),2===t)return Vi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ji.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&ji(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:ji()}o=a+2}return new Ji(r)}var au=function(e,t){this.seconds=e,this.nanoseconds=t},su=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};su.store="owner",su.key="owner";var uu=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};uu.store="mutationQueues",uu.keyPath="userId";var cu=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cu.store="mutations",cu.keyPath="batchId",cu.userMutationsIndex="userMutationsIndex",cu.userMutationsKeyPath=["userId","batchId"];var lu=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,nu(t)]},e.key=function(e,t,n){return[e,nu(t),n]},e}();lu.store="documentMutations",lu.PLACEHOLDER=new lu;var fu=function(e,t){this.path=e,this.readTime=t},hu=function(e,t){this.path=e,this.version=t},du=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};du.store="remoteDocuments",du.readTimeIndex="readTimeIndex",du.readTimeIndexPath="readTime",du.collectionReadTimeIndex="collectionReadTimeIndex",du.collectionReadTimeIndexPath=["parentPath","readTime"];var pu=function(e){this.byteSize=e};pu.store="remoteDocumentGlobal",pu.key="remoteDocumentGlobalKey";var mu=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};mu.store="targets",mu.keyPath="targetId",mu.queryTargetsIndexName="queryTargetsIndex",mu.queryTargetsKeyPath=["canonicalId","targetId"];var vu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};vu.store="targetDocuments",vu.keyPath=["targetId","path"],vu.documentTargetsIndex="documentTargetsIndex",vu.documentTargetsKeyPath=["path","targetId"];var gu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gu.key="targetGlobalKey",gu.store="targetGlobal";var yu=function(e,t){this.collectionId=e,this.parent=t};yu.store="collectionParents",yu.keyPath=["collectionId","parent"];var bu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};bu.store="clientMetadata",bu.keyPath="clientId";var wu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};wu.store="bundles",wu.keyPath="bundleId";var _u=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};_u.store="namedQueries",_u.keyPath="name";var Su=b(b([],b(b([],b(b([],b(b([],[uu.store,cu.store,lu.store,du.store,mu.store,su.store,gu.store,vu.store]),[bu.store])),[pu.store])),[yu.store])),[wu.store,_u.store]),Eu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ku=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Tu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Iu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ji(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Nu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Tu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new xu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Uu(t.target.error);n.ft.reject(new xu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ui("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Ou(t)},e}(),Cu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(I())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ui("SimpleDb","Removing database:",e),Du(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=I(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return m(this,void 0,void 0,(function(){var t,n=this;return v(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ui("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Oi(Pi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new xu(e,n))},i.onupgradeneeded=function(e){Ui("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Ui("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return v(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Nu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Iu.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Ui("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Au=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Du(this.Pt.delete())},e}(),xu=function(e){function t(t,n){var r=this;return(r=e.call(this,Pi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return d(t,e),t}(Oi);function Pu(e){return"IndexedDbTransactionError"===e.name}var Ou=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ui("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ui("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Du(n)},e.prototype.add=function(e){return Ui("SimpleDb","ADD",this.store.name,e,e),Du(this.store.add(e))},e.prototype.get=function(e){var t=this;return Du(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ui("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Ui("SimpleDb","DELETE",this.store.name,e),Du(this.store.delete(e))},e.prototype.count=function(){return Ui("SimpleDb","COUNT",this.store.name),Du(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Ui("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Iu((function(n,r){t.onerror=function(e){var t=Uu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Iu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Au(i),a=t(i.primaryKey,i.value,o);if(a instanceof Iu){var s=a.catch((function(e){return o.done(),Iu.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Iu.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Du(e){return new Iu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Uu(e.target.error);n(t)}}))}var Ru=!1;function Uu(e){var t=Cu._t(I());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ru||(Ru=!0,setTimeout((function(){throw r}),0)),r}}return e}var Mu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return d(t,e),t}(ku);function Fu(e,t){var n=Bi(e);return Cu.It(n.Mt,t)}var Lu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ma(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Fa(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Fa(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qi.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fs())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(function(e,t){return ja(e,t)}))&&Gi(this.baseMutations,e.baseMutations,(function(e,t){return ja(e,t)}))},e}(),ju=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Vi(t.mutations.length===r.length);for(var i=cs(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Vu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Qi.min()),void 0===o&&(o=Qi.min()),void 0===a&&(a=ro.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Bu=function(e){this.Lt=e};function qu(e,t){if(t.document)return js(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=mo.fromSegments(t.noDocument.path),r=Yu(t.noDocument.readTime),i=Oo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=mo.fromSegments(t.unknownDocument.path);return r=Yu(t.unknownDocument.version),Oo.newUnknownDocument(o,r)}return ji()}function zu(e,t,n){var r=Hu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Os(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Is(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new du(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Wu(t.version);return a=t.hasCommittedMutations,new du(null,new fu(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Wu(t.version);return new du(new hu(c,l),null,null,!0,r,i)}return ji()}function Hu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gu(e){var t=new Yi(e[0],e[1]);return Qi.fromTimestamp(t)}function Wu(e){var t=e.toTimestamp();return new au(t.seconds,t.nanoseconds)}function Yu(e){var t=new Yi(e.seconds,e.nanoseconds);return Qi.fromTimestamp(t)}function Qu(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Bs(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Bs(e.Lt,t)})),s=Yi.fromMillis(t.localWriteTimeMs);return new Lu(t.batchId,s,n,a)}function Ku(e){var t,n,r=Yu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Yu(e.lastLimboFreeSnapshotVersion):Qi.min();return void 0!==e.query.documents?(Vi(1===(n=e.query).documents.length),t=ua(ta(Us(n.documents[0])))):t=function(e){return ua(Hs(e))}(e.query),new Vu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ro.fromBase64String(e.resumeToken))}function Zu(e,t){var n,r=Wu(t.snapshotVersion),i=Wu(t.lastLimboFreeSnapshotVersion);n=Fo(t.target)?qs(e.Lt,t.target):zs(e.Lt,t.target);var o=t.resumeToken.toBase64();return new mu(t.targetId,Uo(t.target),r,o,t.sequenceNumber,i,n)}function $u(e){var t=Hs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ca(t,t.limit,"L"):t}var Xu=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ju(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Yu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ju(e).put({bundleId:(n=t).id,createTime:Wu(As(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return ec(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:$u(t.bundledQuery),readTime:Yu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return ec(e).put(function(e){return{name:e.name,readTime:Wu(As(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ju(e){return Fu(e,wu.store)}function ec(e){return Fu(e,_u.store)}var tc=function(){function e(){this.Bt=new nc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Iu.resolve()},e.prototype.getCollectionParents=function(e,t){return Iu.resolve(this.Bt.getEntries(t))},e}(),nc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ns(Ji.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ns(Ji.comparator)).toArray()},e}(),rc=function(){function e(){this.qt=new nc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:nu(i)};return ic(e).put(o)}return Iu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Wi(t),""],!1,!0);return ic(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ou(o.parent))}return n}))},e}();function ic(e){return Fu(e,yu.store)}var oc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ac=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function sc(e,t,n){var r=e.store(cu.store),i=e.store(lu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Vi(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=lu.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Iu.waitFor(o).next((function(){return c}))}function uc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ji();t=e.noDocument}return JSON.stringify(t).length}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);var cc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Vi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).$t({index:cu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=hc(e),a=fc(e);return a.add({}).next((function(s){Vi("number"==typeof s);for(var u=new Lu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Vs(e.Lt,t)})),i=n.mutations.map((function(t){return Vs(e.Lt,t)}));return new cu(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new ns((function(e,t){return Hi(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],m=lu.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,lu.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Iu.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return fc(e).get(t).next((function(e){return e?(Vi(e.userId===n.userId),Qu(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Iu.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fc(e).$t({index:cu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Vi(t.batchId>=r),o=Qu(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fc(e).$t({index:cu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).Nt(cu.userMutationsIndex,n).next((function(e){return e.map((function(e){return Qu(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=lu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return hc(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ou(u);if(s===n.userId&&t.path.isEqual(l))return fc(e).get(c).next((function(e){if(!e)throw ji();Vi(e.userId===n.userId),o.push(Qu(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ns(Hi),i=[];return t.forEach((function(t){var o=lu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=hc(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=ou(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Iu.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=lu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ns(Hi);return hc(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=ou(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(fc(e).get(t).next((function(e){if(null===e)throw ji();Vi(e.userId===n.userId),r.push(Qu(n.R,e))})))})),Iu.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return sc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Iu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Iu.resolve();var r=IDBKeyRange.lowerBound(lu.prefixForUser(t.userId)),i=[];return hc(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=ou(e[1]);i.push(o)}else r.done()})).next((function(){Vi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return lc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return dc(e).get(this.userId).next((function(e){return e||new uu(t.userId,-1,"")}))},e}();function lc(e,t,n){var r=lu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return hc(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function fc(e){return Fu(e,cu.store)}function hc(e){return Fu(e,lu.store)}function dc(e){return Fu(e,uu.store)}var pc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),mc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new pc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Qi.fromTimestamp(new Yi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return vc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Vi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return vc(e).$t((function(a,s){var u=Ku(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Iu.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return vc(e).$t((function(e,n){var r=Ku(n);t(r)}))},e.prototype.Xt=function(e){return gc(e).get(gu.key).next((function(e){return Vi(null!==e),e}))},e.prototype.Zt=function(e,t){return gc(e).put(gu.key,t)},e.prototype.te=function(e,t){return vc(e).put(Zu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Uo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vc(e).$t({range:r,index:mu.queryTargetsIndexName},(function(e,n,r){var o=Ku(n);Mo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=yc(e);return t.forEach((function(t){var a=nu(t.path);i.push(o.put(new vu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Iu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=yc(e);return Iu.forEach(t,(function(t){var o=nu(t.path);return Iu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=yc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yc(e),i=fs();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=ou(e[1]),o=new mo(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=nu(t.path),r=IDBKeyRange.bound([n],[Wi(n)],!1,!0),i=0;return yc(e).$t({index:vu.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return vc(e).get(t).next((function(e){return e?Ku(e):null}))},e}();function vc(e){return Fu(e,mu.store)}function gc(e){return Fu(e,gu.store)}function yc(e){return Fu(e,vu.store)}function bc(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){if(e.code!==Pi.FAILED_PRECONDITION||e.message!==Eu)throw e;return Ui("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function wc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Hi(n,i);return 0===a?Hi(r,o):a}var _c=function(){function e(e){this.ne=e,this.buffer=new ns(wc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Sc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ui("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return m(t,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Pu(t=n.sent())?(Ui("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,bc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Ec=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Iu.resolve(xi.o);var r=new _c(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ui("LruGarbageCollector","Garbage collection skipped; disabled"),Iu.resolve(oc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ui("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),oc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ui("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ri()<=z.DEBUG&&Ui("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Iu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),kc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ec(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Tc(e,n)},e.prototype.removeReference=function(e,t,n){return Tc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Tc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return dc(e).Ot((function(r){return lc(e,r,t).next((function(e){return e&&(n=!0),Iu.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),yc(e).delete([0,nu(a.path)])}))}));i.push(u)}})).next((function(){return Iu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Tc(e,t)},e.prototype.we=function(e,t){var n,r=yc(e),i=xi.o;return r.$t({index:vu.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==xi.o&&t(new mo(ou(n)),i),i=s,n=a):i=xi.o})).next((function(){i!==xi.o&&t(new mo(ou(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Tc(e,t){return yc(e).put(function(e,t){return new vu(0,nu(e.path),t)}(t,e.currentSequenceNumber))}var Ic=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Zi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return $i(this.inner)},e}(),Nc=function(){function e(){this.changes=new Ic((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Qi.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Oo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Iu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Cc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Pc(e).put(Oc(t),n)},e.prototype.removeEntry=function(e,t){var n=Pc(e),r=Oc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Pc(e).get(Oc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Pc(e).get(Oc(t)).next((function(e){return{document:n.ye(t,e),size:uc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=os();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=os(),i=new Ja(mo.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,uc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Iu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Pc(e).$t({range:r},(function(e,t,r){for(var a=mo.fromSegments(e);o&&mo.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=os(),o=t.path.length+1,a={};if(n.isEqual(Qi.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Hu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=du.collectionReadTimeIndex}return Pc(e).$t(a,(function(e,n,a){if(e.length===o){var s=qu(r.R,n);t.path.isPrefixOf(s.key.path)?da(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Ac(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return xc(e).get(pu.key).next((function(e){return Vi(!!e),e}))},e.prototype.me=function(e,t){return xc(e).put(pu.key,t)},e.prototype.ye=function(e,t){if(t){var n=qu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Qi.min()))return n}return Oo.newInvalidDocument(e)},e}(),Ac=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Ic((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ns((function(e,t){return Hi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=zu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=uc(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=zu(t.Ie.R,Oo.newNoDocument(o,Qi.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Iu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Nc);function xc(e){return Fu(e,pu.store)}function Pc(e){return Fu(e,du.store)}function Oc(e){return e.path.toArray()}var Dc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Vi(n<r&&n>=0&&r<=11);var o=new Nu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(su.store)}(e),function(e){e.createObjectStore(uu.store,{keyPath:uu.keyPath}),e.createObjectStore(cu.store,{keyPath:cu.keyPath,autoIncrement:!0}).createIndex(cu.userMutationsIndex,cu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(lu.store)}(e),Rc(e),function(e){e.createObjectStore(du.store)}(e));var a=Iu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(vu.store),e.deleteObjectStore(mu.store),e.deleteObjectStore(gu.store)}(e),Rc(e)),a=a.next((function(){return function(e){var t=e.store(gu.store),n=new gu(0,0,Qi.min().toTimestamp(),0);return t.put(gu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(cu.store).Nt().next((function(n){e.deleteObjectStore(cu.store),e.createObjectStore(cu.store,{keyPath:cu.keyPath,autoIncrement:!0}).createIndex(cu.userMutationsIndex,cu.userMutationsKeyPath,{unique:!0});var r=t.store(cu.store),i=n.map((function(e){return r.put(e)}));return Iu.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(bu.store,{keyPath:bu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(pu.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(du.store);t.createIndex(du.readTimeIndex,du.readTimeIndexPath,{unique:!1}),t.createIndex(du.collectionReadTimeIndex,du.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(wu.store,{keyPath:wu.keyPath})}(e),function(e){e.createObjectStore(_u.store,{keyPath:_u.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(du.store).$t((function(e,n){t+=uc(n)})).next((function(){var n=new pu(t);return e.store(pu.store).put(pu.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(uu.store),r=e.store(cu.store);return n.Nt().next((function(n){return Iu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cu.userMutationsIndex,i).next((function(r){return Iu.forEach(r,(function(r){Vi(r.userId===n.userId);var i=Qu(t.R,r);return sc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(vu.store),n=e.store(du.store);return e.store(gu.store).get(gu.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Ji(n),a=function(e){return[0,nu(e)]}(o);r.push(t.get(a).next((function(n){return n?Iu.resolve():function(n){return t.put(new vu(0,nu(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Iu.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(yu.store,{keyPath:yu.keyPath});var n=t.store(yu.store),r=new nc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nu(i)})}};return t.store(du.store).$t({Ft:!0},(function(e,t){var n=new Ji(e);return i(n.popLast())})).next((function(){return t.store(lu.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=ou(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(mu.store);return n.$t((function(e,r){var i=Ku(r),o=Zu(t.R,i);return n.put(o)}))},e}();function Rc(e){e.createObjectStore(vu.store,{keyPath:vu.keyPath}).createIndex(vu.documentTargetsIndex,vu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mu.store,{keyPath:mu.keyPath}).createIndex(mu.queryTargetsIndexName,mu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gu.store)}var Uc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Oi(Pi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kc(this,i),this.Le=n+"main",this.R=new Bu(u),this.Be=new Cu(this.Le,11,new Dc(this.R)),this.qe=new mc(this.referenceDelegate,this.R),this.Ut=new rc,this.Ue=function(e,t){return new Cc(e,t)}(this.R,this.Ut),this.Ke=new Xu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oi(Pi.FAILED_PRECONDITION,Uc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new xi(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return m(t,void 0,void 0,(function(){return v(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return m(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return m(t,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Lc(t).put(new bu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Pu(t))return Ui("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ui("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Fc(e).get(su.key).next((function(e){return Iu.resolve(t.tn(e))}))},e.prototype.en=function(e){return Lc(e).delete(this.clientId)},e.prototype.nn=function(){return m(this,void 0,void 0,(function(){var e,t,n,r,i=this;return v(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Fu(e,bu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Iu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Iu.resolve(!0):Fc(e).get(su.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Oi(Pi.FAILED_PRECONDITION,Uc);return!1}}return!(!t.networkEnabled||!t.inForeground)||Lc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ui("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return m(this,void 0,void 0,(function(){var e=this;return v(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[su.store,bu.store],(function(t){var n=new Mu(t,xi.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Lc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return cc.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ui("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Su,(function(o){return i=new Mu(o,r.Ne?r.Ne.next():xi.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Mi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Oi(Pi.FAILED_PRECONDITION,Eu);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Fc(e).get(su.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oi(Pi.FAILED_PRECONDITION,Uc)}))},e.prototype.Ze=function(e){var t=new su(this.clientId,this.allowTabSynchronization,Date.now());return Fc(e).put(su.key,t)},e.yt=function(){return Cu.yt()},e.prototype.Xe=function(e){var t=this,n=Fc(e);return n.get(su.key).next((function(e){return t.tn(e)?(Ui("IndexedDbPersistence","Releasing primary lease."),n.delete(su.key)):Iu.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Mi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ui("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Mi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Fc(e){return Fu(e,su.store)}function Lc(e){return Fu(e,bu.store)}function jc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Vc=function(e,t){this.progress=e,this.wn=t},Bc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):aa(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new mo(t)).next((function(e){var t=ss();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ss();return this.Ut.getCollectionParents(e,i).next((function(a){return Iu.forEach(a,(function(a){var s=function(e,t){return new Jo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Oo.newInvalidDocument(c),r=r.insert(c,l)),Fa(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){da(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=fs(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof qa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),qc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=fs(),i=fs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),zc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Qi.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(na(t)||ra(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Ri()<=z.DEBUG&&Ui("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ha(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ns(pa(e));return t.forEach((function(t,r){da(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Ri()<=z.DEBUG&&Ui("QueryEngine","Using full collection scan to execute query:",ha(t)),this.Sn.getDocumentsMatchingQuery(e,t,Qi.min())},e}(),Hc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ja(Hi),this.Fn=new Ic((function(e){return Uo(e)}),Mo),this.$n=Qi.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Bc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Gc(e,t,n,r){return new Hc(e,t,n,r)}function Wc(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o;return v(this,(function(a){switch(a.label){case 0:return n=Bi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Bc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=fs(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Yc(e,t){var n=Bi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Iu.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Vi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Qc(e){var t=Bi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Kc(e,t){var n=Bi(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Vi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=os();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Zc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Qi.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Iu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Zc(e,t,n,r,i){var o=fs();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=os();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Qi.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ui("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function $c(e,t){var n=Bi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Xc(e,t){var n=Bi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Iu.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Vu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Jc(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:r=Bi(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Pu(a=s.sent()))throw a;return Ui("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function el(e,t,n){var r=Bi(e),i=Qi.min(),o=fs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Bi(e),i=r.Fn.get(n);return void 0!==i?Iu.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ua(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Qi.min(),n?o:fs())})).next((function(e){return{documents:e,Bn:o}}))}))}function tl(e,t){var n=Bi(e),r=Bi(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function nl(e){var t=Bi(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Bi(e),i=os(),o=Hu(n),a=Pc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:du.readTimeIndex,range:s},(function(e,t){var n=qu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Gu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function rl(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){return[2,(t=Bi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Pc(e),n=Qi.min();return t.$t({index:du.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Gu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function il(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return v(this,(function(p){switch(p.label){case 0:for(i=Bi(e),o=fs(),a=os(),s=cs(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Xc(i,function(e){return ua(ta(Ji.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Zc(e,h,a,Qi.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function ol(e,t,n){return void 0===n&&(n=fs()),m(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return[4,Xc(e,ua($u(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bi(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=As(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(ro.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var al=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Iu.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:As(n.createTime)}),Iu.resolve()},e.prototype.getNamedQuery=function(e,t){return Iu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:$u(e.bundledQuery),readTime:As(e.readTime)}}(t)),Iu.resolve()},e}(),sl=function(){function e(){this.Wn=new ns(ul.Gn),this.zn=new ns(ul.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new ul(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new ul(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new mo(new Ji([])),r=new ul(n,e),i=new ul(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new mo(new Ji([])),n=new ul(t,e),r=new ul(t,e+1),i=fs();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new ul(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ul=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return mo.comparator(e.key,t.key)||Hi(e.ns,t.ns)},e.Hn=function(e,t){return Hi(e.ns,t.ns)||mo.comparator(e.key,t.key)},e}(),cl=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ns(ul.Gn)}return e.prototype.checkEmpty=function(e){return Iu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Lu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new ul(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Iu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Iu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Iu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Iu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Iu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ul(t,0),i=new ul(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Iu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ns(Hi);return t.forEach((function(e){var t=new ul(e,0),i=new ul(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Iu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;mo.isDocumentKey(i)||(i=i.child(""));var o=new ul(new mo(i),0),a=new ns(Hi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Iu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Vi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Iu.forEach(t.mutations,(function(i){var o=new ul(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new ul(t,0),r=this.rs.firstAfterOrEqual(n);return Iu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Iu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ll=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ja(mo.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Iu.resolve(n?n.document.clone():Oo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=os();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Oo.newInvalidDocument(e))})),Iu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=os(),i=new mo(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||da(t,c)&&(r=r.insert(c.key,c.clone()))}return Iu.resolve(r)},e.prototype.fs=function(e,t){return Iu.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new fl(this)},e.prototype.getSize=function(e){return Iu.resolve(this.size)},e}(),fl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Iu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Nc),hl=function(){function e(e){this.persistence=e,this.ds=new Ic((function(e){return Uo(e)}),Mo),this.lastRemoteSnapshotVersion=Qi.min(),this.highestTargetId=0,this.ws=0,this._s=new sl,this.targetCount=0,this.ys=pc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Iu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Iu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Iu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Iu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Iu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new pc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Iu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Iu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Iu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Iu.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Iu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Iu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Iu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Iu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Iu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Iu.resolve(n)},e.prototype.containsKey=function(e,t){return Iu.resolve(this._s.containsKey(t))},e}(),dl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new xi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new hl(this),this.Ut=new tc,this.Ue=function(e,t){return new ll(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Bu(t),this.Ke=new al(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new cl(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ui("MemoryPersistence","Starting transaction:",e);var i=new pl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Iu.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),pl=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return d(t,e),t}(ku),ml=function(){function e(e){this.persistence=e,this.As=new sl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ji()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Iu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Iu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Iu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Iu.forEach(this.vs,(function(r){var i=mo.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Iu.or([function(){return Iu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),vl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function gl(e,t){return"firestore_clients_"+e+"_"+t}function yl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function bl(e,t){return"firestore_targets_"+e+"_"+t}vl.UNAUTHENTICATED=new vl(null),vl.GOOGLE_CREDENTIALS=new vl("google-credentials-uid"),vl.FIRST_PARTY=new vl("first-party-uid"),vl.MOCK_USER=new vl("mock-user");var wl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Oi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Mi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),_l=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oi(i.error.code,i.error.message)),o?new e(t,i.state,r):(Mi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Sl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ds(),a=0;i&&a<r.activeTargetIds.length;++a)i=po(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Mi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),El=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Mi("SharedClientState","Failed to parse online state: "+t),null)},e}(),kl=function(){function e(){this.activeTargetIds=ds()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Tl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ja(Hi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=gl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new kl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return m(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return v(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(gl(this.persistenceKey,r)))&&(o=Sl.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bl(this.persistenceKey,e));if(n){var r=_l.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(bl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ui("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ui("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ui("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ui("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return m(t,void 0,void 0,(function(){var e,t,r,i,o,a;return v(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=xi.o;if(null!=e)try{var n=JSON.parse(e);Vi("number"==typeof n),t=n}catch(e){Mi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==xi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new wl(this.currentUser,e,t,n),i=yl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=yl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=bl(this.persistenceKey,e),i=new _l(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Sl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wl.Vs(new vl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return _l.Vs(r,t)},e.prototype.js=function(e){return El.Vs(e)},e.prototype.ii=function(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ui("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ds();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Il=function(){function e(){this.li=new kl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new kl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Nl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Cl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ui("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Ui("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Al={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Pl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return d(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Ai;a.listenOnce(ki.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ei.NO_ERROR:var t=a.getResponseJson();Ui("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ei.TIMEOUT:Ui("Connection",'RPC "'+e+'" timed out'),o(new Oi(Pi.DEADLINE_EXCEEDED,"Request time out"));break;case Ei.HTTP_ERROR:var n=a.getStatus();if(Ui("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pi).indexOf(t)>=0?t:Pi.UNKNOWN}(r.status);o(new Oi(s,r.message))}else o(new Oi(Pi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Oi(Pi.UNAVAILABLE,"Connection failed."));break;default:ji()}}finally{Ui("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=_i(),i=Si(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ni({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())||"object"===typeof navigator&&"ReactNative"===navigator.product||I().indexOf("Electron/")>=0||function(){var e=I();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||I().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ui("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new xl({Ei:function(e){c?Ui("Connection","Not sending because WebChannel is closed:",e):(u||(Ui("Connection","Opening WebChannel transport."),s.open(),u=!0),Ui("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Ci.EventType.OPEN,(function(){c||Ui("Connection","WebChannel transport opened.")})),f(s,Ci.EventType.CLOSE,(function(){c||(c=!0,Ui("Connection","WebChannel transport closed"),l.Vi())})),f(s,Ci.EventType.ERROR,(function(e){c||(c=!0,Fi("Connection","WebChannel transport errored:",e),l.Vi(new Oi(Pi.UNAVAILABLE,"The operation could not be completed")))})),f(s,Ci.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Vi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ui("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Wa[e];if(void 0!==t)return Xa(t)}(o),u=i.message;void 0===a&&(a=Pi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Oi(a,u)),s.close()}else Ui("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ti.STAT_EVENT,(function(e){e.stat===Ii.PROXY?Ui("Connection","Detected buffering proxy"):e.stat===Ii.NOPROXY&&Ui("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Ui("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Ui("RestConnection","Received: ",e),e}),(function(t){throw Fi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Al[e];return this.Di+"/v1/"+t+":"+n},e}());function Ol(){return"undefined"!=typeof window?window:null}function Dl(){return"undefined"!=typeof document?document:null}function Rl(e){return new Ts(e,!0)}var Ul=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ui("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ml=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ul(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return m(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Pi.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Pi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Oi(Pi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return m(e,void 0,void 0,(function(){return v(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Ui("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Ui("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Fl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return d(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ji()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Vi(void 0===t||"string"==typeof t),ro.fromBase64String(t||"")):(Vi(void 0===t||t instanceof Uint8Array),ro.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Pi.UNKNOWN:Xa(e.code);return new Oi(t,e.message||"")}(s);n=new ys(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ds(e,r.document.name),o=As(r.document.updateTime);var s=new xo({mapValue:{fields:r.document.fields}}),u=(a=Oo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new vs(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ds(e,r.document),o=r.readTime?As(r.readTime):Qi.min(),s=Oo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new vs([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ds(e,r.document),o=r.removedTargetIds||[],n=new vs([],o,i,null);else{if(!("filter"in t))return ji();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Za(r),o=l.targetId,n=new gs(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Qi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qi.min():t.readTime?As(t.readTime):Qi.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Ms(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Fo(r)?{documents:qs(e,r)}:{query:zs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ns(e,t.resumeToken):t.snapshotVersion.compareTo(Qi.min())>0&&(n.readTime=Is(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ji()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Ms(this.R),t.removeTarget=e,this.cr(t)},t}(Ml),Ll=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return d(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Vi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Vi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?As(e.updateTime):As(t);return n.isEqual(Qi.min())&&(n=As(t)),new Oa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=As(e.commitTime);return this.listener.Tr(n,t)}return Vi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ms(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Vs(t.R,e)}))};this.cr(n)},t}(Ml),jl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return d(t,e),t.prototype.br=function(){if(this.Rr)throw new Oi(Pi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Pi.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Pi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Vl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Mi(t),this.Vr=!1):Ui("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Bl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return m(o,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return Zl(this)?(Ui("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return(t=Bi(e)).Or.add(4),[4,zl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ql(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Vl(n,r)};function ql(e){return m(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:if(!Zl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function zl(e){return m(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Hl(e,t){var n=Bi(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Kl(n)?Ql(n):hf(n).er()&&Wl(n,t))}function Gl(e,t){var n=Bi(e),r=hf(n);n.$r.delete(t),r.er()&&Yl(n,t),0===n.$r.size&&(r.er()?r.ir():Zl(n)&&n.Br.set("Unknown"))}function Wl(e,t){e.qr.U(t.targetId),hf(e).mr(t)}function Yl(e,t){e.qr.U(t),hf(e).yr(t)}function Ql(e){e.qr=new ws({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),hf(e).start(),e.Br.Sr()}function Kl(e){return Zl(e)&&!hf(e).tr()&&e.$r.size>0}function Zl(e){return 0===Bi(e).Or.size}function $l(e){e.qr=void 0}function Xl(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){return e.$r.forEach((function(t,n){Wl(e,t)})),[2]}))}))}function Jl(e,t){return m(this,void 0,void 0,(function(){return v(this,(function(n){return $l(e),Kl(e)?(e.Br.Nr(t),Ql(e)):e.Br.set("Unknown"),[2]}))}))}function ef(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o;return v(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ys&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o;return v(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ui("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,tf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof vs?e.qr.X(t):t instanceof gs?e.qr.rt(t):e.qr.et(t),n.isEqual(Qi.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Qc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(ro.EMPTY_BYTE_STRING,n.snapshotVersion)),Yl(e,t);var r=new Vu(n.target,t,1,n.sequenceNumber);Wl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ui("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,tf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function tf(e,t,n){return m(this,void 0,void 0,(function(){var r=this;return v(this,(function(i){switch(i.label){case 0:if(!Pu(t))throw t;return e.Or.add(1),[4,zl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Qc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return m(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return Ui("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ql(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function nf(e,t){return t().catch((function(n){return tf(e,n,t)}))}function rf(e){return m(this,void 0,void 0,(function(){var t,n,r,i,o;return v(this,(function(a){switch(a.label){case 0:t=Bi(e),n=df(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Zl(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,$c(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=df(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,tf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return of(t)&&af(t),[2]}}))}))}function of(e){return Zl(e)&&!df(e).tr()&&e.Fr.length>0}function af(e){df(e).start()}function sf(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){return df(e).Ar(),[2]}))}))}function uf(e){return m(this,void 0,void 0,(function(){var t,n,r,i;return v(this,(function(o){for(t=df(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function cf(e,t,n){return m(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=ju.from(r,t,n),[4,nf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,rf(e)];case 2:return o.sent(),[2]}}))}))}function lf(e,t){return m(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return t&&df(e).pr?[4,function(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return $a(r=t.code)&&r!==Pi.ABORTED?(n=e.Fr.shift(),df(e).sr(),[4,nf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,rf(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return of(e)&&af(e),[2]}}))}))}function ff(e,t){return m(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return n=Bi(e),t?(n.Or.delete(2),[4,ql(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,zl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function hf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Bi(e);return r.br(),new Fl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Xl.bind(null,e),Ri:Jl.bind(null,e),_r:ef.bind(null,e)}),e.Mr.push((function(n){return m(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Kl(e)?Ql(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),$l(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function df(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Bi(e);return r.br(),new Ll(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sf.bind(null,e),Ri:lf.bind(null,e),Ir:uf.bind(null,e),Tr:cf.bind(null,e)}),e.Mr.push((function(n){return m(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,rf(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Ui("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var pf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oi(Pi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function mf(e,t){if(Mi("AsyncQueue",t+": "+e),Pu(e))return new Oi(Pi.UNAVAILABLE,t+": "+e);throw e}var vf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||mo.comparator(t.key,n.key)}:function(e,t){return mo.comparator(e.key,t.key)},this.keyedMap=ss(),this.sortedSet=new Ja(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),gf=function(){function e(){this.Qr=new Ja(mo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):ji():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),yf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&la(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),bf=function(){this.Wr=void 0,this.listeners=[]},wf=function(){this.queries=new Ic((function(e){return fa(e)}),la),this.onlineState="Unknown",this.Gr=new Set};function _f(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:if(n=Bi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new bf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=mf(s,"Initialization of query '"+ha(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Tf(n),[2]}}))}))}function Sf(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a;return v(this,(function(s){return n=Bi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Ef(e,t){for(var n=Bi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Tf(n)}function kf(e,t,n){var r=Bi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Tf(e){e.Gr.forEach((function(e){e.next()}))}var If=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new yf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Nf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Cf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ds(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?js(this.R,e.document,!1):Oo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return As(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Af(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Cf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||fs()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return m(this,void 0,void 0,(function(){var e,t,n,r,i;return v(this,(function(o){switch(o.label){case 0:return[4,il(this.localStore,new Cf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ol(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Vc(Object.assign({},this.progress),e))]}}))}))}}();function Af(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xf=function(e){this.key=e},Pf=function(e){this.key=e},Of=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=fs(),this.mutatedKeys=fs(),this.lo=pa(e),this.fo=new vf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new gf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=na(this.query)&&i.size===this.query.limit?i.last():null,c=ra(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=da(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),na(this.query)||ra(this.query))for(;a.size>this.query.limit;){var l=na(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ji()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new yf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=fs(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Pf(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new xf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=fs();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return yf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Df=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Rf=function(e){this.key=e,this.bo=!1},Uf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ic((function(e){return fa(e)}),la),this.Vo=new Map,this.So=new Set,this.Do=new Ja(mo.comparator),this.Co=new Map,this.No=new sl,this.xo={},this.ko=new Map,this.Fo=pc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Mf(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return n=fh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Xc(n.localStore,ua(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Ff(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Hl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Ff(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o,a,s,u,c;return v(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o,a;return v(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,el(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Zf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,el(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Of(t,i.Bn),a=o._o(i.documents),s=ms.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Zf(e,n,u.To),c=new Df(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Lf(e,t){return m(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return n=Bi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!la(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Jc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Gl(n.remoteStore,r.targetId),Qf(n,r.targetId)})).catch(bc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Qf(n,r.targetId),[4,Jc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function jf(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:r=hh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Bi(e),i=Yi.now(),o=t.reduce((function(e,t){return e.add(t.key)}),fs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=La(c,n.get(c.key));null!=l&&a.push(new qa(c.key,l,Po(l.value.mapValue),Da.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ja(Hi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Jf(r,i.changes)];case 3:return s.sent(),[4,rf(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=mf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Vf(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:n=Bi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Kc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Vi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Vi(r.bo):e.removedDocuments.size>0&&(Vi(r.bo),r.bo=!1))})),[4,Jf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,bc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Bf(e,t,n){var r=Bi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Bi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Tf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qf(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:return(r=Bi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ja(mo.comparator)).insert(o,Oo.newNoDocument(o,Qi.min())),s=fs().add(o),u=new ps(Qi.min(),new Map,new ns(Hi),a,s),[4,Vf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Xf(r),[3,4];case 2:return[4,Jc(r.localStore,t,!1).then((function(){return Qf(r,t,n)})).catch(bc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function zf(e,t){return m(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:n=Bi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Yc(n.localStore,t)];case 2:return i=o.sent(),Yf(n,r,null),Wf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Jf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hf(e,t,n){return m(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:r=Bi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Bi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Vi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Yf(r,t,n),Wf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Jf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Gf(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a;return v(this,(function(s){switch(s.label){case 0:Zl((n=Bi(e)).remoteStore)||Ui("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Bi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=mf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Wf(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Yf(e,t,n){var r=Bi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Qf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Kf(e,t)}))}function Kf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Gl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Xf(e))}function Zf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xf?(e.No.addReference(o.key,t),$f(e,o)):o instanceof Pf?(Ui("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Kf(e,o.key)):ji()}}function $f(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Ui("SyncEngine","New document in limbo: "+n),e.So.add(r),Xf(e))}function Xf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new mo(Ji.fromString(t)),r=e.Fo.next();e.Co.set(r,new Rf(n)),e.Do=e.Do.insert(n,r),Hl(e.remoteStore,new Vu(ua(ta(n.path)),r,2,xi.o))}}function Jf(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:return r=Bi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=qc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return v(this,(function(f){switch(f.label){case 0:n=Bi(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Iu.forEach(t,(function(t){return Iu.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Iu.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Pu(r=f.sent()))throw r;return Ui("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function eh(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return(n=Bi(e)).currentUser.isEqual(t)?[3,3]:(Ui("SyncEngine","User change. New user:",t.toKey()),[4,Wc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Oi(Pi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Jf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function th(e,t){var n=Bi(e),r=n.Co.get(t);if(r&&r.bo)return fs().add(r.key);var i=fs(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function nh(e,t){return m(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return[4,el((n=Bi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Zf(n,t.targetId,i.To),i)]}}))}))}function rh(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){return[2,nl((t=Bi(e)).localStore).then((function(e){return Jf(t,e)}))]}))}))}function ih(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o;return v(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Bi(e),r=Bi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Iu.resolve(null)}))}))}((i=Bi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,rf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Yf(i,t,r||null),Wf(i,t),function(e,t){Bi(Bi(e)._n).Gt(t)}(i.localStore,t)):ji(),a.label=4;case 4:return[4,Jf(i,o)];case 5:return a.sent(),[3,7];case 6:Ui("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function oh(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return v(this,(function(l){switch(l.label){case 0:return fh(n=Bi(e)),hh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ah(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,ff(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Hl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Qf(n,t),Jc(n.localStore,t,!0)})),Gl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,ah(n,u)];case 5:return l.sent(),function(e){var t=Bi(e);t.Co.forEach((function(e,n){Gl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ja(mo.comparator)}(n),n.$o=!1,[4,ff(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function ah(e,t,n){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,m;return v(this,(function(v){switch(v.label){case 0:n=Bi(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Xc(n.localStore,ua(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,nh(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,tl(n.localStore,s)];case 8:return m=v.sent(),[4,Xc(n.localStore,m)];case 9:return u=v.sent(),[4,Ff(n,sh(m),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function sh(e){return ea(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uh(e){var t=Bi(e);return Bi(Bi(t.localStore).persistence).fn()}function ch(e,t,n,r){return m(this,void 0,void 0,(function(){var i,o,a;return v(this,(function(s){switch(s.label){case 0:return(i=Bi(e)).$o?(Ui("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nl(i.localStore)];case 3:return o=s.sent(),a=ps.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Jf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Jc(i.localStore,t,!0)];case 6:return s.sent(),Qf(i,t,r),[3,8];case 7:ji(),s.label=8;case 8:return[2]}}))}))}function lh(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return v(this,(function(d){switch(d.label){case 0:if(!(r=fh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ui("SyncEngine","Adding an already active target "+a),[3,5]):[4,tl(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Xc(r.localStore,s)];case 3:return u=d.sent(),[4,Ff(r,sh(s),u.targetId,!1)];case 4:d.sent(),Hl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return v(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Jc(r.localStore,e,!1).then((function(){Gl(r.remoteStore,e),Qf(r,e)})).catch(bc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function fh(e){var t=Bi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=th.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qf.bind(null,t),t.vo._r=Ef.bind(null,t.eventManager),t.vo.Mo=kf.bind(null,t.eventManager),t}function hh(e){var t=Bi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hf.bind(null,t),t}var dh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return this.R=Rl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Gc(this.persistence,new zc,e.initialUser,this.R)},e.prototype.qo=function(e){return new dl(ml.bs,this.R)},e.prototype.Bo=function(e){return new Il},e.prototype.terminate=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),ph=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return d(t,e),t.prototype.initialize=function(t){return m(this,void 0,void 0,(function(){var n=this;return v(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,rl(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,hh(this.Qo.syncEngine)];case 4:return r.sent(),[4,rf(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Gc(this.persistence,new zc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Sc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ac.withCacheSize(this.cacheSizeBytes):ac.DEFAULT;return new Mc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ol(),Dl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Il},t}(dh),mh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return d(t,e),t.prototype.initialize=function(t){return m(this,void 0,void 0,(function(){var n,r=this;return v(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Tl?(this.sharedClientState.syncEngine={ui:ih.bind(null,n),ai:ch.bind(null,n),hi:lh.bind(null,n),fn:uh.bind(null,n),ci:rh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return m(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,oh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ol();if(!Tl.yt(t))throw new Oi(Pi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ph),vh=function(){function e(){}return e.prototype.initialize=function(e,t){return m(this,void 0,void 0,(function(){var n=this;return v(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bf(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eh.bind(null,this.syncEngine),[4,ff(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new wf},e.prototype.createDatastore=function(e){var t,n=Rl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Pl(t));return function(e,t,n){return new jl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bf(a.syncEngine,e,0)},o=Cl.yt()?new Cl:new Nl,new Bl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Uf(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=Bi(e),Ui("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,zl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var gh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),yh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Tu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return m(this,void 0,void 0,(function(){var e,t,n,r;return v(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Nf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return m(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return m(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return m(this,void 0,void 0,(function(){var t,n=this;return v(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oi(Pi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return m(this,void 0,void 0,(function(){var n,r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return n=Bi(e),r=Ms(n.R)+"/documents",i={documents:t.map((function(e){return Os(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Vi(!!t.found),t.found.name,t.found.updateTime;var n=Ds(e,t.found.name),r=As(t.found.updateTime),i=new xo({mapValue:{fields:t.found.fields}});return Oo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Vi(!!t.missing),Vi(!!t.readTime);var n=Ds(e,t.missing),r=As(t.readTime);return Oo.newNoDocument(n,r)}(e,t):ji()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Vi(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return m(this,void 0,void 0,(function(){var e,t=this;return v(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=mo.fromPath(n);t.mutations.push(new Ka(r,t.precondition(r)))})),[4,function(e,t){return m(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return n=Bi(e),r=Ms(n.R)+"/documents",i={writes:t.map((function(e){return Vs(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ji();t=Qi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oi(Pi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Da.updateTime(t):Da.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qi.min()))throw new Oi(Pi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Da.updateTime(t)}return Da.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),bh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ul(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return m(e,void 0,void 0,(function(){var e,t,n=this;return v(this,(function(r){return e=new yh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!fo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$a(t)}return!1},e}(),wh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=vl.UNAUTHENTICATED,this.clientId=zi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return m(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return Ui("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return m(this,void 0,void 0,(function(){return v(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oi(Pi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return m(e,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=mf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function _h(e,t){return m(this,void 0,void 0,(function(){var n,r,i=this;return v(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ui("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return m(i,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Wc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Sh(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Eh(e)];case 1:return n=i.sent(),Ui("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return(n=Bi(e)).asyncQueue.verifyOperationInProgress(),Ui("RemoteStore","RemoteStore received new credentials"),r=Zl(n),n.Or.add(3),[4,zl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,ql(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Eh(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ui("FirestoreClient","Using default OfflineComponentProvider"),[4,_h(e,new dh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function kh(e){return m(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ui("FirestoreClient","Using default OnlineComponentProvider"),[4,Sh(e,new vh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Th(e){return Eh(e).then((function(e){return e.persistence}))}function Ih(e){return Eh(e).then((function(e){return e.localStore}))}function Nh(e){return kh(e).then((function(e){return e.remoteStore}))}function Ch(e){return kh(e).then((function(e){return e.syncEngine}))}function Ah(e){return m(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,kh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Mf.bind(null,t.syncEngine),n.onUnlisten=Lf.bind(null,t.syncEngine),n)]}}))}))}function xh(e,t,n){var r=this;void 0===n&&(n={});var i=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(o){t.enqueueAndForget((function(){return Sf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Oi(Pi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Oi(Pi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new If(ta(n.path),o,{includeMetadataChanges:!0,so:!0});return _f(e,a)},[4,Ah(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Ph(e,t,n){var r=this;void 0===n&&(n={});var i=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(n){t.enqueueAndForget((function(){return Sf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Oi(Pi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new If(n,o,{includeMetadataChanges:!0,so:!0});return _f(e,a)},[4,Ah(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Oh=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Dh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Rh=new Map,Uh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Mh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(vl.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Fh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Lh=function(){function e(e){var t=this;this.currentUser=vl.UNAUTHENTICATED,this.oc=new Tu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Ui("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Ui("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Ui("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vi("string"==typeof n.accessToken),new Uh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return m(n,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Vi(null===e||"string"==typeof e),new vl(e)},e}(),jh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=vl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Vh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new jh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(vl.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Bh(e,t,n){if(!n)throw new Oi(Pi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function qh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function zh(e,t,n,r){if(!0===t&&!0===r)throw new Oi(Pi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Hh(e){if(!mo.isDocumentKey(e))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Gh(e){if(mo.isDocumentKey(e))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Wh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ji()}function Yh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oi(Pi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wh(e);throw new Oi(Pi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Qh(e,t){if(t<=0)throw new Oi(Pi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Kh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oi(Pi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oi(Pi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Zh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kh({}),this._settingsFrozen=!1,e instanceof Dh?(this._databaseId=e,this._credentials=new Mh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oi(Pi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(e.options.projectId)}(e),this._credentials=new Lh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Mh;switch(e.type){case"gapi":var t=e.client;return Vi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oi(Pi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Rh.get(this))&&(Ui("ComponentProvider","Removing Datastore"),Rh.delete(this),e.terminate()),Promise.resolve();var e},e}(),$h=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Xh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Jh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ta(r))||this)._path=r,i.type="collection",i}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $h(this.firestore,null,new mo(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Xh);function ed(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=M(e),Bh("collection","path",t),e instanceof Zh)return Gh(n=Ji.fromString.apply(Ji,b([t],r))),new Jh(e,null,n);if(!(e instanceof $h||e instanceof Jh))throw new Oi(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gh(n=Ji.fromString.apply(Ji,b([e.path],r)).child(Ji.fromString(t))),new Jh(e.firestore,null,n)}function td(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=M(e),1===arguments.length&&(t=zi.u()),Bh("doc","path",t),e instanceof Zh)return Hh(n=Ji.fromString.apply(Ji,b([t],r))),new $h(e,null,new mo(n));if(!(e instanceof $h||e instanceof Jh))throw new Oi(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hh(n=e._path.child(Ji.fromString.apply(Ji,b([t],r)))),new $h(e.firestore,e instanceof Jh?e.converter:null,new mo(n))}function nd(e,t){return e=M(e),t=M(t),(e instanceof $h||e instanceof Jh)&&(t instanceof $h||t instanceof Jh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rd(e,t){return e=M(e),t=M(t),e instanceof Xh&&t instanceof Xh&&e.firestore===t.firestore&&la(e._query,t._query)&&e.converter===t.converter}var id=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ul(this,"async_queue_retry"),this.Ic=function(){var t=Dl();t&&Ui("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Dl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Dl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Tu;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return m(this,void 0,void 0,(function(){var e,t=this;return v(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Pu(e=n.sent()))throw e;return Ui("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=pf.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&ji()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function od(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Tu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ad=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new id,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return d(t,e),t.prototype._terminate=function(){return this._firestoreClient||ud(this),this._firestoreClient.terminate()},t}(Zh);function sd(e){return e._firestoreClient||ud(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ud(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Oh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wh(e._credentials,e._queue,r)}function cd(e,t,n){var r=this,i=new Tu;return e.asyncQueue.enqueue((function(){return m(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_h(e,n)];case 1:return o.sent(),[4,Sh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Pi.FAILED_PRECONDITION||e.code===Pi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ld(e){if(e._initialized||e._terminated)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new to(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),hd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ro.fromBase64String(t))}catch(t){throw new Oi(Pi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ro.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),dd=function(e){this._methodName=e},pd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oi(Pi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oi(Pi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Hi(this._lat,e._lat)||Hi(this._long,e._long)},e}(),md=/^__.*__$/,vd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)},e}(),gd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function yd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ji()}}var bd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return jd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(yd(this.Nc)&&md.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),wd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Rl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new bd({Nc:e,methodName:t,qc:n,path:to.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function _d(e){var t=e._freezeSettings(),n=Rl(e._databaseId);return new wd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Ud("Data must be an object, but it was:",a,r);var s,u,c=Dd(r,a);if(o.merge)s=new no(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Md(t,h[f],n);if(!a.contains(d))throw new Oi(Pi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Vd(l,d)||l.push(d)}s=new no(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new vd(new xo(c),s,u)}var Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(dd);function kd(e,t,n){return new bd({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){return new Pa(e.path,new Ea)},t.prototype.isEqual=function(e){return e instanceof t},t}(dd),Id=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=kd(this,e,!0),n=this.Kc.map((function(e){return Od(e,t)})),r=new ka(n);return new Pa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(dd),Nd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=kd(this,e,!0),n=this.Kc.map((function(e){return Od(e,t)})),r=new Ia(n);return new Pa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(dd),Cd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=new Ca(e.R,ya(e.R,this.Qc));return new Pa(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(dd);function Ad(e,t,n,r){var i=e.Uc(1,t,n);Ud("Data must be an object, but it was:",i,r);var o=[],a=xo.empty();Zi(r,(function(e,r){var s=Ld(t,e,n);r=M(r);var u=i.Oc(s);if(r instanceof Ed)o.push(s);else{var c=Od(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new no(o);return new gd(a,s,i.fieldTransforms)}function xd(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Md(t,r,n)],u=[i];if(o.length%2!=0)throw new Oi(Pi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Md(t,o[c])),u.push(o[c+1]);for(var l=[],f=xo.empty(),h=s.length-1;h>=0;--h)if(!Vd(l,s[h])){var d=s[h],p=u[h];p=M(p);var m=a.Oc(d);if(p instanceof Ed)l.push(d);else{var v=Od(p,m);null!=v&&(l.push(d),f.set(d,v))}}var g=new no(l);return new gd(f,g,a.fieldTransforms)}function Pd(e,t,n,r){return void 0===r&&(r=!1),Od(n,e.Uc(r?4:3,t))}function Od(e,t){if(Rd(e=M(e)))return Ud("Unsupported field value:",t,e),Dd(e,t);if(e instanceof dd)return function(e,t){if(!yd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Od(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=M(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ya(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Yi.fromDate(e);return{timestampValue:Is(t.R,n)}}if(e instanceof Yi)return n=new Yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Is(t.R,n)};if(e instanceof pd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hd)return{bytesValue:Ns(t.R,e._byteString)};if(e instanceof $h){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:xs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Wh(e))}(e,t)}function Dd(e,t){var n={};return $i(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(e,(function(e,r){var i=Od(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yi||e instanceof pd||e instanceof hd||e instanceof $h||e instanceof dd)}function Ud(e,t,n){if(!Rd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Wh(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Md(e,t,n){if((t=M(t))instanceof fd)return t._internalPath;if("string"==typeof t)return Ld(e,t);throw jd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Fd=new RegExp("[~\\*/\\[\\]]");function Ld(e,t,n){if(t.search(Fd)>=0)throw jd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(fd.bind.apply(fd,b([void 0],t.split(".")))))._internalPath}catch(qp){throw jd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function jd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Oi(Pi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Vd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Bd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new $h(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new qd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Bd);function zd(e,t){return"string"==typeof t?Ld(e,t):t instanceof fd?t._internalPath:t._delegate._internalPath}var Hd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Gd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return d(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Bd),Wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Gd),Yd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Wd(n._firestore,n._userDataWriter,r.key,r,new Hd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oi(Pi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Wd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Wd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Qd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Qd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ji()}}function Kd(e,t){return e instanceof Gd&&t instanceof Gd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yd&&t instanceof Yd&&e._firestore===t._firestore&&rd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zd(e){if(ra(e)&&0===e.explicitOrderBy.length)throw new Oi(Pi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $d=function(){};function Xd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Jd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return d(t,e),t.prototype._apply=function(e){var t=_d(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ap(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(op(r,e,f))}s={arrayValue:{values:u}}}else s=op(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ap(a,o),s=Pd(n,"where",a,"in"===o||"not-in"===o);var h=Lo.create(i,o,s);return function(e,t){if(t.g()){var n=oa(e);if(null!==n&&!n.isEqual(t.field))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ia(e);null!==r&&sp(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}($d),ep=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return d(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ko(t,n);return function(e,t){if(null===ia(e)){var n=oa(e);null!==n&&sp(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Xh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Jo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}($d),tp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return d(t,e),t.prototype._apply=function(e){return new Xh(e.firestore,e.converter,ca(e._query,this.Hc,this.Jc))},t}($d),np=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=ip(e,this.type,this.Yc,this.Xc);return new Xh(e.firestore,e.converter,function(e,t){return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}($d),rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=ip(e,this.type,this.Yc,this.Xc);return new Xh(e.firestore,e.converter,function(e,t){return new Jo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}($d);function ip(e,t,n,r){if(n[0]=M(n[0]),n[0]instanceof Bd)return function(e,t,n,r,i){if(!r)throw new Oi(Pi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=sa(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Eo(t,r.key));else{var c=r.data.field(u.field);if(uo(c))throw new Oi(Pi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Yo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_d(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Oi(Pi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!aa(e)&&-1!==c.indexOf("/"))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ji.fromString(c));if(!mo.isDocumentKey(l))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new mo(l);s.push(Eo(t,f))}else{var h=Pd(n,r,c);s.push(h)}}return new Yo(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function op(e,t,n){if("string"==typeof(n=M(n))){if(""===n)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!aa(t)&&-1!==n.indexOf("/"))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ji.fromString(n));if(!mo.isDocumentKey(r))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Eo(e,new mo(r))}if(n instanceof $h)return Eo(e,n._key);throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wh(n)+".")}function ap(e,t){if(!Array.isArray(e)||0===e.length)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sp(e,t,n){if(!n.isEqual(t))throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var up=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ji()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Zi(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new pd(ao(e.latitude),ao(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=co(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(lo(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=oo(e);return new Yi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Ji.fromString(e);Vi(tu(n));var r=new Dh(n.get(1),n.get(3)),i=new mo(n.popFirst(5));return r.isEqual(t)||Mi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function cp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $h(this.firestore,null,t)},t}(up),fp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_d(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=hp(e,this._firestore),i=cp(r.converter,t,n),o=Sd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Da.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=hp(e,this._firestore);return o="string"==typeof(t=M(t))||t instanceof fd?xd(this._dataReader,"WriteBatch.update",a._key,t,n,r):Ad(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Da.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=hp(e,this._firestore);return this._mutations=this._mutations.concat(new Qa(t._key,Da.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oi(Pi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function hp(e,t){if((e=M(e)).firestore!==t)throw new Oi(Pi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var dp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $h(this.firestore,null,t)},t}(up);function pp(e,t,n){e=Yh(e,$h);var r=Yh(e.firestore,ad),i=cp(e.converter,t,n);return gp(r,[Sd(_d(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Da.none())])}function mp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Yh(e,$h);var o=Yh(e.firestore,ad),a=_d(o);return gp(o,[("string"==typeof(t=M(t))||t instanceof fd?xd(a,"updateDoc",e._key,t,n,r):Ad(a,"updateDoc",e._key,t)).toMutation(e._key,Da.exists(!0))])}function vp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=M(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||od(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(od(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof $h)c=Yh(e.firestore,ad),l=ta(e._key.path),u={next:function(t){i[s]&&i[s](yp(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Yh(e,Xh);c=Yh(d.firestore,ad),l=d._query;var p=new dp(c);u={next:function(e){i[s]&&i[s](new Yd(c,p,d,e))},error:i[s+1],complete:i[s+2]},Zd(e._query)}return function(e,t,n,r){var i=this,o=new gh(r),a=new If(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return m(i,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=_f,[4,Ah(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return m(i,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=Sf,[4,Ah(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(sd(c),l,f,u)}function gp(e,t){return function(e,t){var n=this,r=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=jf,[4,Ch(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(sd(e),t)}function yp(e,t,n){var r=n.docs.get(t._key),i=new dp(e);return new Gd(e,i,t._key,r,new Hd(n.hasPendingWrites,n.fromCache),t.converter)}var bp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return d(t,e),t.prototype.get=function(t){var n=this,r=hp(t,this._firestore),i=new dp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Gd(n._firestore,i,r._key,e._document,new Hd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=_d(e)}return e.prototype.get=function(e){var t=this,n=hp(e,this._firestore),r=new lp(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ji();var i=e[0];if(i.isFoundDocument())return new Bd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Bd(t._firestore,r,n._key,null,n.converter);throw ji()}))},e.prototype.set=function(e,t,n){var r=hp(e,this._firestore),i=cp(r.converter,t,n),o=Sd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=hp(e,this._firestore);return o="string"==typeof(t=M(t))||t instanceof fd?xd(this._dataReader,"Transaction.update",a._key,t,n,r):Ad(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=hp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function wp(){if("undefined"==typeof Uint8Array)throw new Oi(Pi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _p(){if("undefined"==typeof atob)throw new Oi(Pi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return _p(),new e(hd.fromBase64String(t))},e.fromUint8Array=function(t){return wp(),new e(hd.fromUint8Array(t))},e.prototype.toBase64=function(){return _p(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return wp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Ep=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ld(e=Yh(e,ad));var n=sd(e),r=e._freezeSettings(),i=new vh;return cd(n,i,new ph(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ld(e=Yh(e,ad));var t=sd(e),n=e._freezeSettings(),r=new vh;return cd(t,r,new mh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Oi(Pi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Tu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return m(t,void 0,void 0,(function(){var t;return v(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return Cu.yt()?(t=e+"main",[4,Cu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(jc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),kp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Dh||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Fi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Yh(e,Zh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Fi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=vl.MOCK_USER;else{a=T(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Oi(Pi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new vl(u)}e._credentials=new Fh(new Uh(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return m(t,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,Th(e)];case 1:return t=r.sent(),[4,Nh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Bi(e);return t.Or.delete(0),ql(t)}(n))]}}))}))}))}(sd(Yh(this._delegate,ad)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return m(t,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,Th(e)];case 1:return t=r.sent(),[4,Nh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return(t=Bi(e)).Or.add(0),[4,zl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(sd(Yh(this._delegate,ad)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&zh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(t,void 0,void 0,(function(){var t;return v(this,(function(r){switch(r.label){case 0:return t=Gf,[4,Ch(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(sd(Yh(this._delegate,ad)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new gh(t);return e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=function(e,t){Bi(e).Gr.add(t),t.next()},[4,Ah(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=function(e,t){Bi(e).Gr.delete(t)},[4,Ah(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(sd(e=Yh(e,ad)),od(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Lp(this,ed(this._delegate,e))}catch(e){throw xp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Ap(this,td(this._delegate,e))}catch(e){throw xp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Up(this,function(e,t){if(e=Yh(e,Zh),Bh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xh(e,null,function(e){return new Jo(Ji.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw xp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return[4,function(e){return kh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new bh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(sd(e),(function(n){return t(new bp(e,n))}))}(this._delegate,(function(n){return e(new Ip(t,n))}))},e.prototype.batch=function(){var e=this;return sd(this._delegate),new Np(new fp(this._delegate,(function(t){return gp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Oi(Pi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Oi(Pi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Tp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new Sp(new hd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ap.eu(t,this.firestore,null)},t}(up);var Ip=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.prototype.get=function(e){var t=this,n=jp(e);return this._delegate.get(n).then((function(e){return new Dp(t._firestore,new Gd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=jp(e);return n?(qh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e}(),Np=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=jp(e);return n?(qh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Cp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Wd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Tp(t),n),i.set(n,o)),o},e}();Cp.su=new WeakMap;var Ap=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new $h(n._delegate,r,new mo(t)))},e.eu=function(t,n,r){return new e(n,new $h(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Lp(this.firestore,ed(this._delegate,e))}catch(e){throw xp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=M(e))instanceof $h&&nd(this._delegate,e)},e.prototype.set=function(e,t){t=qh("DocumentReference.set",t);try{return t?pp(this._delegate,e,t):pp(this._delegate,e)}catch(e){throw xp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?mp(this._delegate,e):mp.apply(void 0,b([this._delegate,e,t],n))}catch(e){throw xp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gp(Yh((e=this._delegate).firestore,ad),[new Qa(e._key,Da.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Pp(t),i=Op(t,(function(t){return new Dp(e.firestore,new Gd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Yh(e,$h);var t=Yh(e.firestore,ad),n=sd(t),r=new dp(t);return function(e,t){var n=this,r=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return m(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Bi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Oi(Pi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=mf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ih(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Gd(t,r,e._key,n,new Hd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Yh(e,$h);var t=Yh(e.firestore,ad);return xh(sd(t),e._key,{source:"server"}).then((function(n){return yp(t,e,n)}))}(this._delegate):function(e){e=Yh(e,$h);var t=Yh(e.firestore,ad);return xh(sd(t),e._key).then((function(n){return yp(t,e,n)}))}(this._delegate)).then((function(e){return new Dp(t.firestore,new Gd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Cp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function xp(e,t,n){return e.message=e.message.replace(t,n),e}function Pp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!od(r))return r}return{}}function Op(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=od(e[0])?e[0]:od(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Dp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ap(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Kd(this._delegate,e._delegate)},e}(),Rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Dp),Up=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Xd(this._delegate,function(e,t,n){var r=t,i=zd("where",e);return new Jd(i,r,n)}(t,n,r)))}catch(t){throw xp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Xd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=zd("orderBy",e);return new ep(r,n)}(t,n)))}catch(t){throw xp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Xd(this._delegate,function(e){return Qh("limit",e),new tp("limit",e,"F")}(t)))}catch(t){throw xp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Xd(this._delegate,function(e){return Qh("limitToLast",e),new tp("limitToLast",e,"L")}(t)))}catch(t){throw xp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new np("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw xp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new np("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw xp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw xp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw xp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return rd(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Yh(e,Xh);var t=Yh(e.firestore,ad),n=sd(t),r=new dp(t);return function(e,t){var n=this,r=new Tu;return e.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,el(e,t,!0)];case 1:return s=u.sent(),r=new Of(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=mf(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Ih(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Yd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Yh(e,Xh);var t=Yh(e.firestore,ad),n=sd(t),r=new dp(t);return Ph(n,e._query,{source:"server"}).then((function(n){return new Yd(t,r,e,n)}))}(this._delegate):function(e){e=Yh(e,Xh);var t=Yh(e.firestore,ad),n=sd(t),r=new dp(t);return Zd(e._query),Ph(n,e._query).then((function(n){return new Yd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Fp(t.firestore,new Yd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Pp(t),i=Op(t,(function(t){return new Fp(e.firestore,new Yd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Cp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Mp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Fp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Up(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Rp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Mp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Rp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Kd(this._delegate,e._delegate)},e}(),Lp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Ap(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Ap(this.firestore,void 0===e?td(this._delegate):td(this._delegate,e))}catch(e){throw xp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Yh(e.firestore,ad),r=td(e),i=cp(e.converter,t);return gp(n,[Sd(_d(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Da.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ap(t.firestore,e)}))},t.prototype.isEqual=function(e){return nd(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Cp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Up);function jp(e){return Yh(e,$h)}var Vp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(fd.bind.apply(fd,b([void 0],e)))}return e.documentId=function(){return new e(to.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=M(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Bp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Td("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ed("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Id("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Cd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var qp,zp={Firestore:kp,GeoPoint:pd,Timestamp:Yi,Blob:Sp,Transaction:Ip,WriteBatch:Np,DocumentReference:Ap,DocumentSnapshot:Dp,Query:Up,QueryDocumentSnapshot:Rp,QuerySnapshot:Fp,CollectionReference:Lp,FieldPath:Vp,FieldValue:Bp,setLogLevel:function(e){var t;t=e,Di.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new F("firestore",(function(e){return function(e,t){return new kp(e,new ad(e,t),new Ep)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},zp)))})(qp=pe),qp.registerVersion("@firebase/firestore","2.4.1");var Hp="firebasestorage.googleapis.com",Gp="storageBucket",Wp=12e4,Yp=6e5,Qp=function(e){function t(n,r){var i=e.call(this,Kp(n),"Firebase Storage: "+r+" ("+Kp(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return d(t,e),t.prototype._codeEquals=function(e){return Kp(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(A);function Kp(e){return"storage/"+e}function Zp(){return new Qp("unknown","An unknown error occurred, please check the error payload for server response.")}function $p(){return new Qp("canceled","User canceled the upload/download.")}function Xp(){return new Qp("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jp(e){return new Qp("invalid-argument",e)}function em(){return new Qp("app-deleted","The Firebase app was deleted.")}function tm(e){return new Qp("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nm(e,t){return new Qp("invalid-format","String does not match format '"+e+"': "+t)}function rm(e){throw new Qp("internal-error","Internal error: "+e)}var im={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},om=function(e,t){this.data=e,this.contentType=t||null};function am(e,t){switch(e){case im.RAW:return new om(sm(t));case im.BASE64:case im.BASE64URL:return new om(um(e,t));case im.DATA_URL:return new om(function(e){var t=new cm(e);return t.base64?um(im.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(qp){throw nm(im.DATA_URL,"Malformed data URL.")}return sm(t)}(t.rest)}(t),new cm(t).contentType)}throw Zp()}function sm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function um(e,t){switch(e){case im.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw nm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case im.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw nm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(qp){throw nm(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var cm=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw nm(im.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var lm,fm={STATE_CHANGED:"state_changed"},hm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dm(e){switch(e){case"running":case"pausing":case"canceling":return hm.RUNNING;case"paused":return hm.PAUSED;case"success":return hm.SUCCESS;case"canceled":return hm.CANCELED;default:return hm.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(lm||(lm={}));var pm=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=lm.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=lm.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=lm.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw rm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw rm("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw rm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(qp){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw rm("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var mm=function(){function e(){}return e.prototype.createConnection=function(){return new pm},e}(),vm=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(qp){return new e(t,"")}if(""===r.path)return r;throw new Qp("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Hp?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Qp("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),gm=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ym(e){return"string"===typeof e||e instanceof String}function bm(e){return wm()&&e instanceof Blob}function wm(){return"undefined"!==typeof Blob}function _m(e,t,n,r){if(r<t)throw Jp("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Jp("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Sm(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Em(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var km=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(qp){o(qp)}else null!==a?((r=Zp()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?em():$p()):o(r=new Qp("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Tm(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,b([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Tm(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===lm.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Tm(a,r))}else{var s=r.getErrorCode()===lm.ABORT;t(!1,new Tm(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Tm=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Im(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Im();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(wm())return new Blob(e);throw new Qp("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Cm=function(){function e(e,t){var n=0,r="";bm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(bm(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(wm()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Nm.apply(null,r))}var i=t.map((function(e){return ym(e)?am(im.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Am(e){var t;try{t=JSON.parse(e)}catch(qp){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function xm(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Pm(e,t){return t}var Om=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Pm},Dm=null;function Rm(){if(Dm)return Dm;var e=[];e.push(new Om("bucket")),e.push(new Om("generation")),e.push(new Om("metageneration")),e.push(new Om("name","fullPath",!0));var t=new Om("name");t.xform=function(e,t){return function(e){return!ym(e)||e.length<2?e:xm(e)}(t)},e.push(t);var n=new Om("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Om("timeCreated")),e.push(new Om("updated")),e.push(new Om("md5Hash",null,!0)),e.push(new Om("cacheControl",null,!0)),e.push(new Om("contentDisposition",null,!0)),e.push(new Om("contentEncoding",null,!0)),e.push(new Om("contentLanguage",null,!0)),e.push(new Om("contentType",null,!0)),e.push(new Om("metadata","customMetadata",!0)),Dm=e}function Um(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new vm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mm(e,t,n){var r=Am(t);return null===r?null:Um(e,r,n)}function Fm(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Lm="prefixes",jm="items";function Vm(e,t,n){var r=Am(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Lm])for(var i=0,o=n[Lm];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new vm(t,a));r.prefixes.push(s)}if(n[jm])for(var u=0,c=n[jm];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new vm(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Bm=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function qm(e){if(!e)throw Zp()}function zm(e,t){return function(n,r){var i=Mm(e,r,t);return qm(null!==i),i}}function Hm(e,t){return function(n,r){var i=Mm(e,r,t);return qm(null!==i),function(e,t,n){var r=Am(t);if(null===r)return null;if(!ym(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Sm("/b/"+o(r)+"/o/"+o(i),n)+Em({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Gm(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Qp("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qp("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Qp("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Qp("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Wm(e){var t=Gm(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Qp("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Ym(e,t,n){var r=Sm(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Bm(r,"GET",zm(e,n),i);return o.errorHandler=Wm(t),o}function Qm(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Sm(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Bm(a,"GET",function(e,t){return function(n,r){var i=Vm(e,t,r);return qm(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Gm(t),u}function Km(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Zm=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function $m(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(qp){qm(!1)}return qm(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Xm=262144;function Jm(e,t,n,r,i,o,a,s){var u=new Zm(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Qp("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw Xp();var m=t.maxUploadRetryTime,v=new Bm(n,"POST",(function(e,n){var i,a=$m(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?zm(t,o)(e,n):null,new Zm(s,c,"final"===a,i)}),m);return v.headers=d,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=Gm(e),v}var ev=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function tv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var nv=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Rm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Km(t,r,i),s={name:a.fullPath},u=Sm(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Fm(a,n),f=e.maxUploadRetryTime,h=new Bm(u,"POST",(function(e){var t;$m(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(qp){qm(!1)}return qm(ym(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Gm(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Bm(n,"POST",(function(e){var t=$m(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(qp){qm(!1)}n||qm(!1);var i=Number(n);return qm(!isNaN(i)),new Zm(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Gm(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Xm*this._chunkMultiplier,n=new Zm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Jm(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(qp){return e._error=qp,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Xm*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Ym(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Km(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fm(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Cm.getBlob(c,r,l);if(null===f)throw Xp();var h={name:u.fullPath},d=Sm(o,e.host),p=e.maxUploadRetryTime,m=new Bm(d,"POST",zm(e,n),p);return m.urlParams=h,m.headers=a,m.body=f.uploadData(),m.errorHandler=Gm(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$p(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=dm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ev(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(dm(this._state)){case hm.SUCCESS:tv(this._resolve.bind(null,this.snapshot))();break;case hm.CANCELED:case hm.ERROR:tv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(dm(this._state)){case hm.RUNNING:case hm.PAUSED:e.next&&tv(e.next.bind(e,this.snapshot))();break;case hm.SUCCESS:e.complete&&tv(e.complete.bind(e))();break;case hm.CANCELED:case hm.ERROR:default:e.error&&tv(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),rv=function(){function e(e,t){this._service=e,this._location=t instanceof vm?t:vm.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new vm(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return xm(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new vm(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw tm(e)},e}();function iv(e){var t={prefixes:[],items:[]};return ov(e,t).then((function(){return t}))}function ov(e,t,n){return m(this,void 0,void 0,(function(){var r,i,o;return v(this,(function(a){switch(a.label){case 0:return[4,av(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ov(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function av(e,t){return m(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&_m("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Qm(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function sv(e,t){return m(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Sm(t.fullServerUrl(),e.host),o=Fm(n,r),a=e.maxOperationRetryTime,s=new Bm(i,"PATCH",zm(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Wm(t),s}(e.storage,e._location,t,Rm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function uv(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Sm(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Bm(r,"GET",Hm(e,n),i);return o.errorHandler=Wm(t),o}(e.storage,e._location,Rm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Qp("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function cv(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Sm(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Bm(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Wm(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function lv(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vm(e._location.bucket,n);return new rv(e.storage,r)}function fv(e){return/^[A-Za-z]+:\/\//.test(e)}function hv(e,t){if(e instanceof mv){var n=e;if(null==n._bucket)throw new Qp("no-default-bucket","No default bucket found. Did you set the '"+Gp+"' property when initializing the app?");var r=new rv(n,n._bucket);return null!=t?hv(r,t):r}return void 0!==t?lv(e,t):e}function dv(e,t){if(t&&fv(t)){if(e instanceof mv)return new rv(e,t);throw Jp("To use ref(service, url), the first argument must be a Storage instance.")}return hv(e,t)}function pv(e,t){var n=null===t||void 0===t?void 0:t[Gp];return null==n?null:vm.makeFromBucketSpec(n,e)}var mv=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Hp,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Wp,this._maxUploadRetryTime=Yp,this._requests=new Set,this._bucket=null!=i?vm.makeFromBucketSpec(i,this._host):pv(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=vm.makeFromBucketSpec(this._url,e):this._bucket=pv(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){_m("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){_m("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return m(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new rv(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new gm(em());var i=function(e,t,n,r,i,o){var a=Em(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new km(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return m(this,void 0,void 0,(function(){var t,n,r;return v(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function vv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new nv(e,new Cm(t),n)}(e=M(e),t,n)}function gv(e){return function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Ym(e.storage,e._location,Rm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=M(e))}function yv(e,t){return dv(e=M(e),t)}function bv(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:T(i,e.app.options.projectId))}(e,t,n,r)}var wv=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),_v=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new wv(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new wv(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new wv(e,i,i._ref))}:{next:t.next?function(e){return t.next(new wv(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Sv=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Ev(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Ev(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Ev=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return lv(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new _v(vv(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=im.RAW),this._throwIfRoot("putString");var r=am(t,e),i=p({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new _v(new nv(this._delegate,new Cm(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return iv(e=M(e))}(this._delegate).then((function(t){return new Sv(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return av(e=M(e),t)}(this._delegate,e||void 0).then((function(e){return new Sv(e,t.storage)}))},e.prototype.getMetadata=function(){return gv(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return sv(e=M(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return uv(e=M(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return cv(e=M(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw tm(e)},e}(),kv=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(fv(e))throw Jp("ref() expected a child path but got a URL, use refFromURL instead.");return new Ev(yv(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!fv(e))throw Jp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vm.makeFromUrl(e,this._delegate.host)}catch(qp){throw Jp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ev(yv(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),bv(this._delegate,e,t,n)},e}(),Tv="@firebase/storage",Iv="0.7.1",Nv="storage";function Cv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new kv(r,new mv(r,i,o,new mm,n,pe.SDK_VERSION))}!function(e){var t={TaskState:hm,TaskEvent:fm,StringFormat:im,Storage:mv,Reference:Ev};e.INTERNAL.registerComponent(new F(Nv,Cv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Tv,Iv)}(pe);pe.initializeApp({apiKey:"AIzaSyAmxTIbjJQ2oNTHiIzzRDHKp3dwYcdTApw",authDomain:"chitchat-e0a20.firebaseapp.com",databaseURL:"https://chitchat-e0a20.firebaseio.com",projectId:"chitchat-e0a20",storageBucket:"chitchat-e0a20.appspot.com",messagingSenderId:"726805710702",appId:"1:726805710702:web:b37e62497805a74d69e37f",measurementId:"G-3BKPXTLGN0"});var Av=pe.firestore(),xv=pe.storage(),Pv=__webpack_require__(426),Ov=__webpack_require__.n(Pv),Dv=__webpack_require__(984);function Rv(e){return Uv.apply(this,arguments)}function Uv(){return Uv=o(r().mark((function e(t){var n,i,o,a,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:void 0,i=t.target.files[0],o={maxSizeMB:.5,useWebWorker:!0},e.prev=3,e.next=6,(0,Dv.Z)(i,n||o);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),Uv.apply(this,arguments)}var Mv,Fv,Lv=__webpack_require__(184),jv=function(e){var t=e.progress;return(0,Lv.jsxs)("div",{className:"progressContainer",children:[0!==t&&(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("div",{className:"progressTitle",children:"Uploading Image"}),(0,Lv.jsxs)("div",{className:"progressPercentage",children:[t,"%"]})]}),0===t&&(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("div",{className:"progressTitle",children:"Compressing Image"}),(0,Lv.jsx)("div",{className:"progressPercentage",children:"\ud83d\udcbe"})]})]})};function Vv(){return(Vv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bv(e){var t=e.nativeEvent;return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function qv(e){return e.nativeEvent instanceof MouseEvent}function zv(e){return Bv(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:qv(e)?{x:e.pageX,y:e.pageY}:null}!function(e){e.CANCELED_BY_MOVEMENT="canceled-by-movement",e.CANCELED_BY_TIMEOUT="canceled-by-timeout"}(Mv||(Mv={})),function(e){e.BOTH="both",e.MOUSE="mouse",e.TOUCH="touch"}(Fv||(Fv={}));var Hv=function(t){var n=t.imageUrl,r=t.fileName,i=t.messageId,o=function(t,n){var r=void 0===n?{}:n,i=r.threshold,o=void 0===i?400:i,a=r.captureEvent,s=void 0!==a&&a,u=r.detect,c=void 0===u?Fv.BOTH:u,l=r.cancelOnMovement,f=void 0!==l&&l,h=r.filterEvents,d=r.onStart,p=r.onMove,m=r.onFinish,v=r.onCancel,g=(0,e.useRef)(!1),y=(0,e.useRef)(!1),b=(0,e.useRef)(),w=(0,e.useRef)(t),_=(0,e.useRef)(null),S=(0,e.useCallback)((function(e){return function(t){if(!y.current&&(qv(t)||Bv(t))&&(void 0===h||h(t))){_.current=zv(t),s&&t.persist();var n=void 0===e?{}:{context:e};null==d||d(t,n),y.current=!0,b.current=setTimeout((function(){w.current&&(w.current(t,n),g.current=!0)}),o)}}}),[s,h,d,o]),E=(0,e.useCallback)((function(e,t){return function(n){if(qv(n)||Bv(n)){_.current=null,s&&n.persist();var r=void 0===e?{}:{context:e};g.current?null==m||m(n,r):y.current&&(null==v||v(n,Vv({},r,{reason:null!=t?t:Mv.CANCELED_BY_TIMEOUT}))),g.current=!1,y.current=!1,void 0!==b.current&&clearTimeout(b.current)}}}),[s,m,v]),k=(0,e.useCallback)((function(e){return function(t){if(null==p||p(t,{context:e}),f&&_.current){var n=zv(t);if(n){var r=!0===f?25:f,i={x:Math.abs(n.x-_.current.x),y:Math.abs(n.y-_.current.y)};(i.x>r||i.y>r)&&E(e,Mv.CANCELED_BY_MOVEMENT)(t)}}}}),[E,f,p]);return(0,e.useEffect)((function(){return function(){void 0!==b.current&&clearTimeout(b.current)}}),[]),(0,e.useEffect)((function(){w.current=t}),[t]),(0,e.useMemo)((function(){return function(e){var n={onMouseDown:S(e),onMouseMove:k(e),onMouseUp:E(e),onMouseLeave:E(e)},r={onTouchStart:S(e),onTouchMove:k(e),onTouchEnd:E(e)};return null===t?{}:c===Fv.MOUSE?n:c===Fv.TOUCH?r:Vv({},n,r)}}),[t,E,c,k,S])}((function(){navigator.vibrate(200),1==window.confirm("Are you sure to delete the image")&&xv.ref("images").child(r).delete().then((function(){Av.collection("messages").doc(i).delete().then((function(){})).catch((function(e){console.error("Error removing document: ",e)}))}))}),{threshold:500});return(0,Lv.jsx)("div",{children:(0,Lv.jsx)("img",f({className:"chatImage",src:n,alt:"data-".concat(i)},o()))})};var Gv=function(){var t=s((0,e.useState)(""),2),n=t[0],i=t[1],a=s((0,e.useState)(""),2),u=a[0],c=a[1],l=s((0,e.useState)(""),2),h=l[0],d=l[1],p=s((0,e.useState)(!0),2),m=p[0],v=p[1],g=s((0,e.useState)([]),2),y=g[0],b=g[1],w=s((0,e.useState)(!1),2),_=w[0],S=w[1],E=s((0,e.useState)(void 0),2),k=E[0],T=E[1],I=(0,e.useRef)(),N=function(){h.trim()&&Av.collection("messages").add({user:n,message:h,createdAt:Date.now()}).then((function(){d("")}))},C=function(){Av.collection("messages").orderBy("createdAt","desc").limit(100).onSnapshot((function(e){var t=e.docs.map((function(e){return f({id:e.id},e.data())}));b(t)}))},A=function(){var e=o(r().mark((function e(t){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=t.target.files[0].name,T(0),e.next=5,Rv(t);case 5:o=e.sent,xv.ref("images/".concat(i)).put(o).on("state_changes",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(T(Math.ceil(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:return}}),(function(e){T(void 0)}),(function(){xv.ref("images").child(i).getDownloadURL().then((function(e){Av.collection("messages").add({user:n,message:e,createdAt:Date.now(),image:!0,fileName:i})})).finally((function(){return T(void 0)}))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Image Compression failed");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,Lv.jsxs)(Lv.Fragment,{children:[void 0!==k&&(0,Lv.jsx)(jv,{progress:k}),m&&(0,Lv.jsx)("div",{className:"app-container",children:(0,Lv.jsx)("div",{className:"login-section",children:(0,Lv.jsxs)("div",{className:"input-container",children:[(0,Lv.jsx)("input",{type:"text",placeholder:"User Name",value:n,onChange:function(e){return i(e.target.value)}}),(0,Lv.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){return c(e.target.value)}}),(0,Lv.jsxs)("button",{className:"login-button",disabled:_,onClick:function(){S(!0),n&&u&&Av.collection("users").where("user","==",n).where("password","==",u).get().then((function(e){S(!1),e.docs.map((function(e){v(!1),C()}))})).catch((function(e){S(!1)}))},children:["Sign In ",_&&(0,Lv.jsx)("i",{class:"fa fa-spin fa-circle-o-notch","aria-hidden":"true"})]})]})})}),!m&&(0,Lv.jsxs)("div",{className:"chat-container",children:[(0,Lv.jsx)("div",{className:"chat-messages",children:y.map((function(e,t){return(0,Lv.jsx)(Lv.Fragment,{children:(0,Lv.jsxs)("div",{className:e.user==n?"message-bubble me right":"message-bubble them left",children:[(0,Lv.jsx)("span",{className:"message",children:e.image?(0,Lv.jsx)(Hv,{fileName:e.fileName,imageUrl:e.message,messageId:e.id}):e.message}),(0,Lv.jsxs)("div",{className:"time",children:[Ov()(e.createdAt).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",lastWeek:"DD/MM/YYYY",sameElse:"DD/MM/YYYY"}),", ",Ov()(e.createdAt).format("h:mm A")]})]})})}))}),(0,Lv.jsxs)("div",{className:"chat-input",children:[(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("input",{type:"file",ref:I,onChange:A,accept:"image/*"}),(0,Lv.jsx)("i",{class:"fa fa-paperclip attachment",onClick:function(){I.current.click()},"aria-hidden":"true"})]}),(0,Lv.jsx)("input",{type:"text",value:h,onChange:function(e){d(e.target.value)},placeholder:"Type something...",onKeyUp:function(e){"Enter"===e.key&&N()}}),(0,Lv.jsx)("button",{className:"chat-send",onClick:N,children:(0,Lv.jsx)("i",{class:"fa fa-lg fa-paper-plane","aria-hidden":"true"})})]})]})]})},Wv=function(e){e&&e instanceof Function&&__webpack_require__.e(377).then(__webpack_require__.bind(__webpack_require__,377)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,Lv.jsx)(e.StrictMode,{children:(0,Lv.jsx)(Gv,{})}),document.getElementById("root")),Wv()}()})();
//# sourceMappingURL=main.a70ff2b1.js.map